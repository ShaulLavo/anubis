# (Files content cropped to 300k characters, download full ingest to see more)

# FILE: README.md

<div align="center">
  <img src="./media/header_devtools.png" >
</div>

<br />

<div align="center">
<a href="https://npmjs.com/package/@tanstack/devtools" target="\_parent">
  <img alt="" src="https://img.shields.io/npm/dm/@tanstack/react-devtools.svg" />
</a>
<a href="https://github.com/TanStack/devtools" target="\_parent">
	  <img alt="" src="https://img.shields.io/github/stars/TanStack/devtools.svg?style=social&label=Star" alt="GitHub stars" />
</a>
<a href="https://bundlephobia.com/result?p=@tanstack/react-devtools@latest" target="\_parent">
  <img alt="" src="https://badgen.net/bundlephobia/minzip/@tanstack/react-devtools@latest" />
</a>
</div>

<div align="center">
<a href="#badge">
  <img alt="semantic-release" src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg">
</a>
	<a href="#badge">
		<img src="https://img.shields.io/github/v/release/tanstack/devtools" alt="Release"/>
	</a>
<a href="https://twitter.com/tan_stack">
  <img src="https://img.shields.io/twitter/follow/tan_stack.svg?style=social" alt="Follow @TanStack"/>
</a>
</div>

<div align="center">
  
### [Become a Sponsor!](https://github.com/sponsors/tannerlinsley/)
</div>

# TanStack Devtools

A debugging toolkit that provides a unified interface for inspecting, monitoring, and extending your applications.

- Inspect and debug state and behavior in real time
- Works with React, Solid, Vanilla JS, and more
- Extensible plugin architecture with customizable UI
- Seamless integration with TanStack Query, Router, and other libraries

### <a href="https://tanstack.com/devtools">Read the docs →</b></a>

## Get Involved

- We welcome issues and pull requests!
- Participate in [GitHub discussions](https://github.com/TanStack/devtools/discussions)
- Chat with the community on [Discord](https://discord.com/invite/WrRKjPJ)
- See [CONTRIBUTING.md](./CONTRIBUTING.md) for setup instructions

## Partners

<table align="center">
  <tr>
    <td>
      <a href="https://www.coderabbit.ai/?via=tanstack&dub_id=aCcEEdAOqqutX6OS" >
        <picture>
          <source media="(prefers-color-scheme: dark)" srcset="https://tanstack.com/assets/coderabbit-dark-CMcuvjEy.svg" height="40" />
          <source media="(prefers-color-scheme: light)" srcset="https://tanstack.com/assets/coderabbit-light-DVMJ2jHi.svg" height="40" />
          <img src="https://tanstack.com/assets/coderabbit-light-DVMJ2jHi.svg" height="40" alt="CodeRabbit" />
        </picture>
      </a>
    </td>
    <td>
      <a href="https://www.cloudflare.com?utm_source=tanstack">
        <picture>
          <source media="(prefers-color-scheme: dark)" srcset="https://tanstack.com/assets/cloudflare-white-DQDB7UaL.svg" height="60" />
          <source media="(prefers-color-scheme: light)" srcset="https://tanstack.com/assets/cloudflare-black-CPufaW0B.svg" height="60" />
          <img src="https://tanstack.com/assets/cloudflare-black-CPufaW0B.svg" height="60" alt="Cloudflare" />
        </picture>
      </a>
    </td>
  </tr>
</table>

<div align="center">
<img src="./media/partner_logo.svg" alt="Devtools & you?" height="65">
<p>
We're looking for TanStack Devtools Partners to join our mission! Partner with us to push the boundaries of TanStack Devtools and build amazing things together.
</p>
<a href="mailto:partners@tanstack.com?subject=TanStack Devtools Partnership"><b>LET'S CHAT</b></a>
</div>

## Explore the TanStack Ecosystem

- <a href="https://github.com/tanstack/config"><b>TanStack Config</b></a> – Tooling for JS/TS packages
- <a href="https://github.com/tanstack/db"><b>TanStack DB</b></a> – Reactive sync client store
- <a href="https://github.com/tanstack/form"><b>TanStack Form</b></a> – Type‑safe form state
- <a href="https://github.com/tanstack/pacer"><b>TanStack Pacer</b></a> – Debouncing, throttling, batching
- <a href="https://github.com/tanstack/query"><b>TanStack Query</b></a> – Async state & caching
- <a href="https://github.com/tanstack/ranger"><b>TanStack Ranger</b></a> – Range & slider primitives
- <a href="https://github.com/tanstack/router"><b>TanStack Router</b></a> – Type‑safe routing, caching & URL state
- <a href="https://github.com/tanstack/router"><b>TanStack Start</b></a> – Full‑stack SSR & streaming
- <a href="https://github.com/tanstack/store"><b>TanStack Store</b></a> – Reactive data store
- <a href="https://github.com/tanstack/table"><b>TanStack Table</b></a> – Headless datagrids
- <a href="https://github.com/tanstack/virtual"><b>TanStack Virtual</b></a> – Virtualized rendering

… and more at <a href="https://tanstack.com"><b>TanStack.com »</b></a>

<!-- USE THE FORCE LUKE -->

================================================
FILE: CODE_OF_CONDUCT.md
================================================

---

title: Code of Conduct
id: code-of-conduct

---

# Contributor Covenant Code of Conduct

## Our Pledge

In the interest of fostering an open and welcoming environment, we as
contributors and maintainers pledge to making participation in our project and
our community a harassment-free experience for everyone, regardless of age, body
size, disability, ethnicity, sex characteristics, gender identity and expression,
level of experience, education, socio-economic status, nationality, personal
appearance, race, religion, or sexual identity and orientation.

## Our Standards

Examples of behavior that contributes to creating a positive environment
include:

- Using welcoming and inclusive language
- Being respectful of differing viewpoints and experiences
- Gracefully accepting constructive criticism
- Focusing on what is best for the community
- Showing empathy towards other community members

Examples of unacceptable behavior by participants include:

- The use of sexualized language or imagery and unwelcome sexual attention or
  advances
- Trolling, insulting/derogatory comments, and personal or political attacks
- Public or private harassment
- Publishing others' private information, such as a physical or electronic
  address, without explicit permission
- Other conduct which could reasonably be considered inappropriate in a
  professional setting

## Our Responsibilities

Project maintainers are responsible for clarifying the standards of acceptable
behavior and are expected to take appropriate and fair corrective action in
response to any instances of unacceptable behavior.

Project maintainers have the right and responsibility to remove, edit, or
reject comments, commits, code, wiki edits, issues, and other contributions
that are not aligned to this Code of Conduct, or to ban temporarily or
permanently any contributor for other behaviors that they deem inappropriate,
threatening, offensive, or harmful.

## Scope

This Code of Conduct applies both within project spaces and in public spaces
when an individual is representing the project or its community. Examples of
representing a project or community include using an official project e-mail
address, posting via an official social media account, or acting as an appointed
representative at an online or offline event. Representation of a project may be
further defined and clarified by project maintainers.

## Enforcement

Instances of abusive, harassing, or otherwise unacceptable behavior may be
reported by contacting the project team at TANNERLINSLEY@GMAIL.COM. All
complaints will be reviewed and investigated and will result in a response that
is deemed necessary and appropriate to the circumstances. The project team is
obligated to maintain confidentiality with regard to the reporter of an incident.
Further details of specific enforcement policies may be posted separately.

Project maintainers who do not follow or enforce the Code of Conduct in good
faith may face temporary or permanent repercussions as determined by other
members of the project's leadership.

## Attribution

This Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4,
available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html

[homepage]: https://www.contributor-covenant.org

For answers to common questions about this code of conduct, see
https://www.contributor-covenant.org/faq

================================================
FILE: CONTRIBUTING.md
================================================

---

title: Contributing
id: contributing

---

# Contributing

## Questions

If you have questions about implementation details, help or support, then please use our dedicated community forum at [Github Discussions](https://github.com/tanstack/devtools/discussions) **PLEASE NOTE:** If you choose to instead open an issue for your question, your issue will be immediately closed and redirected to the forum.

## Reporting Issues

If you have found what you think is a bug, please [file an issue](https://github.com/tanstack/devtools/issues/new). **PLEASE NOTE:** Issues that are identified as implementation questions or non-issues will be immediately closed and redirected to [Github Discussions](https://github.com/tanstack/devtools/discussions)

## Suggesting new features

If you are here to suggest a feature, first create an issue if it does not already exist. From there, we will discuss use-cases for the feature and then finally discuss how it could be implemented.

## Development

Before proceeding with development, ensure you match one of the following criteria:

- Fixing a small bug
- Fixing a larger issue that has been previously discussed and agreed-upon by maintainers
- Adding a new feature that has been previously discussed and agreed-upon by maintainers

## Development Workflow

- Fork this repository, we prefer the `feat-*` branch name style
- Ensure you have `pnpm` installed
- Install projects dependencies and linkages by running `pnpm install`
- Auto-build and auto-test files as you edit by running `pnpm dev`
- Implement your changes and tests
- To run examples, follow their individual directions. Usually this includes:
  - cd into the example directory
  - Do NOT install dependencies again or do any linking. Nx already handles this for you. Only run install from the project root.
  - Starting the dev server with `pnpm dev` or `pnpm start` (from the example directory)
- To test in your own projects:
  - Build/watch for changes with `pnpm build`/`pnpm dev`
- Document your changes in the appropriate documentation website markdown pages
- Commit your work and open a pull request
- Submit PR for review

## Adding a new example

- Clone an existing example into the appropriate `examples` directory
- Name it the example name in kebab-case
- Update the new example's package.json to match the new example name and any other details
- Check dependencies for unused packages
- Install any additional packages to the example that you may need
- Update the docs/config.json file to include the new example in the navigation sidebar
- Commit the example eg. `docs: Add example-name`

================================================
FILE: eslint.config.js
================================================
// @ts-check

// @ts-ignore Needed due to moduleResolution Node vs Bundler
import { tanstackConfig } from '@tanstack/eslint-config'
import unusedImports from 'eslint-plugin-unused-imports'

export default [
...tanstackConfig,
{
name: 'tanstack/temp',
plugins: {
'unused-imports': unusedImports,
},
rules: {
'no-case-declarations': 'off',
'no-shadow': 'off',
'unused-imports/no-unused-imports': 'warn',
'pnpm/enforce-catalog': 'off',
'pnpm/json-enforce-catalog': 'off',
},
},
]

================================================
FILE: knip.json
================================================
{
"$schema": "https://unpkg.com/knip@5/schema.json",
"ignoreDependencies": ["@faker-js/faker"],
"ignoreWorkspaces": ["examples/**"],
"workspaces": {
"packages/devtools-utils": {
"ignoreDependencies": ["react", "solid-js", "@types/react"],
"entry": ["**/vite.config.solid.ts", "**/src/solid/**"],
"project": ["**/vite.config.solid.ts", "**/src/solid/**"]
},
"packages/solid-devtools": {
"ignore": ["**/core.tsx"]
}
}
}

================================================
FILE: LICENSE
================================================
MIT License

Copyright (c) 2025 TanStack

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

================================================
FILE: nx.json
================================================
{
"$schema": "./node_modules/nx/schemas/nx-schema.json",
"defaultBase": "main",
"nxCloudId": "68d74dda9d18071f643ecda4",
"useInferencePlugins": false,
"parallel": 5,
"namedInputs": {
"sharedGlobals": [
"{workspaceRoot}/.nvmrc",
"{workspaceRoot}/package.json",
"{workspaceRoot}/tsconfig.json"
],
"default": [
"sharedGlobals",
"{projectRoot}/**/*",
"!{projectRoot}/**/*.md"
],
"production": [
"default",
"!{projectRoot}/tests/**/*",
"!{projectRoot}/eslint.config.js"
]
},
"targetDefaults": {
"test:lib": {
"cache": true,
"dependsOn": ["^build"],
"inputs": ["default", "^production"],
"outputs": ["{projectRoot}/coverage"]
},
"test:eslint": {
"cache": true,
"dependsOn": ["^build"],
"inputs": ["default", "^production", "{workspaceRoot}/eslint.config.js"]
},
"test:types": {
"cache": true,
"dependsOn": ["^build"],
"inputs": ["default", "^production"]
},
"test:build": {
"cache": true,
"dependsOn": ["build"],
"inputs": ["production"]
},
"build": {
"cache": true,
"dependsOn": ["^build"],
"inputs": ["production", "^production"],
"outputs": ["{projectRoot}/build", "{projectRoot}/dist"]
},
"test:docs": {
"cache": true,
"inputs": ["{workspaceRoot}/docs/**/*"]
},
"test:knip": {
"cache": true,
"inputs": ["{workspaceRoot}/**/*"]
},
"test:sherif": {
"cache": true,
"inputs": ["{workspaceRoot}/**/package.json"]
}
}
}

================================================
FILE: package.json
================================================
{
"name": "root",
"private": true,
"repository": {
"type": "git",
"url": "git+https://github.com/TanStack/devtools.git"
},
"packageManager": "pnpm@10.24.0",
"type": "module",
"scripts": {
"build": "nx affected --targets=build --exclude=examples/** && size-limit",
"build:all": "nx run-many --targets=build --exclude=examples/** && size-limit",
"build:core": "nx build @tanstack/devtools && size-limit",
"changeset": "changeset",
"changeset:publish": "changeset publish",
"changeset:version": "changeset version && pnpm install --no-frozen-lockfile && pnpm prettier:write",
"clean": "find . -name 'dist' -type d -prune -exec rm -rf {} +",
"clean:node_modules": "find . -name 'node_modules' -type d -prune -exec rm -rf {} +",
"clean:all": "pnpm run clean && pnpm run clean:node_modules",
"dev": "pnpm run watch",
"format": "pnpm run prettier:write",
"generate-docs": "node scripts/generate-docs.ts",
"lint:fix": "nx affected --target=lint:fix --exclude=examples/**",
"lint:fix:all": "pnpm run format && nx run-many --targets=lint --fix",
"preinstall": "node -e \"if(process.env.CI == 'true') {console.log('Skipping preinstall...'); process.exit(1)}\" || npx -y only-allow pnpm",
"prettier": "prettier --ignore-unknown '**/_'",
"prettier:write": "pnpm run prettier --write",
"size": "size-limit",
"test": "pnpm run test:ci",
"test:build": "nx affected --target=test:build --exclude=examples/**",
"test:ci": "nx run-many --targets=test:format,test:eslint,test:sherif,test:knip,test:lib,test:types,test:build,build",
"test:docs": "node scripts/verify-links.ts",
"test:eslint": "nx affected --target=test:eslint --exclude=examples/**",
"test:format": "pnpm run prettier --check",
"test:knip": "knip",
"test:lib": "nx affected --targets=test:lib --exclude=examples/**",
"test:lib:dev": "pnpm test:lib && nx watch --all -- pnpm test:lib",
"test:pr": "nx affected --targets=test:format,test:eslint,test:sherif,test:knip,test:lib,test:types,test:build,build",
"test:sherif": "sherif",
"test:types": "nx affected --targets=test:types --exclude=examples/**",
"watch": "pnpm run build:all && nx watch --all -- pnpm run build:all"
},
"nx": {
"includedScripts": [
"test:docs",
"test:knip",
"test:sherif"
]
},
"size-limit": [
{
"path": "packages/devtools/dist/index.js",
"limit": "60 KB"
},
{
"path": "packages/event-bus-client/dist/esm/plugin.js",
"limit": "1.2 KB"
}
],
"devDependencies": {
"@changesets/cli": "^2.29.7",
"@faker-js/faker": "^9.9.0",
"@size-limit/preset-small-lib": "^11.2.0",
"@svitejs/changesets-changelog-github-compact": "^1.2.0",
"@tanstack/eslint-config": "0.3.2",
"@tanstack/typedoc-config": "0.2.1",
"@tanstack/vite-config": "0.2.1",
"@testing-library/jest-dom": "^6.8.0",
"@types/node": "^22.15.2",
"eslint": "^9.36.0",
"eslint-plugin-unused-imports": "^4.2.0",
"jsdom": "^27.0.0",
"knip": "^5.64.0",
"markdown-link-extractor": "^4.0.2",
"nx": "22.1.3",
"premove": "^4.0.0",
"prettier": "^3.6.2",
"prettier-plugin-svelte": "^3.4.0",
"publint": "^0.3.13",
"sherif": "^1.7.0",
"size-limit": "^11.2.0",
"tinyglobby": "^0.2.15",
"typescript": "~5.9.2",
"vite": "^7.1.7",
"vitest": "^3.2.4"
},
"overrides": {
"@tanstack/devtools": "workspace:_",
"@tanstack/react-devtools": "workspace:_",
"@tanstack/preact-devtools": "workspace:_",
"@tanstack/solid-devtools": "workspace:_",
"@tanstack/devtools-vite": "workspace:_"
}
}

================================================
FILE: pnpm-workspace.yaml
================================================
cleanupUnusedCatalogs: true
linkWorkspacePackages: true
preferWorkspacePackages: true

packages:

- examples/\*_/_
- packages/\*

================================================
FILE: prettier.config.js
================================================
// @ts-check

/\*_ @type {import('prettier').Config} _/
const config = {
semi: false,
singleQuote: true,
trailingComma: 'all',
plugins: ['prettier-plugin-svelte'],
overrides: [{ files: '*.svelte', options: { parser: 'svelte' } }],
}

export default config

================================================
FILE: tsconfig.json
================================================
{
"$schema": "https://json.schemastore.org/tsconfig",
"compilerOptions": {
"allowJs": true,
"allowSyntheticDefaultImports": true,
"allowUnreachableCode": false,
"allowUnusedLabels": false,
"checkJs": true,
"declaration": true,
"esModuleInterop": true,
"forceConsistentCasingInFileNames": true,
"isolatedModules": true,
"lib": ["DOM", "DOM.Iterable", "ES2022"],
"module": "ESNext",
"moduleResolution": "Bundler",
"noEmit": true,
"noImplicitReturns": true,
"noUncheckedIndexedAccess": true,
"noUnusedLocals": true,
"noUnusedParameters": true,
"resolveJsonModule": true,
"skipLibCheck": true,
"strict": true,
"target": "ES2020",
"noErrorTruncation": true
},
"include": [
"prettier.config.js",
"scripts",
"eslint.config.js",
"vitest.workspace.js"
]
}

================================================
FILE: vitest.workspace.js
================================================
import { defineWorkspace } from 'vitest/config'

export default defineWorkspace([
'./packages/devtools/vite.config.ts',
'./packages/react-devtools/vite.config.ts',
'./packages/preact-devtools/vite.config.ts',
'./packages/solid-devtools/vite.config.ts',
])

================================================
FILE: docs/config.json
================================================
{
"$schema": "https://raw.githubusercontent.com/TanStack/tanstack.com/main/tanstack-docs-config.schema.json",
"docSearch": {
"appId": "",
"apiKey": "",
"indexName": "tanstack-devtools"
},
"sections": [
{
"label": "Getting Started",
"children": [
{
"label": "Overview",
"to": "overview"
},
{
"label": "Quick Start",
"to": "quick-start"
},
{
"label": "Configuration",
"to": "configuration"
},
{
"label": "Plugin Configuration",
"to": "plugin-configuration"
},
{
"label": "Installation",
"to": "installation"
},
{
"label": "Vite plugin",
"to": "vite-plugin"
},
{
"label": "Third party plugins",
"to": "third-party-plugins"
},
{
"label": "Production",
"to": "production"
}
],
"frameworks": [
{
"label": "react",
"children": [
{
"label": "Basic setup",
"to": "framework/react/basic-setup"
},
{
"label": "React adapter",
"to": "framework/react/adapter"
}
]
},
{
"label": "preact",
"children": [
{
"label": "Basic setup",
"to": "framework/preact/basic-setup"
},
{
"label": "Preact adapter",
"to": "framework/preact/adapter"
}
]
},
{
"label": "solid",
"children": [
{
"label": "Basic setup",
"to": "framework/solid/basic-setup"
},
{
"label": "Solid Adapter",
"to": "framework/solid/adapter"
}
]
}
]
},
{
"label": "Guides",
"children": [],
"frameworks": [
{
"label": "react",
"children": [
{
"label": "Custom plugins",
"to": "framework/react/guides/custom-plugins"
}
]
},
{
"label": "preact",
"children": [
{
"label": "Custom plugins",
"to": "framework/preact/guides/custom-plugins"
}
]
},
{
"label": "solid",
"children": []
}
]
},
{
"label": "API Reference",
"children": [
{
"label": "Core API Reference",
"to": "reference/index"
}
],
"frameworks": [
{
"label": "react",
"children": [
{
"label": "React Hooks",
"to": "framework/react/reference/index"
}
]
},
{
"label": "preact",
"children": [
{
"label": "Preact Hooks",
"to": "framework/preact/reference/index"
}
]
},
{
"label": "solid",
"children": [
{
"label": "Solid Hooks",
"to": "framework/solid/reference/index"
}
]
}
]
},
{
"label": "Examples",
"children": [],
"frameworks": [
{
"label": "react",
"children": [
{
"label": "Basic",
"to": "framework/react/examples/basic"
},
{
"label": "TanStack Start",
"to": "framework/react/examples/start"
},
{
"label": "Custom devtools",
"to": "framework/react/examples/custom-devtools"
}
]
},
{
"label": "preact",
"children": [
{
"label": "Basic",
"to": "framework/preact/examples/basic"
},
{
"label": "Custom devtools",
"to": "framework/preact/examples/custom-devtools"
}
]
},
{
"label": "solid",
"children": [
{
"label": "Basic",
"to": "framework/solid/examples/basic"
}
]
}
]
}
]
}

================================================
FILE: docs/configuration.md
================================================

---

title: Configuration
id: configuration

---

Both TanStack `DevTools` and `EventClient` can be configured.

> [!IMPORTANT]
> All configuration is optional unless marked (required)

## Devtools Component Configuration

The `Devtools` component has two configuration props, regardless of Frameworks these are the same.

- `config` - Configuration for the devtool panel and interaction with it.
- `eventBusConfig` - Configuration for the event bus.

The `config` object is mainly focused around user interaction with the devtools panel and accepts the following properties:

- `defaultOpen` - If the devtools are open by default

```ts
{
	defaultOpen: boolean
}
```

- `hideUntilHover` - Hides the TanStack devtools trigger until hovered

```ts
{
	hideUntilHover: boolean
}
```

- `position` - The position of the TanStack devtools trigger

```ts
{
	position: 'top-left' |
		'top-right' |
		'bottom-left' |
		'bottom-right' |
		'middle-left' |
		'middle-right'
}
```

- `panelLocation` - The location of the devtools panel

```ts
{
	panelLocation: 'top' | 'bottom'
}
```

- `openHotkey` - The hotkey set to open the devtools

```ts
type ModifierKey = 'Alt' | 'Control' | 'Meta' | 'Shift' | 'CtrlOrMeta'
type KeyboardKey = ModifierKey | (string & {})

{
	openHotkey: Array<KeyboardKey>
}
```

- `inspectHotkey` - The hotkey set to open the source inspector

```ts
type ModifierKey = 'Alt' | 'Control' | 'Meta' | 'Shift' | 'CtrlOrMeta'
type KeyboardKey = ModifierKey | (string & {})

{
	inspectHotkey: Array<KeyboardKey>
}
```

- `requireUrlFlag` - Requires a flag present in the url to enable devtools

```ts
{
	requireUrlFlag: boolean
}
```

- `triggerImage` - The image used for the dev tools trigger

```ts
{
	triggerImage: string
}
```

- `urlFlag` - The required flag that must be present in the url to enable devtools.

```ts
{
	urlFlag: string
}
```

The `eventBusConfig` is configuration for the back bone of the devtools, the `EventClient`, and accepts the following properties:

- `debug` - Enables debug mode for the EventBus

```ts
{
	debug: boolean
}
```

- `connectToServerBus` - Optional flag to indicate if the devtools server event bus is available to connect to

```ts
{
	connectToServerBus: boolean
}
```

- `port` - The port at which the client connects to the devtools server event bus

```ts
{
	port: number
}
```

Put together here is an example in react:

```tsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { FormDevtools } from '@tanstack/react-form'

import { TanStackDevtools } from '@tanstack/react-devtools'

import App from './App'

createRoot(document.getElementById('root')!).render(
	<StrictMode>
		<App />

		<TanStackDevtools
			config={{ hideUntilHover: true }}
			eventBusConfig={{ debug: true }}
			plugins={[
				{
					name: 'TanStack Form',
					render: <FormDevtools />,
					defaultOpen: true,
				},
			]}
		/>
	</StrictMode>
)
```

## EventClient Configuration

Configuration for the `EventClient` is as follows

- `pluginId` (required) - The plugin identifier used by the event bus to direct events to listeners

```ts
{
	pluginId: string
}
```

- `debug` - Enables debug mode for the EventClient

```ts
{
	debug: boolean
}
```

Put together the `EventClient` configuration looks like:

```tsx
import { EventClient } from '@tanstack/devtools-event-client'

type EventMap = {
	'custom-devtools:custom-state': { state: string }
}

class customEventClient extends EventClient<EventMap> {
	constructor() {
		super({
			debug: true,
			pluginId: 'custom-devtools',
		})
	}
}
```

More information about EventClient configuration can be found in our [custom-plugins example](https://tanstack.com/devtools/latest/docs/framework/react/examples/custom-devtools)

================================================
FILE: docs/installation.md
================================================

---

title: Installation
id: installation

---

You can install TanStack Devtools with any [NPM](https://npmjs.com) package manager.

Only install one of the following packages depending on your use case:

## React

```sh
npm install -D @tanstack/react-devtools
npm install -D @tanstack/devtools-vite
```

TanStack Devtools is compatible with React v16.8+

## Solid

```sh
npm install -D @tanstack/solid-devtools
npm install -D @tanstack/devtools-vite
```

TanStack Devtools is compatible with Solid v1.9.5+

## Vanilla JS

```sh
npm install -D @tanstack/devtools
```

Install the the core `@tanstack/devtools` package to use with any framework or without a framework. Each framework package up above will also re-export everything from this core package.

## Production Builds

If you want to have the devtools in production builds, you can install the core `@tanstack/devtools` package as a regular dependency:

```sh
npm install @tanstack/devtools
npm install -D @tanstack/devtools-vite
```

Read more about using the devtools in production in our [Production docs](./production.md).

================================================
FILE: docs/overview.md
================================================

---

title: Overview
id: overview

---

TanStack Devtools is a framework-agnostic devtool for managing and debugging _your devtools_.

We offer you all the tools you need to build and maintain your own devtools with ease.

We will continue to improve and expand the capabilities of TanStack Devtools, so you can focus on building great applications while we take care of the heavy lifting. We offer you an easy way
to add your own custom devtools and merge multiple instances of TanStack Devtools into a single cohesive experience.

> [!IMPORTANT]
> TanStack Devtools is currently in **alpha** and its API is subject to change.

## Origin

Have you ever wanted to build your own devtools? Then you start work on them, and you realize how complex and time-consuming it can be. First of all, you have to deal with the dreaded z-indexes!
Create the trigger, make sure you can move it, style the panel, handle the interactions, make sure
it's not getting in the way... The list keeps going on, and you're just trying to build your
next feature in half the time!

Well, that's where TanStack Devtools comes in. We provide a solid foundation for building your own devtools, so you can focus on what matters most: your application. We provide everything you need
out of the box and all you have to do is plug the simple custom devtool panel into your app!

## Key Features

- **Framework Agnostic**: Works with any framework or library.
- **Customizable**: Easily add your own devtools and plugins.
- **Lightweight**: Minimal impact on your application's performance.
- **Easy to Use**: Plug and play with your existing setup.

================================================
FILE: docs/plugin-configuration.md
================================================

---

title: Plugin Configuration
id: plugin-configuration

---

# Plugin Configuration

You can configure TanStack Devtools plugins by passing them as an array to the `plugins` prop of the `TanStackDevtools` component.

Each plugin can have the following configuration options:

- `name` (required) - A name to be displayed in the devtools UI.
- `render` (required) - A React component that renders the plugin's UI.
- `defaultOpen` (optional) - A boolean that determines if the plugin panel is open by default (default: false).
- `id` (optional) - A unique identifier for the plugin. If not provided, a random id will be generated.

Here's an example of how to configure plugins in the `TanStackDevtools` component:

```tsx
import { TanStackDevtools } from '@tanstack/react-devtools'
import { FormDevtools } from '@tanstack/react-form-devtools'

function App() {
	return (
		<>
			<YourApp />
			<TanStackDevtools
				plugins={[
					{
						name: 'TanStack Form',
						render: <FormDevtools />,
						defaultOpen: true,
					},
				]}
			/>
		</>
	)
}
```

## Default open

You can set a plugin to be open by default by setting the `defaultOpen` property to `true` when configuring the plugin. This will make the plugin panel open when the devtools are first loaded.

If you only have 1 plugin it will automatically be opened regardless of the `defaultOpen` setting.

The limit to open plugins is at 3 panels at a time. If more than 3 plugins are set to `defaultOpen: true`, only the first 3 will be opened.

This does not override the settings saved in localStorage. If you have previously opened the plugin panel, and selected some plugins to be open or closed, those settings will take precedence over the `defaultOpen` setting.

================================================
FILE: docs/production.md
================================================

---

title: Production
id: production

---

The whole point of devtools is to help you during development, so it's generally not recommended to include them in production builds, but if you know what you're doing, you can.

## Vite Plugin Configuration

The default behavior of the Vite plugin is to remove all devtools related code from the production build. This is usually what you want, but if you want to keep the devtools in production (not recommended) you can set the `removeDevtoolsOnBuild` option to `false`.

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			removeDevtoolsOnBuild: false,
		}),
		// ... rest of your plugins here
	],
}
```

This will include the devtools and all it's plugins in the production build.

## Excluding Devtools from Production on non-vite projects

If you're running devtools in a non-vite project you will have to manually exclude the devtools from your production build. You can do this by using environment variables or any other method you prefer.

We would recommend you create a separate file for the devtools import and then conditionally import that file in your main application file depending on the environment.

Here's an example using environment variables:

```tsx
// devtools-setup.tsx
import { TanStackDevtools } from '@tanstack/react-devtools'

export default function Devtools() {
	return (
		<TanStackDevtools
			plugins={
				[
					// Add your custom plugins here
				]
			}
		/>
	)
}

// App.tsx
const Devtools =
	process.env.NODE_ENV === 'development'
		? await import('./devtools-setup')
		: () => null

function App() {
	return (
		<>
			<YourApp />
			<Devtools />
		</>
	)
}
```

## Where to install the Devtools

If you are using the devtools in development only, you can install them as a development dependency and only import them in development builds. This is the default recommended way to use the devtools.

If you are using the devtools in production, you need to install them as a regular dependency and import them in your application code.

This depends on if you are shedding development dependencies in production or not, but generally it's recommended to install them as a regular dependency if you are using them in production.

## Development / Production workflow

For Development, you can install the devtools as a development dependency and import them in your application code. The Vite plugin will take care of stripping them out of the production build.

For Production, you can install the devtools as a regular dependency and import them in your application code using the `/production` sub-export and then you also need to set `removeDevtoolsOnBuild` to `false` in the Vite plugin configuration.

================================================
FILE: docs/quick-start.md
================================================

---

title: Quick Start
id: quick-start

---

TanStack Devtools is a framework-agnostic devtool for managing and debugging _devtool devtools_

To get up and running install the correct adapter for your framework:

- **React**: `npm install @tanstack/react-devtools @tanstack/devtools-vite`
- **Solid**: `npm install @tanstack/solid-devtools @tanstack/devtools-vite`

Then import the devtools into the root of your application:

```javascript
import { TanStackDevtools } from '@tanstack/react-devtools'

function App() {
	return (
		<>
			<YourApp />
			<TanStackDevtools />
		</>
	)
}
```

And plug the vite plugin as the first plugin in your plugin array in `vite.config.ts`:

```javascript
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools(),
		// ... rest of your plugins here
	],
}
```

And you're done! If you want to add custom plugins, you can do so by using the `plugins` prop:

```javascript
import { TanStackDevtools } from '@tanstack/react-devtools'

function App() {
	return (
		<>
			<YourApp />
			<TanStackDevtools
				plugins={
					[
						// Add your custom plugins here
					]
				}
			/>
		</>
	)
}
```

For example, if you want to add TanStack query & router you could do so in the following way:

```javascript
import { TanStackDevtools } from '@tanstack/react-devtools'
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'

function App() {
	return (
		<QueryClientProvider client={queryClient}>
			<YourApp />
			<TanStackDevtools
				plugins={[
					{
						name: 'TanStack Query',
						render: <ReactQueryDevtoolsPanel />,
						defaultOpen: true,
					},
					{
						name: 'TanStack Router',
						render: <TanStackRouterDevtoolsPanel />,
						defaultOpen: false,
					},
				]}
			/>
		</QueryClientProvider>
	)
}
```

================================================
FILE: docs/third-party-plugins.md
================================================

---

title: Third-party Plugins
id: third-party-plugins

---

While TanStack offers a suite of first-party plugins, we also want to open the doors to third-party developers. Hence, we created the marketplace.
To be included in the marketplace registry, submit a PR to the [TanStack/devtools](https://github.com/TanStack/devtools) repository.

## Inclusion in the Marketplace

To add your plugin, submit the required information to the following file:
[`packages/devtools/src/tabs/plugin-registry.ts`](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/tabs/plugin-registry.ts)

### Example Entry

```tsx
'@tanstack/react-pacer-devtools': {
  packageName: '@tanstack/react-pacer-devtools',
  title: 'Pacer Devtools',
  description: 'Monitor and debug your Pacer animations and transitions',
  requires: {
    packageName: '@tanstack/react-pacer',
    minVersion: '0.16.4',
  },
  author: 'TanStack',
  framework: 'react',
  tags: ['TanStack'],
},
```

## Pull Request Format

As shown in the example above, the registry is an object with the following structure:

**Key** – Your package name

```tsx
'@tanstack/react-pacer-devtools': { PluginMetadata }
```

**Value** – An object of type `PluginMetadata` with the following properties:

- **`packageName`** – The package’s name on npm

```ts
{
	packageName: string
}
```

- **`title`** – The title of the plugin card

```ts
{
	title: string
}
```

- **`description`** – A short description of your devtools _(optional)_

```ts
{ description?: string }
```

- **`logoUrl`** – The URL of the plugin’s logo _(optional)_

```ts
{ logoUrl?: string }
```

- **`requires`** – An object containing the dependencies of your devtools _(optional)_

  ```ts
  requires?: {
    /** Required package name (e.g., '@tanstack/react-query') */
    packageName: string
    /** Minimum required version (semver) */
    minVersion: string
    /** Maximum version (if there’s a known breaking change) */
    maxVersion?: string
  }
  ```

- **`pluginImport`** – An object containing plugin import details _(optional)_

```ts
pluginImport?: {
  /** The exact name to import from the package (e.g., 'FormDevtoolsPlugin' or 'ReactQueryDevtoolsPanel') */
  importName: string
  /** Whether this is a JSX component or a function returning a plugin */
  type: 'jsx' | 'function'
}
```

- **`pluginId`** – A string representing a custom plugin ID _(optional)_

```ts
{ pluginId?: string }
```

- **`docsUrl`** – The URL to your plugin’s documentation _(optional)_

```ts
{ docsUrl?: string }
```

- **`author`** – The author’s name for credit _(optional)_

```ts
{ author?: string }
```

- **`repoUrl`** – The URL of the plugin’s repository _(optional)_

```ts
{ repoUrl?: string }
```

- **`framework`** – The framework supported by the plugin

```ts
{ framework?: 'react' | 'solid' | 'vue' | 'svelte' | 'angular' | 'other' }
```

- **`tags`** – Tags for filtering and categorization

```ts
{ tags?: string[] }
```

## Submitting Multiple Plugins

You can submit multiple plugins if you provide devtools for different frameworks.
For example, using the Pacer plugin from earlier, you might include a Solid version as well:

```tsx
'@tanstack/react-pacer-devtools': {
  packageName: '@tanstack/react-pacer-devtools',
  title: 'Pacer Devtools',
  description: 'Monitor and debug your Pacer animations and transitions',
  requires: {
    packageName: '@tanstack/react-pacer',
    minVersion: '0.16.4',
  },
  author: 'TanStack',
  framework: 'react',
  tags: ['TanStack'],
},
'@tanstack/solid-pacer-devtools': {
  packageName: '@tanstack/solid-pacer-devtools',
  title: 'Pacer Devtools',
  description: 'Monitor and debug your Pacer animations and transitions',
  requires: {
    packageName: '@tanstack/solid-pacer',
    minVersion: '0.14.4',
  },
  author: 'TanStack',
  framework: 'solid',
  tags: ['TanStack'],
},
```

## Featured Plugins

The TanStack Marketplace includes a _Featured_ section for official partners of the TanStack organization and select library authors we collaborate with.

To request inclusion, send an email to <partners+devtools@tanstack.com>.

================================================
FILE: docs/vite-plugin.md
================================================

---

title: Vite Plugin
id: vite-plugin

---

The Vite Plugin for TanStack Devtools provides a seamless integration for using the devtools in your Vite-powered applications. With this plugin, you get complementary features on top of the
existing features built into the devtools like better console logs, server event bus, and enhanced debugging capabilities.

## Installation

To add the devtools vite plugin you need to install it as a development dependency:

```sh
npm install -D @tanstack/devtools-vite
```

Then add it as the _FIRST_ plugin in your Vite config:

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools(),
		// ... rest of your plugins here
	],
}
```

And you're done!

## Configuration

You can configure the devtools plugin by passing options to the `devtools` function:

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			// options here
		}),
		// ... rest of your plugins here
	],
}
```

### eventBusConfig

Configuration for the event bus that the devtools use to communicate with the client

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			eventBusConfig: {
				// port to run the event bus on
				port: 1234,
				// console log debug logs or not
				debug: false,
				// enables the server event bus (defaults to true), you can disable it if you're running devtools in something like storybook or vitest
				enabled: true,
			},
		}),
		// ... rest of your plugins here
	],
}
```

### editor

> [!IMPORTANT]
> `editor` is used as an escape hatch to implement your own go-to-source functionality if your system/editor does not work OOTB. We use `launch-editor` under the hood which supports a lot of editors but not all. If your editor is not supported you can implement your own version here. Here is the list of supported editors: https://github.com/yyx990803/launch-editor?tab=readme-ov-file#supported-editors

The open in editor configuration which has two fields, `name` and `open`,
`name` is the name of your editor, and `open` is a function that opens the editor with the given file and line number. You can implement your version for your editor as follows:

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			editor: {
				name: 'VSCode',
				open: async (path, lineNumber, columnNumber) => {
					const { exec } = await import('node:child_process')
					exec(
						// or windsurf/cursor/webstorm
						`code -g "${path.replaceAll('$', '\\$')}${lineNumber ? `:${lineNumber}` : ''}${columnNumber ? `:${columnNumber}` : ''}"`
					)
				},
			},
		}),
		// ... rest of your plugins here
	],
}
```

### enhancedLogs

Configuration for enhanced logging. Defaults to enabled.

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			enhancedLogs: {
				enabled: true,
			},
		}),
		// ... rest of your plugins here
	],
}
```

### removeDevtoolsOnBuild

Whether to remove devtools from the production build. Defaults to true.

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			removeDevtoolsOnBuild: true,
		}),
		// ... rest of your plugins here
	],
}
```

### logging

Whether to log information to the console. Defaults to true.

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			logging: true,
		}),
		// ... rest of your plugins here
	],
}
```

### injectSource

Configuration for source injection. Defaults to enabled.

```ts
import { devtools } from '@tanstack/devtools-vite'

export default {
	plugins: [
		devtools({
			injectSource: {
				enabled: true,
				ignore: {
					// files to ignore source injection for
					files: ['node_modules', /.*\.test\.(js|ts|jsx|tsx)$/],
					// components to ignore source injection for
					components: ['YourComponent', /.*Lazy$/],
				},
			},
		}),
		// ... rest of your plugins here
	],
}
```

## Features

### Go to source

Allows you to open the source location on anything in your browser by clicking on it.

To trigger this behavior you need the Devtools Vite plugin installed and configured and
the Panel available on the page. Simply click on any element while holding down the Shift and Ctrl (or Meta) keys.

### Advanced console logs

Allows you to go directly to the console log location directly from the browser/terminal

================================================
FILE: docs/framework/preact/adapter.md
================================================

---

title: TanStack Devtools Preact Adapter
id: adapter

---

If you are using TanStack Devtools in a Preact application, we recommend using the Preact Adapter. The Preact Adapter provides a set of easy-to-use hooks on top of the core Devtools utilities. If you find yourself wanting to use the core Devtools classes/functions directly, the Preact Adapter will also re-export everything from the core package.

## Installation

```sh
npm install @tanstack/preact-devtools
```

## Preact Hooks

TODO

================================================
FILE: docs/framework/preact/basic-setup.md
================================================

---

title: Basic setup
id: basic-setup

---

TanStack devtools provides you with an easy to use and modular client that allows you to compose multiple devtools into one easy to use panel.

## Setup

Install the [TanStack Devtools](https://www.npmjs.com/package/@tanstack/preact-devtools) library, this will install the devtools core as well as provide you framework specific adapters.

```bash
npm i @tanstack/preact-devtools
```

Next in the root of your application import the `TanStackDevtools` from the required framework adapter (in this case @tanstack/preact-devtools).

```tsx
import { TanStackDevtools } from '@tanstack/preact-devtools'
import { render } from 'preact'

import App from './App'

render(
	<>
		<App />

		<TanStackDevtools />
	</>,
	document.getElementById('root')!
)
```

Import the desired devtools and provide it to the `TanStackDevtools` component along with a label for the menu.

Currently TanStack offers:

- `QueryDevtools`
- `RouterDevtools`
- `PacerDevtools`
- `FormDevtools` [coming soon](https://github.com/TanStack/form/pull/1692)

```tsx
import { render } from 'preact'

import { TanStackDevtools } from '@tanstack/preact-devtools'

import App from './App'

render(
	<>
		<App />

		<TanStackDevtools
			plugins={[
				{
					name: 'Your Plugin',
					render: <YourPluginComponent />,
				},
			]}
		/>
	</>,
	document.getElementById('root')!
)
```

Finally add any additional configuration you desire to the `TanStackDevtools` component, more information can be found under the [TanStack Devtools Configuration](../../configuration.md) section.

A complete working example can be found in our [basic example](https://tanstack.com/devtools/latest/docs/framework/preact/examples/basic).

================================================
FILE: docs/framework/preact/guides/custom-plugins.md
================================================

---

title: Custom plugins
id: custom-plugins

---

TanStack devtools allows you to create your own custom plugins by emitting and listening to our event bus.

## Prerequisite

This guide will walk you through a simple example where our library is a counter with a count history. A working example can be found in our [custom-plugin example](https://tanstack.com/devtools/latest/docs/framework/preact/examples/custom-devtools).

This is our library code:

counter.ts

```tsx
export function createCounter() {
	let count = 0
	const history = []

	return {
		getCount: () => count,
		increment: () => {
			count++
			history.push(count)
		},
		decrement: () => {
			count--
			history.push(count)
		},
	}
}
```

## Event Client Setup

Install the [TanStack Devtools Event Client](https://www.npmjs.com/package/@tanstack/devtools-event-client) utils.

```bash
npm i @tanstack/devtools-event-client
```

First you will need to setup the `EventClient`.

eventClient.ts

```tsx
import { EventClient } from '@tanstack/devtools-event-client'

type EventMap = {
	// The key of the event map is a combination of {pluginId}:{eventSuffix}
	// The value is the expected type of the event payload
	'custom-devtools:counter-state': { count: number; history: number[] }
}

class CustomEventClient extends EventClient<EventMap> {
	constructor() {
		super({
			// The pluginId must match that of the event map key
			pluginId: 'custom-devtools',
		})
	}
}

// This is where the magic happens, it'll be used throughout your application.
export const DevtoolsEventClient = new CustomEventClient()
```

## Event Client Integration

Now we need to hook our `EventClient` into the application code. This can be done in many way's, a useEffect that emits the current state, or a subscription to an observer, all that matters is that when you want to emit the current state you do the following.

Our new library code will looks as follows:

counter.ts

```tsx
import { DevtoolsEventClient } from './eventClient.ts'

export function createCounter() {
	let count = 0
	const history: Array<number> = []

	return {
		getCount: () => count,
		increment: () => {
			count++
			history.push(count)

			// The emit eventSuffix must match that of the EventMap defined in eventClient.ts
			DevtoolsEventClient.emit('counter-state', {
				count,
				history,
			})
		},
		decrement: () => {
			count--
			history.push(count)

			DevtoolsEventClient.emit('counter-state', {
				count,
				history,
			})
		},
	}
}
```

> [!IMPORTANT]
> `EventClient` is framework agnostic so this process will be the same regardless of framework or even in vanilla JavaScript.

## Consuming The Event Client

Now we need to create our devtools panel, for a simple approach write the devtools in the framework that the adapter is, be aware that this will make the plugin framework specific.

> Because TanStack is framework agnostic we have taken a more complicated approach that will be explained in coming docs (if framework agnosticism is not a concern to you, you can ignore this).

DevtoolsPanel.tsx

```tsx
import { useEffect, useState } from 'preact/hooks'
import { DevtoolsEventClient } from './eventClient.ts'

export function DevtoolPanel() {
	const [state, setState] = useState<
		{ count: number; history: number[] } | undefined
	>()

	useEffect(() => {
		// subscribe to the emitted event
		const cleanup = DevtoolsEventClient.on('counter-state', (e) =>
			setState(e.payload)
		)
		return cleanup
	}, [])

	return (
		<div>
			<div>{state?.count}</div>
			<div>{JSON.stringify(state?.history)}</div>
		</div>
	)
}
```

## Application Integration

This step follows what's shown in [basic-setup](../basic-setup.md) for a more documented guide go check it out. As well as the complete [custom-devtools example](https://tanstack.com/devtools/latest/docs/framework/preact/examples/custom-devtools) in our examples section.

Main.tsx

```tsx
import { render } from 'preact'
import { DevtoolPanel } from './DevtoolPanel'

render(
	<>
		<App />

		<TanStackDevtools
			plugins={[
				{
					// Name it what you like, this is how it will appear in the Menu
					name: 'Custom devtools',
					render: <DevtoolPanel />,
				},
			]}
		/>
	</>,
	document.getElementById('root')!
)
```

## Debugging

Both the `TanStackDevtools` component and the TanStack `EventClient` come with built in debug mode which will log to the console the emitted event as well as the EventClient status.

TanStackDevtool's debugging mode can be activated like so:

```tsx
<TanStackDevtools
	eventBusConfig={{ debug: true }}
	plugins={[
		{
			// call it what you like, this is how it will appear in the Menu
			name: 'Custom devtools',
			render: <DevtoolPanel />,
		},
	]}
/>
```

Where as the EventClient's debug mode can be activated by:

```tsx
class CustomEventClient extends EventClient<EventMap> {
	constructor() {
		super({
			pluginId: 'custom-devtools',
			debug: true,
		})
	}
}
```

Activating the debug mode will log to the console the current events that emitter has emitted or listened to. The EventClient will have appended `[tanstack-devtools:${pluginId}]` and the client will have appended `[tanstack-devtools:client-bus]`.

Heres an example of both:

```
🌴 [tanstack-devtools:client-bus] Initializing client event bus

🌴 [tanstack-devtools:custom-devtools-plugin] Registered event to bus custom-devtools:counter-state
```

================================================
FILE: docs/framework/react/adapter.md
================================================

---

title: TanStack Devtools React Adapter
id: adapter

---

If you are using TanStack Devtools in a React application, we recommend using the React Adapter. The React Adapter provides a set of easy-to-use hooks on top of the core Devtools utilities. If you find yourself wanting to use the core Devtools classes/functions directly, the React Adapter will also re-export everything from the core package.

## Installation

```sh
npm install @tanstack/react-devtools
```

## React Hooks

TODO

================================================
FILE: docs/framework/react/basic-setup.md
================================================

---

title: Basic setup
id: basic-setup

---

TanStack devtools provides you with an easy to use and modular client that allows you to compose multiple devtools into one easy to use panel.

## Setup

Install the [TanStack Devtools](https://www.npmjs.com/package/@tanstack/react-devtools) library, this will install the devtools core as well as provide you framework specific adapters.

```bash
npm i @tanstack/react-devtools
```

Next in the root of your application import the `TanStackDevtools` from the required framework adapter (in this case @tanstack/react-devtools).

```tsx
import { TanStackDevtools } from '@tanstack/react-devtools'

import App from './App'

createRoot(document.getElementById('root')!).render(
	<StrictMode>
		<App />

		<TanStackDevtools />
	</StrictMode>
)
```

Import the desired devtools and provide it to the `TanStackDevtools` component along with a label for the menu.

Currently TanStack offers:

- `QueryDevtools`
- `RouterDevtools`
- `PacerDevtools`
- `FormDevtools` [coming soon](https://github.com/TanStack/form/pull/1692)

```tsx
import { createRoot } from 'react-dom/client'

import { TanStackDevtools } from '@tanstack/react-devtools'

import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'
import { ReactFormDevtoolsPanel } from '@tanstack/react-form-devtools'

import App from './App'

createRoot(document.getElementById('root')!).render(
	<StrictMode>
		<App />

		<TanStackDevtools
			plugins={[
				{
					name: 'TanStack Query',
					render: <ReactQueryDevtoolsPanel />,
				},
				{
					name: 'TanStack Router',
					render: <TanStackRouterDevtoolsPanel />,
				},
				{
					name: 'TanStack Form',
					render: <ReactFormDevtoolsPanel />,
				},
			]}
		/>
	</StrictMode>
)
```

Finally add any additional configuration you desire to the `TanStackDevtools` component, more information can be found under the [TanStack Devtools Configuration](../../configuration.md) section.

A complete working example can be found in our [basic example](https://tanstack.com/devtools/latest/docs/framework/react/examples/basic).

================================================
FILE: docs/framework/react/guides/custom-plugins.md
================================================

---

title: Custom plugins
id: custom-plugins

---

TanStack devtools allows you to create your own custom plugins by emitting and listening to our event bus.

## Prerequisite

This guide will walk you through a simple example where our library is a counter with a count history. A working example can be found in our [custom-plugin example](https://tanstack.com/devtools/latest/docs/framework/react/examples/custom-devtools).

This is our library code:

counter.ts

```tsx
export function createCounter() {
	let count = 0
	const history = []

	return {
		getCount: () => count,
		increment: () => {
			count++
			history.push(count)
		},
		decrement: () => {
			count--
			history.push(count)
		},
	}
}
```

## Event Client Setup

Install the [TanStack Devtools Event Client](https://www.npmjs.com/package/@tanstack/devtools-event-client) utils.

```bash
npm i @tanstack/devtools-event-client
```

First you will need to setup the `EventClient`.

eventClient.ts

```tsx
import { EventClient } from '@tanstack/devtools-event-client'

type EventMap = {
	// The key of the event map is a combination of {pluginId}:{eventSuffix}
	// The value is the expected type of the event payload
	'custom-devtools:counter-state': { count: number; history: number[] }
}

class CustomEventClient extends EventClient<EventMap> {
	constructor() {
		super({
			// The pluginId must match that of the event map key
			pluginId: 'custom-devtools',
		})
	}
}

// This is where the magic happens, it'll be used throughout your application.
export const DevtoolsEventClient = new CustomEventClient()
```

## Event Client Integration

Now we need to hook our `EventClient` into the application code. This can be done in many way's, a useEffect that emits the current state, or a subscription to an observer, all that matters is that when you want to emit the current state you do the following.

Our new library code will looks as follows:

counter.ts

```tsx
import { DevtoolsEventClient } from './eventClient.ts'

export function createCounter() {
	let count = 0
	const history: Array<number> = []

	return {
		getCount: () => count,
		increment: () => {
			count++
			history.push(count)

			// The emit eventSuffix must match that of the EventMap defined in eventClient.ts
			DevtoolsEventClient.emit('counter-state', {
				count,
				history,
			})
		},
		decrement: () => {
			count--
			history.push(count)

			DevtoolsEventClient.emit('counter-state', {
				count,
				history,
			})
		},
	}
}
```

> [!IMPORTANT]
> `EventClient` is framework agnostic so this process will be the same regardless of framework or even in vanilla JavaScript.

## Consuming The Event Client

Now we need to create our devtools panel, for a simple approach write the devtools in the framework that the adapter is, be aware that this will make the plugin framework specific.

> Because TanStack is framework agnostic we have taken a more complicated approach that will be explained in coming docs (if framework agnosticism is not a concern to you, you can ignore this).

DevtoolsPanel.ts

```tsx
import { DevtoolsEventClient } from './eventClient.ts'

export function DevtoolPanel() {
	const [state, setState] = useState()

	useEffect(() => {
		// subscribe to the emitted event
		const cleanup = DevtoolsEventClient.on('counter-state', (e) =>
			setState(e.payload)
		)
		return cleanup
	}, [])

	return (
		<div>
			<div>{state.count}</div>
			<div>{JSON.stringify(state.history)}</div>
		</div>
	)
}
```

## Application Integration

This step follows what's shown in [basic-setup](../basic-setup.md) for a more documented guide go check it out. As well as the complete [custom-devtools example](https://tanstack.com/devtools/latest/docs/framework/react/examples/custom-devtools) in our examples section.

Main.tsx

```tsx
import { DevtoolPanel } from './DevtoolPanel'

createRoot(document.getElementById('root')!).render(
	<StrictMode>
		<App />

		<TanStackDevtools
			plugins={[
				{
					// Name it what you like, this is how it will appear in the Menu
					name: 'Custom devtools',
					render: <DevtoolPanel />,
				},
			]}
		/>
	</StrictMode>
)
```

## Debugging

Both the `TanStackDevtools` component and the TanStack `EventClient` come with built in debug mode which will log to the console the emitted event as well as the EventClient status.

TanStackDevtool's debugging mode can be activated like so:

```tsx
<TanStackDevtools
	eventBusConfig={{ debug: true }}
	plugins={[
		{
			// call it what you like, this is how it will appear in the Menu
			name: 'Custom devtools',
			render: <DevtoolPanel />,
		},
	]}
/>
```

Where as the EventClient's debug mode can be activated by:

```tsx
class CustomEventClient extends EventClient<EventMap> {
	constructor() {
		super({
			pluginId: 'custom-devtools',
			debug: true,
		})
	}
}
```

Activating the debug mode will log to the console the current events that emitter has emitted or listened to. The EventClient will have appended `[tanstack-devtools:${pluginId}]` and the client will have appended `[tanstack-devtools:client-bus]`.

Heres an example of both:

```
🌴 [tanstack-devtools:client-bus] Initializing client event bus

🌴 [tanstack-devtools:custom-devtools-plugin] Registered event to bus custom-devtools:counter-state
```

================================================
FILE: docs/framework/solid/adapter.md
================================================

---

title: TanStack Devtools Solid Adapter
id: adapter

---

If you are using TanStack Devtools in a Solid application, we recommend using the Solid Adapter. The Solid Adapter provides a set of easy-to-use hooks on top of the core Devtools utilities. If you find yourself wanting to use the core Devtools classes/functions directly, the Solid Adapter will also re-export everything from the core package.

## Installation

```sh
npm install @tanstack/solid-devtools
```

## Solid Hooks

TODO

================================================
FILE: docs/framework/solid/basic-setup.md
================================================

---

title: Basic setup
id: basic-setup

---

TanStack devtools provides you with an easy to use and modular client that allows you to compose multiple devtools into one easy to use panel.

## Setup

Install the [TanStack Devtools](https://www.npmjs.com/package/@tanstack/solid-devtools) library, this will install the devtools core as well as provide you framework specific adapters.

```bash
npm i @tanstack/solid-devtools
```

Next in the root of your application import the `TanStackDevtools` from the required framework adapter (in this case @tanstack/solid-devtools).

```tsx
import { TanStackDevtools } from '@tanstack/solid-devtools'

import App from './App'

createRoot(document.getElementById('root')!).render(
	<StrictMode>
		<App />

		<TanStackDevtools />
	</StrictMode>
)
```

Import the desired devtools and provide it to the `TanStackDevtools` component along with a label for the menu.

Currently TanStack offers:

- `QueryDevtools`
- `RouterDevtools`
- `FormDevtools`

```tsx
import { render } from 'solid-js/web'

import { TanStackDevtools } from '@tanstack/solid-devtools'

import { SolidQueryDevtoolsPanel } from '@tanstack/solid-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/solid-router-devtools'
import { SolidFormDevtoolsPanel } from '@tanstack/solid-form'

import App from './App'

render(
	() => (
		<>
			<App />

			<TanStackDevtools
				plugins={[
					{
						name: 'TanStack router',
						render: () => <TanStackRouterDevtoolsPanel />,
					},
					{
						name: 'TanStack Form',
						render: () => <SolidFormDevtoolsPanel />,
					},
				]}
			/>
		</>
	),
	document.getElementById('root')!
)
```

Finally add any additional configuration you desire to the `TanStackDevtools` component, more information can be found under the [TanStack Devtools Configuration](../../configuration.md) section.

A complete working example can be found in our [examples section](https://tanstack.com/devtools/latest/docs/framework/solid/examples).

================================================
FILE: docs/reference/index.md
================================================

---

id: "@tanstack/devtools"
title: "@tanstack/devtools"

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# @tanstack/devtools

## Classes

- [TanStackDevtoolsCore](classes/tanstackdevtoolscore.md)

## Interfaces

- [ClientEventBusConfig](interfaces/clienteventbusconfig.md)
- [TanStackDevtoolsInit](interfaces/tanstackdevtoolsinit.md)
- [TanStackDevtoolsPlugin](interfaces/tanstackdevtoolsplugin.md)

## Type Aliases

- [TanStackDevtoolsConfig](type-aliases/tanstackdevtoolsconfig.md)

## Variables

- [PLUGIN_CONTAINER_ID](variables/plugin_container_id.md)
- [PLUGIN_TITLE_CONTAINER_ID](variables/plugin_title_container_id.md)

================================================
FILE: docs/reference/classes/tanstackdevtoolscore.md
================================================

---

id: TanStackDevtoolsCore
title: TanStackDevtoolsCore

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Class: TanStackDevtoolsCore

Defined in: [devtools/src/core.tsx:43](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L43)

## Constructors

### new TanStackDevtoolsCore()

```ts
new TanStackDevtoolsCore(init): TanStackDevtoolsCore
```

Defined in: [devtools/src/core.tsx:55](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L55)

#### Parameters

##### init

[`TanStackDevtoolsInit`](../interfaces/tanstackdevtoolsinit.md)

#### Returns

[`TanStackDevtoolsCore`](tanstackdevtoolscore.md)

## Methods

### mount()

```ts
mount<T>(el): void
```

Defined in: [devtools/src/core.tsx:64](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L64)

#### Type Parameters

• **T** _extends_ `HTMLElement`

#### Parameters

##### el

`T`

#### Returns

`void`

---

### setConfig()

```ts
setConfig(config): void
```

Defined in: [devtools/src/core.tsx:107](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L107)

#### Parameters

##### config

`Partial`\<[`TanStackDevtoolsInit`](../interfaces/tanstackdevtoolsinit.md)\>

#### Returns

`void`

---

### unmount()

```ts
unmount(): void
```

Defined in: [devtools/src/core.tsx:98](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L98)

#### Returns

`void`

================================================
FILE: docs/reference/interfaces/clienteventbusconfig.md
================================================

---

id: ClientEventBusConfig
title: ClientEventBusConfig

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Interface: ClientEventBusConfig

Defined in: event-bus/dist/esm/client/client.d.ts:1

## Properties

### connectToServerBus?

```ts
optional connectToServerBus: boolean;
```

Defined in: event-bus/dist/esm/client/client.d.ts:6

Optional flag to indicate if the devtools server event bus is available to connect to.
This is used to determine if the devtools can connect to the server for real-time event streams.

---

### debug?

```ts
optional debug: boolean;
```

Defined in: event-bus/dist/esm/client/client.d.ts:10

Optional flag to enable debug mode for the event bus.

---

### port?

```ts
optional port: number;
```

Defined in: event-bus/dist/esm/client/client.d.ts:15

Optional port to connect to the devtools server event bus.
Defaults to 4206.

================================================
FILE: docs/reference/interfaces/tanstackdevtoolsinit.md
================================================

---

id: TanStackDevtoolsInit
title: TanStackDevtoolsInit

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Interface: TanStackDevtoolsInit

Defined in: [devtools/src/core.tsx:13](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L13)

## Properties

### config?

```ts
optional config: Partial<{
  customTrigger: (el, props) => void;
  defaultOpen: boolean;
  hideUntilHover: boolean;
  openHotkey: KeyboardKey[];
  panelLocation: "top" | "bottom";
  position: TriggerPosition;
  requireUrlFlag: boolean;
  theme: "light" | "dark";
  triggerHidden: boolean;
  urlFlag: string;
}>;
```

Defined in: [devtools/src/core.tsx:19](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L19)

Configuration for the devtools shell. These configuration options are used to set the
initial state of the devtools when it is started for the first time. Afterwards,
the settings are persisted in local storage and changed through the settings panel.

---

### eventBusConfig?

```ts
optional eventBusConfig: ClientEventBusConfig;
```

Defined in: [devtools/src/core.tsx:40](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L40)

---

### plugins?

```ts
optional plugins: TanStackDevtoolsPlugin[];
```

Defined in: [devtools/src/core.tsx:39](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/core.tsx#L39)

Array of plugins to be used in the devtools.
Each plugin has a `render` function that gives you the dom node to mount into

Example:

```ts
const devtools = new TanStackDevtoolsCore({
	plugins: [
		{
			id: 'your-plugin-id',
			name: 'Your Plugin',
			render: (el) => {
				// Your render logic here
			},
		},
	],
})
```

================================================
FILE: docs/reference/interfaces/tanstackdevtoolsplugin.md
================================================

---

id: TanStackDevtoolsPlugin
title: TanStackDevtoolsPlugin

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Interface: TanStackDevtoolsPlugin

Defined in: [devtools/src/context/devtools-context.tsx:15](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L15)

## Properties

### defaultOpen?

```ts
optional defaultOpen: boolean;
```

Defined in: [devtools/src/context/devtools-context.tsx:58](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L58)

Whether the plugin should be open by default when there are no active plugins.
If true, this plugin will be added to activePlugins on initial load when activePlugins is empty.

#### Default

```ts
false
```

---

### destroy()?

```ts
optional destroy: (pluginId) => void;
```

Defined in: [devtools/src/context/devtools-context.tsx:77](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L77)

#### Parameters

##### pluginId

`string`

#### Returns

`void`

---

### id?

```ts
optional id: string;
```

Defined in: [devtools/src/context/devtools-context.tsx:52](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L52)

Unique identifier for the plugin.
If not provided, it will be generated based on the name.

---

### name

```ts
name: string | (el, theme) => void;
```

Defined in: [devtools/src/context/devtools-context.tsx:42](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L42)

Name to be displayed in the devtools UI.
If a string, it will be used as the plugin name.
If a function, it will be called with the mount element.

Example:

```ts
  {
    // If a string, it will be used as the plugin name
    name: "Your Plugin",
    render: () => {}
  }
```

or

```ts
  {
    // If a function, it will be called with the mount element
    name: (el) => {
      el.innerText = "Your Plugin Name"
      // Your name logic here
    },
    render: () => {}
  }
```

---

### render()

```ts
render: (el, theme) => void;
```

Defined in: [devtools/src/context/devtools-context.tsx:72](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L72)

Render the plugin UI by using the provided element. This function will be called
when the plugin tab is clicked and expected to be mounted.

#### Parameters

##### el

`HTMLDivElement`

The mount element for the plugin.

##### theme

`"light"` | `"dark"`

#### Returns

`void`

void

Example:

```ts
render: (el) => {
	el.innerHTML = '<h1>Your Plugin</h1>'
}
```

================================================
FILE: docs/reference/type-aliases/tanstackdevtoolsconfig.md
================================================

---

id: TanStackDevtoolsConfig
title: TanStackDevtoolsConfig

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Type Alias: TanStackDevtoolsConfig

```ts
type TanStackDevtoolsConfig = DevtoolsStore['settings']
```

Defined in: [devtools/src/context/devtools-context.tsx:182](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/context/devtools-context.tsx#L182)

================================================
FILE: docs/reference/variables/plugin_container_id.md
================================================

---

id: PLUGIN_CONTAINER_ID
title: PLUGIN_CONTAINER_ID

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Variable: PLUGIN_CONTAINER_ID

```ts
const PLUGIN_CONTAINER_ID: 'plugin-container' = 'plugin-container'
```

Defined in: [devtools/src/constants.ts:1](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/constants.ts#L1)

================================================
FILE: docs/reference/variables/plugin_title_container_id.md
================================================

---

id: PLUGIN_TITLE_CONTAINER_ID
title: PLUGIN_TITLE_CONTAINER_ID

---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Variable: PLUGIN_TITLE_CONTAINER_ID

```ts
const PLUGIN_TITLE_CONTAINER_ID: 'plugin-title-container' =
	'plugin-title-container'
```

Defined in: [devtools/src/constants.ts:2](https://github.com/TanStack/devtools/blob/main/packages/devtools/src/constants.ts#L2)

================================================
FILE: examples/angular/ssr/package.json
================================================
{
"name": "ssr",
"version": "0.0.0",
"private": true
}

================================================
FILE: examples/preact/basic/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/preact/basic/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="og:image"
      content="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800"
    />
    <meta name="og:title" content="Basic Example - TanStack Devtools" />
    <meta
      name="og:description"
      content="A basic example of using TanStack Devtools with Preact and loading up the social previews"
    />
    <meta name="og:url" content="https://example.com/basic" />

    <meta
      name="twitter:image"
      content="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800"
    />
    <meta name="twitter:title" content="Basic Example - TanStack Devtools" />
    <meta
      name="twitter:description"
      content="A basic example of using TanStack Devtools with Preact and loading up the social previews"
    />
    <meta name="twitter:url" content="https://example.com/basic" />
    <script src="https://unpkg.com/react-scan/dist/auto.global.js"></script>
    <title>Basic Example - TanStack Devtools</title>
    <description
      >A basic example of using TanStack Devtools with Preact.</description
    >

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/preact/basic/package.json
================================================
{
"name": "@tanstack/devtools-example-preact-basic",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3005",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/devtools-client": "0.0.5",
"@tanstack/devtools-event-client": "0.4.0",
"@tanstack/preact-devtools": "workspace:\*",
"preact": "^10.28.0",
"zod": "^4.1.11"
},
"devDependencies": {
"@preact/preset-vite": "^2.10.2",
"@tanstack/devtools-ui": "0.4.4",
"@tanstack/devtools-vite": "0.4.1",
"sonda": "0.9.0",
"vite": "^7.1.7",
"vite-plugin-inspect": "11.3.3"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/preact/basic/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "jsxImportSource": "preact",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src", "vite.config.ts"]
}

================================================
FILE: examples/preact/basic/vite.config.ts
================================================
import { defineConfig } from 'vite'
import preact from '@preact/preset-vite'
import { devtools } from '@tanstack/devtools-vite'
import Inspect from 'vite-plugin-inspect'
import sonda from 'sonda/vite'

// https://vite.dev/config/
export default defineConfig({
plugins: [
devtools({
removeDevtoolsOnBuild: true,
}),

    Inspect(),
    sonda() as any,
    preact(),

],
build: {
sourcemap: true,
},
})

================================================
FILE: examples/preact/basic/src/button-with-props-only.tsx
================================================
import type { ComponentChildren } from 'preact'
import { Button } from './button'

export const ButtonWithProps = (props: { children: ComponentChildren }) => {
return <Button {...props} />
}

================================================
FILE: examples/preact/basic/src/button.tsx
================================================
export function Button(props: any) {
return <button {...props} />
}

================================================
FILE: examples/preact/basic/src/feature.tsx
================================================
import { Button } from './button'
import { ButtonWithProps } from './button-with-props-only'

export function Feature() {
return (
<div>
<h2>Feature component</h2>
<Button>Nested</Button>
<ButtonWithProps>With props</ButtonWithProps>
</div>
)
}

================================================
FILE: examples/preact/basic/src/index.tsx
================================================
import { render, createContext } from 'preact'
import { useContext, useState, useEffect } from 'preact/hooks'
import Devtools from './setup'
import { queryPlugin } from './plugin'
import { Button } from './button'
import { Feature } from './feature'

type Post = {
id: number
title: string
body: string
}

function Posts({ setPostId }: { setPostId: (id: number) => void }) {
const [posts, setPosts] = useState<Post[]>([])
const [loading, setLoading] = useState(true)
const [error, setError] = useState<Error | null>(null)

useEffect(() => {
fetch('https://jsonplaceholder.typicode.com/posts')
.then((res) => res.json())
.then((data) => {
setPosts(data)
setLoading(false)
})
.catch((err) => {
setError(err)
setLoading(false)
})
}, [])

return (
<div>
<h1>Posts</h1>
<div>
{loading ? (
'Loading...'
) : error ? (
<span>Error: {error.message}</span>
) : (
<>
<div>
{posts.map((post) => (
<p key={post.id}>
<a onClick={() => setPostId(post.id)} href="#">
{post.title}
</a>
</p>
))}
</div>
</>
)}
</div>
</div>
)
}

const getPostById = async (id: number): Promise<Post> => {
const response = await fetch(
`https://jsonplaceholder.typicode.com/posts/${id}`,
)
return await response.json()
}

function Post({
postId,
setPostId,
}: {
postId: number
setPostId: (id: number) => void
}) {
const [post, setPost] = useState<Post | null>(null)
const [loading, setLoading] = useState(true)
const [error, setError] = useState<Error | null>(null)

useEffect(() => {
if (postId > 0) {
setLoading(true)
getPostById(postId)
.then((data) => {
setPost(data)
setLoading(false)
})
.catch((err) => {
setError(err)
setLoading(false)
})
}
}, [postId])

return (
<div>
<div>
<a onClick={() => setPostId(-1)} href="#">
Back
</a>
</div>
{!postId || loading ? (
'Loading...'
) : error ? (
<span>Error: {error.message}</span>
) : post ? (
<>
<h1>{post.title}</h1>
<div>
<p>{post.body}</p>
</div>
</>
) : null}
</div>
)
}

const Context = createContext<{
count: number
setCount: (count: number) => void
}>({ count: 0, setCount: () => {} })

setTimeout(() => {
queryPlugin.emit('test', {
title: 'Test Event',
description:
'This is a test event from the TanStack Query Devtools plugin.',
})
}, 1000)

queryPlugin.on('test', (event) => {
console.log('Received test event:', event)
})

function Mounted() {
const c = useContext(Context)
console.log(c)
return (
<p
onClick={() => {
c.setCount(c.count + 1)
}} >
{c.count}
<hr />
</p>
)
}

function App() {
const [state, setState] = useState(1)
const [win, setWin] = useState<Window | null>(null)
const [postId, setPostId] = useState(-1)
return (
<div>
<Context.Provider value={{ count: state, setCount: setState }}>
<h1>TanStack Devtools Preact Basic Example</h1>
current count: {state}
<Button onClick={() => setState(state + 1)}>Click me</Button>
<Button onClick={() => setWin(window.open('', '', 'popup'))}>
Click me to open new window
</Button>
{win && render(<Mounted />, win.document.body)}
<Feature />
<p>
As you visit the posts below, you will notice them in a loading state
the first time you load them. However, after you return to this list
and click on any posts you have already visited again, you will see
them load instantly and background refresh right before your eyes!{' '}
<strong>
(You may need to throttle your network speed to simulate longer
loading sequences)
</strong>
</p>
{postId > -1 ? (
<Post postId={postId} setPostId={setPostId} />
) : (
<Posts setPostId={setPostId} />
)}
<Devtools />
</Context.Provider>
</div>
)
}

render(<App />, document.getElementById('root')!)

================================================
FILE: examples/preact/basic/src/package-json-panel.tsx
================================================
import { devtoolsEventClient } from '@tanstack/devtools-client'
import { useEffect, useState } from 'preact/hooks'

export const PackageJsonPanel = () => {
const [packageJson, setPackageJson] = useState<any>(null)
const [outdatedDeps, setOutdatedDeps] = useState<
Record<
string,
{
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
} >

> ({})

useEffect(() => {
devtoolsEventClient.emit('mounted', undefined as any)
const cleanupOutdated = devtoolsEventClient.on(
'outdated-deps-read',
(event) => {
setOutdatedDeps(event.payload.outdatedDeps || {})
},
)
const cleanupPackageJson = devtoolsEventClient.on(
'package-json-read',
(event) => {
console.log('package-json-read', event)
setPackageJson(event.payload.packageJson)
},
)
return () => {
cleanupOutdated()
cleanupPackageJson()
}
}, [])

const hasOutdated = Object.keys(outdatedDeps).length > 0

// Helpers
const stripRange = (v?: string) => (v ?? '').replace(/^[~^><=v\s]\*/, '')
const parseSemver = (v?: string) => {
const s = stripRange(v)
const m = s.match(/^(\d+)\.(\d+)\.(\d+)/)
if (!m) return null
return { major: +m[1], minor: +m[2], patch: +m[3] }
}
const diffType = (
current?: string,
latest?: string,
): 'major' | 'minor' | 'patch' | null => {
const c = parseSemver(current)
const l = parseSemver(latest)
if (!c || !l) return null
if (l.major > c.major) return 'major'
if (l.major === c.major && l.minor > c.minor) return 'minor'
if (l.major === c.major && l.minor === c.minor && l.patch > c.patch)
return 'patch'
return null
}
const diffColor: Record<'major' | 'minor' | 'patch', string> = {
major: '#ef4444',
minor: '#f59e0b',
patch: '#10b981',
}

const containerStyle = { padding: 10 }
const metaStyle = {
display: 'grid',
gridTemplateColumns: 'auto 1fr',
gap: 6,
marginBottom: 8,
}
const sectionStyle = {
margin: '8px 0',
padding: '8px',
border: '1px solid #444',
borderRadius: 6,
}
const tableStyle = {
width: '100%',
borderCollapse: 'collapse',
}
const thtd = {
borderBottom: '1px solid #333',
padding: '4px 6px',
textAlign: 'left',
}
const badge = (text: string, color: string) => (
<span
style={{
        background: color,
        color: '#fff',
        borderRadius: 4,
        padding: '1px 4px',
        fontSize: 11,
      }} >
{text}
</span>
)
const btn = (
label: string,
onClick: () => void,
variant: 'primary' | 'ghost' = 'primary',
) => (
<button
onClick={onClick}
style={{
        padding: '2px 6px',
        borderRadius: 5,
        border:
          variant === 'primary' ? '1px solid #6d28d9' : '1px solid transparent',
        cursor: 'pointer',
        background: variant === 'primary' ? '#7c3aed' : 'transparent',
        color: variant === 'primary' ? '#fff' : '#7c3aed',
        fontSize: 12,
      }} >
{label}
</button>
)

const VersionCell = ({
dep,
specified,
}: {
dep: string
specified: string
}) => {
const info = outdatedDeps[dep] as
| {
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
}
| undefined
const current = info?.current ?? specified
const latest = info?.latest
const dt = info ? diffType(current, latest) : null
return (
<div style={{ display: 'flex', alignItems: 'center', gap: 6 }}>
<span>{current}</span>
{dt && latest ? (
<span
style={{ display: 'inline-flex', alignItems: 'center', gap: 4 }} >
<span style={{ opacity: 0.6 }}>→</span>
{badge(`latest ${latest}`, diffColor[dt])}
</span>
) : null}
</div>
)
}

const UpgradeRowActions = ({ name }: { name: string }) => {
const info = outdatedDeps[name] as
| {
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
}
| undefined
if (!info) return null
return (
<div style={{ display: 'flex', gap: 6 }}>
{btn('Wanted', () =>
(devtoolsEventClient as any).emit('upgrade-dependency', {
name,
target: info.wanted,
} as any),
)}
{btn(
'Latest',
() =>
(devtoolsEventClient as any).emit('upgrade-dependency', {
name,
target: info.latest,
} as any),
'ghost',
)}
</div>
)
}

const makeLists = (names?: Array<string>) => {
const entries = Object.entries(outdatedDeps).filter(
([n]) => !names || names.includes(n),
)
const wantedList = entries.map(([name, info]) => ({
name,
target: info.wanted,
}))
const latestList = entries.map(([name, info]) => ({
name,
target: info.latest,
}))
return { wantedList, latestList }
}

const BulkActions = ({ names }: { names?: Array<string> }) => {
const { wantedList, latestList } = makeLists(names)
if (wantedList.length === 0 && latestList.length === 0) return null
return (
<div style={{ display: 'flex', gap: 6, flexWrap: 'wrap' }}>
{btn('All → wanted', () =>
(devtoolsEventClient as any).emit('upgrade-dependencies-bulk', {
list: wantedList,
} as any),
)}
{btn(
'All → latest',
() =>
(devtoolsEventClient as any).emit('upgrade-dependencies-bulk', {
list: latestList,
} as any),
'ghost',
)}
</div>
)
}

const renderDeps = (title: string, deps?: Record<string, string>) => {
const names = Object.keys(deps || {})
// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
const someOutdatedInSection = names.some((n) => !!outdatedDeps[n])
return (
<div style={sectionStyle}>
<div
style={{
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'space-between',
            gap: 6,
          }} >
<h3 style={{ margin: 0, fontSize: 14 }}>{title}</h3>
{someOutdatedInSection ? <BulkActions names={names} /> : null}
</div>
<table style={tableStyle}>
<thead>
<tr>
<th style={thtd}>Package</th>
<th style={thtd}>Version</th>
<th style={thtd}>Status</th>
<th style={thtd}>Actions</th>
</tr>
</thead>
<tbody>
{Object.entries(deps || {}).map(([dep, version]) => {
const info = outdatedDeps[dep] as
| {
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
}
| undefined
const isOutdated = !!info && info.current !== info.latest
return (
<tr key={dep}>
<td style={thtd}>{dep}</td>
<td style={thtd}>
<VersionCell dep={dep} specified={version} />
</td>
<td style={thtd}>
{isOutdated
? badge('Outdated', '#e11d48')
: badge('OK', '#10b981')}
</td>
<td style={thtd}>
{isOutdated ? <UpgradeRowActions name={dep} /> : null}
</td>
</tr>
)
})}
</tbody>
</table>
</div>
)
}

return (
<div style={containerStyle}>
<h2 style={{ margin: '0 0 8px 0', fontSize: 16 }}>Package.json</h2>
{packageJson ? (
<div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>
<div style={sectionStyle}>
<h3 style={{ marginTop: 0, marginBottom: 6, fontSize: 14 }}>
Package info
</h3>
<div style={metaStyle}>
<div>
<strong>Name</strong>
</div>
<div>{packageJson.name}</div>
<div>
<strong>Version</strong>
</div>
<div>v{packageJson.version}</div>
<div>
<strong>Description</strong>
</div>
<div>{packageJson.description}</div>
<div>
<strong>Author</strong>
</div>
<div>{packageJson.author}</div>
<div>
<strong>License</strong>
</div>
<div>{packageJson.license}</div>
<div>
<strong>Repository</strong>
</div>
<div>{packageJson.repository?.url || packageJson.repository}</div>
</div>
</div>
{renderDeps('Dependencies', packageJson.dependencies)}
{renderDeps('Dev Dependencies', packageJson.devDependencies)}
<div style={sectionStyle}>
<h3 style={{ marginTop: 0, marginBottom: 6, fontSize: 14 }}>
Outdated (All)
</h3>
{hasOutdated ? (
<BulkActions />
) : (
<p style={{ margin: 0 }}>All dependencies are up to date.</p>
)}
</div>
</div>
) : (
<p style={{ margin: 0 }}>No package.json data available</p>
)}
</div>
)
}

================================================
FILE: examples/preact/basic/src/plugin.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'

interface EventMap {
'query-devtools:test': {
title: string
description: string
}
'query-devtools:init': {
title: string
description: string
}
'query-devtools:query': {
title: string
description: string
}
}
class QueryDevtoolsPlugin extends EventClient<EventMap> {
constructor() {
super({
pluginId: 'query-devtools',
})
}
}

export const queryPlugin = new QueryDevtoolsPlugin()

================================================
FILE: examples/preact/basic/src/setup.tsx
================================================
import { TanStackDevtools } from '@tanstack/preact-devtools'
import { PackageJsonPanel } from './package-json-panel'

export default function DevtoolsExample() {
return (
<>
<TanStackDevtools
eventBusConfig={{
          connectToServerBus: true,
        }}
plugins={[
{
name: 'Package.json',
render: () => <PackageJsonPanel />,
},
]}
/>
</>
)
}

================================================
FILE: examples/preact/custom-devtools/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/preact/custom-devtools/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />

    <title>Custom Devtools - TanStack Devtools</title>

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/preact/custom-devtools/package.json
================================================
{
"name": "@tanstack/devtools-custom-devtools-preact",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3001",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/devtools-event-client": "0.4.0",
"@tanstack/preact-devtools": "workspace:\*",
"preact": "^10.28.0"
},
"devDependencies": {
"@preact/preset-vite": "^2.10.2",
"vite": "^7.1.7"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/preact/custom-devtools/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "jsxImportSource": "preact",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src"]
}

================================================
FILE: examples/preact/custom-devtools/vite.config.ts
================================================
import { defineConfig } from 'vite'
import preact from '@preact/preset-vite'

export default defineConfig({
plugins: [preact()],
})

================================================
FILE: examples/preact/custom-devtools/src/App.tsx
================================================
import { useState } from 'preact/hooks'

import { createCounter } from './counter'

const counterInstance = createCounter()

export default function App() {
const [count, setCount] = useState(counterInstance.getCount())

const increment = () => {
counterInstance.increment()
setCount(counterInstance.getCount())
}

const decrement = () => {
counterInstance.decrement()
setCount(counterInstance.getCount())
}

return (
<div>
<h1>Custom plugins</h1>
<h2>Count: {count}</h2>
<div style={{ display: 'flex', gap: '4px' }}>
<button onClick={increment}>+ increase</button>
<button onClick={decrement}>− decrease</button>
</div>
</div>
)
}

================================================
FILE: examples/preact/custom-devtools/src/counter.ts
================================================
import { DevtoolsEventClient } from './eventClient.ts'

export function createCounter() {
let count = 0
const history: Array<number> = []

return {
getCount: () => count,
increment: () => {
count++
history.push(count)

      // The emit eventSuffix must match that of the EventMap defined in eventClient.ts
      DevtoolsEventClient.emit('counter-state', {
        count,
        history,
      })
    },
    decrement: () => {
      count--
      history.push(count)

      DevtoolsEventClient.emit('counter-state', {
        count,
        history,
      })
    },

}
}

================================================
FILE: examples/preact/custom-devtools/src/CustomDevtoolsPanel.tsx
================================================
import { useEffect, useState } from 'preact/hooks'
import { DevtoolsEventClient } from './eventClient.ts'

export default function CustomDevtoolPanel() {
const [state, setState] = useState<
{ count: number; history: Array<number> } | undefined

> ()

useEffect(() => {
// subscribe to the emitted event
const cleanup = DevtoolsEventClient.on('counter-state', (e) =>
setState(e.payload),
)
return cleanup
}, [])

return (
<div>
<div>counter state: {state?.count}</div>
<div>counter history: {JSON.stringify(state?.history)}</div>
</div>
)
}

================================================
FILE: examples/preact/custom-devtools/src/eventClient.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'

type EventMap = {
// The key of the event map is a combination of {pluginId}:{eventSuffix}
// The value is the expected type of the event payload
'custom-devtools:counter-state': { count: number; history: Array<number> }
}

class CustomEventClient extends EventClient<EventMap> {
constructor() {
super({
// The pluginId must match that of the event map key
pluginId: 'custom-devtools',
debug: true,
})
}
}

// This is where the magic happens, it'll be used throughout your application.
export const DevtoolsEventClient = new CustomEventClient()

================================================
FILE: examples/preact/custom-devtools/src/index.tsx
================================================
import { render } from 'preact'
import { TanStackDevtools } from '@tanstack/preact-devtools'

import App from './App'
import CustomDevtoolPanel from './CustomDevtoolsPanel'

render(
<>
<App />

    <TanStackDevtools
      eventBusConfig={{ debug: true }}
      plugins={[
        {
          name: 'Custom devtools',
          render: <CustomDevtoolPanel />,
        },
      ]}
    />

</>,
document.getElementById('root')!,
)

================================================
FILE: examples/react/basic/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/react/basic/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="og:image"
      content="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800"
    />
    <meta name="og:title" content="Basic Example - TanStack Devtools" />
    <meta
      name="og:description"
      content="A basic example of using TanStack Devtools with React and loading up the social previews"
    />
    <meta name="og:url" content="https://example.com/basic" />

    <meta
      name="twitter:image"
      content="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800"
    />
    <meta name="twitter:title" content="Basic Example - TanStack Devtools" />
    <meta
      name="twitter:description"
      content="A basic example of using TanStack Devtools with React and loading up the social previews"
    />
    <meta name="twitter:url" content="https://example.com/basic" />
    <script src="https://unpkg.com/react-scan/dist/auto.global.js"></script>
    <title>Basic Example - TanStack Devtools</title>
    <description
      >A basic example of using TanStack Devtools with React.</description
    >

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/react/basic/package.json
================================================
{
"name": "@tanstack/devtools-example-react-basic",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3005",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/devtools-client": "0.0.5",
"@tanstack/devtools-event-client": "0.4.0",
"@tanstack/react-devtools": "^0.9.2",
"@tanstack/react-form": "^1.23.7",
"@tanstack/react-query": "^5.90.1",
"@tanstack/react-query-devtools": "^5.90.1",
"@tanstack/react-router": "^1.132.0",
"@tanstack/react-router-devtools": "^1.132.0",
"react": "^19.2.0",
"react-dom": "^19.2.0",
"zod": "^4.1.11"
},
"devDependencies": {
"@tanstack/devtools-ui": "0.4.4",
"@tanstack/devtools-vite": "0.4.1",
"@tanstack/react-form-devtools": "^0.1.7",
"@types/react": "^19.2.0",
"@types/react-dom": "^19.2.0",
"@vitejs/plugin-react": "^5.0.4",
"sonda": "0.9.0",
"vite": "^7.1.7",
"vite-plugin-inspect": "11.3.3"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/react/basic/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src", "vite.config.ts"]
}

================================================
FILE: examples/react/basic/vite.config.ts
================================================
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { devtools } from '@tanstack/devtools-vite'
import Inspect from 'vite-plugin-inspect'
import sonda from 'sonda/vite'

// https://vite.dev/config/
export default defineConfig({
plugins: [
devtools({
removeDevtoolsOnBuild: true,
}),

    Inspect(),
    sonda() as any,
    react({
      // babel: {
      //   plugins: [['babel-plugin-react-compiler', { target: '19' }]],
      // },
    }),

],
build: {
sourcemap: true,
},
})

================================================
FILE: examples/react/basic/src/button-with-props-only.tsx
================================================
import { Button } from './button'

export const ButtonWithProps = (props: { children: React.ReactNode }) => {
return <Button {...props} />
}

================================================
FILE: examples/react/basic/src/button.tsx
================================================
export function Button(props: any) {
return <button {...props} />
}

================================================
FILE: examples/react/basic/src/feature.tsx
================================================
import { Button } from './button'
import { ButtonWithProps } from './button-with-props-only'

export function Feature() {
return (
<div>
<h2>Feature component</h2>
<Button>Nested</Button>
<ButtonWithProps>With props</ButtonWithProps>
</div>
)
}

================================================
FILE: examples/react/basic/src/index.tsx
================================================
import { createRoot } from 'react-dom/client'
import { createContext, useContext, useState } from 'react'
import { createPortal } from 'react-dom'
import {
QueryClient,
QueryClientProvider,
useQuery,
useQueryClient,
} from '@tanstack/react-query'
import Devtools from './setup'
import { queryPlugin } from './plugin'
import { Button } from './button'
import { Feature } from './feature'

const queryClient = new QueryClient({
defaultOptions: {
queries: {
gcTime: 1000 _ 60 _ 60 \* 24, // 24 hours
},
},
})

type Post = {
id: number
title: string
body: string
}

function Posts({
setPostId,
}: {
setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
const queryClient = useQueryClient()
const { status, data, error, isFetching } = usePosts()

return (
<div>
<h1>Posts</h1>
<div>
{status === 'pending' ? (
'Loading...'
) : status === 'error' ? (
<span>Error: {error.message}</span>
) : (
<>
<div>
{data.map((post) => (
<p key={post.id}>
<a
onClick={() => setPostId(post.id)}
href="#"
style={
// We can access the query data here to show bold links for
// ones that are cached
queryClient.getQueryData(['post', post.id])
? {
fontWeight: 'bold',
color: 'green',
}
: {}
} >
{post.title}
</a>
</p>
))}
</div>
<div>{isFetching ? 'Background Updating...' : ' '}</div>
</>
)}
</div>
</div>
)
}

const getPostById = async (id: number): Promise<Post> => {
const response = await fetch(
`https://jsonplaceholder.typicode.com/posts/${id}`,
)
return await response.json()
}

function usePost(postId: number) {
return useQuery({
queryKey: ['post', postId],
queryFn: () => getPostById(postId),
enabled: !!postId,
})
}

function Post({
postId,
setPostId,
}: {
postId: number
setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
const { status, data, error, isFetching } = usePost(postId)

return (
<div>
<div>
<a onClick={() => setPostId(-1)} href="#">
Back
</a>
</div>
{!postId || status === 'pending' ? (
'Loading...'
) : status === 'error' ? (
<span>Error: {error.message}</span>
) : (
<>
<h1>{data.title}</h1>
<div>
<p>{data.body}</p>
</div>
<div>{isFetching ? 'Background Updating...' : ' '}</div>
</>
)}
</div>
)
}
function usePosts() {
return useQuery({
queryKey: ['posts'],
queryFn: async (): Promise<Array<Post>> => {
const response = await fetch('https://jsonplaceholder.typicode.com/posts')
return await response.json()
},
})
}

const Context = createContext<{
count: number
setCount: (count: number) => void
}>({ count: 0, setCount: () => {} })

setTimeout(() => {
queryPlugin.emit('test', {
title: 'Test Event',
description:
'This is a test event from the TanStack Query Devtools plugin.',
})
}, 1000)

queryPlugin.on('test', (event) => {
console.log('Received test event:', event)
})

function Mounted() {
const c = useContext(Context)
console.log(c)
return (
<p
onClick={() => {
c.setCount(c.count + 1)
}} >
{c.count}
<hr />
</p>
)
}

function App() {
const [state, setState] = useState(1)
const [win, setWin] = useState<Window | null>(null)
const [postId, setPostId] = useState(-1)
return (
<div>
<Context.Provider value={{ count: state, setCount: setState }}>
<QueryClientProvider client={queryClient}>
<h1>TanStack Devtools React Basic Example</h1>
current count: {state}
<Button onClick={() => setState(state + 1)}>Click me</Button>
<Button onClick={() => setWin(window.open('', '', 'popup'))}>
Click me to open new window
</Button>
{win && createPortal(<Mounted />, win.document.body)}
<Feature />
<p>
As you visit the posts below, you will notice them in a loading
state the first time you load them. However, after you return to
this list and click on any posts you have already visited again, you
will see them load instantly and background refresh right before
your eyes!{' '}
<strong>
(You may need to throttle your network speed to simulate longer
loading sequences)
</strong>
</p>
{postId > -1 ? (
<Post postId={postId} setPostId={setPostId} />
) : (
<Posts setPostId={setPostId} />
)}
<Devtools />
</QueryClientProvider>
</Context.Provider>
</div>
)
}

const root = createRoot(document.getElementById('root')!)
root.render(<App />)

================================================
FILE: examples/react/basic/src/package-json-panel.tsx
================================================
import { devtoolsEventClient } from '@tanstack/devtools-client'
import { useEffect, useState } from 'react'
import type { CSSProperties } from 'react'

export const PackageJsonPanel = () => {
const [packageJson, setPackageJson] = useState<any>(null)
const [outdatedDeps, setOutdatedDeps] = useState<
Record<
string,
{
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
} >

> ({})

useEffect(() => {
devtoolsEventClient.emit('mounted', undefined as any)
const cleanupOutdated = devtoolsEventClient.on(
'outdated-deps-read',
(event) => {
setOutdatedDeps(event.payload.outdatedDeps || {})
},
)
const cleanupPackageJson = devtoolsEventClient.on(
'package-json-read',
(event) => {
console.log('package-json-read', event)
setPackageJson(event.payload.packageJson)
},
)
return () => {
cleanupOutdated()
cleanupPackageJson()
}
}, [])

const hasOutdated = Object.keys(outdatedDeps).length > 0

// Helpers
const stripRange = (v?: string) => (v ?? '').replace(/^[~^><=v\s]\*/, '')
const parseSemver = (v?: string) => {
const s = stripRange(v)
const m = s.match(/^(\d+)\.(\d+)\.(\d+)/)
if (!m) return null
return { major: +m[1], minor: +m[2], patch: +m[3] }
}
const diffType = (
current?: string,
latest?: string,
): 'major' | 'minor' | 'patch' | null => {
const c = parseSemver(current)
const l = parseSemver(latest)
if (!c || !l) return null
if (l.major > c.major) return 'major'
if (l.major === c.major && l.minor > c.minor) return 'minor'
if (l.major === c.major && l.minor === c.minor && l.patch > c.patch)
return 'patch'
return null
}
const diffColor: Record<'major' | 'minor' | 'patch', string> = {
major: '#ef4444',
minor: '#f59e0b',
patch: '#10b981',
}

const containerStyle: CSSProperties = { padding: 10 }
const metaStyle: CSSProperties = {
display: 'grid',
gridTemplateColumns: 'auto 1fr',
gap: 6,
marginBottom: 8,
}
const sectionStyle: CSSProperties = {
margin: '8px 0',
padding: '8px',
border: '1px solid #444',
borderRadius: 6,
}
const tableStyle: CSSProperties = {
width: '100%',
borderCollapse: 'collapse',
}
const thtd: CSSProperties = {
borderBottom: '1px solid #333',
padding: '4px 6px',
textAlign: 'left',
}
const badge = (text: string, color: string) => (
<span
style={{
        background: color,
        color: '#fff',
        borderRadius: 4,
        padding: '1px 4px',
        fontSize: 11,
      }} >
{text}
</span>
)
const btn = (
label: string,
onClick: () => void,
variant: 'primary' | 'ghost' = 'primary',
) => (
<button
onClick={onClick}
style={{
        padding: '2px 6px',
        borderRadius: 5,
        border:
          variant === 'primary' ? '1px solid #6d28d9' : '1px solid transparent',
        cursor: 'pointer',
        background: variant === 'primary' ? '#7c3aed' : 'transparent',
        color: variant === 'primary' ? '#fff' : '#7c3aed',
        fontSize: 12,
      }} >
{label}
</button>
)

const VersionCell = ({
dep,
specified,
}: {
dep: string
specified: string
}) => {
const info = outdatedDeps[dep] as
| {
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
}
| undefined
const current = info?.current ?? specified
const latest = info?.latest
const dt = info ? diffType(current, latest) : null
return (
<div style={{ display: 'flex', alignItems: 'center', gap: 6 }}>
<span>{current}</span>
{dt && latest ? (
<span
style={{ display: 'inline-flex', alignItems: 'center', gap: 4 }} >
<span style={{ opacity: 0.6 }}>→</span>
{badge(`latest ${latest}`, diffColor[dt])}
</span>
) : null}
</div>
)
}

const UpgradeRowActions = ({ name }: { name: string }) => {
const info = outdatedDeps[name] as
| {
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
}
| undefined
if (!info) return null
return (
<div style={{ display: 'flex', gap: 6 }}>
{btn('Wanted', () =>
(devtoolsEventClient as any).emit('upgrade-dependency', {
name,
target: info.wanted,
} as any),
)}
{btn(
'Latest',
() =>
(devtoolsEventClient as any).emit('upgrade-dependency', {
name,
target: info.latest,
} as any),
'ghost',
)}
</div>
)
}

const makeLists = (names?: Array<string>) => {
const entries = Object.entries(outdatedDeps).filter(
([n]) => !names || names.includes(n),
)
const wantedList = entries.map(([name, info]) => ({
name,
target: info.wanted,
}))
const latestList = entries.map(([name, info]) => ({
name,
target: info.latest,
}))
return { wantedList, latestList }
}

const BulkActions = ({ names }: { names?: Array<string> }) => {
const { wantedList, latestList } = makeLists(names)
if (wantedList.length === 0 && latestList.length === 0) return null
return (
<div style={{ display: 'flex', gap: 6, flexWrap: 'wrap' }}>
{btn('All → wanted', () =>
(devtoolsEventClient as any).emit('upgrade-dependencies-bulk', {
list: wantedList,
} as any),
)}
{btn(
'All → latest',
() =>
(devtoolsEventClient as any).emit('upgrade-dependencies-bulk', {
list: latestList,
} as any),
'ghost',
)}
</div>
)
}

const renderDeps = (title: string, deps?: Record<string, string>) => {
const names = Object.keys(deps || {})
// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
const someOutdatedInSection = names.some((n) => !!outdatedDeps[n])
return (
<div style={sectionStyle}>
<div
style={{
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'space-between',
            gap: 6,
          }} >
<h3 style={{ margin: 0, fontSize: 14 }}>{title}</h3>
{someOutdatedInSection ? <BulkActions names={names} /> : null}
</div>
<table style={tableStyle}>
<thead>
<tr>
<th style={thtd}>Package</th>
<th style={thtd}>Version</th>
<th style={thtd}>Status</th>
<th style={thtd}>Actions</th>
</tr>
</thead>
<tbody>
{Object.entries(deps || {}).map(([dep, version]) => {
const info = outdatedDeps[dep] as
| {
current: string
wanted: string
latest: string
type?: 'dependencies' | 'devDependencies'
}
| undefined
const isOutdated = !!info && info.current !== info.latest
return (
<tr key={dep}>
<td style={thtd}>{dep}</td>
<td style={thtd}>
<VersionCell dep={dep} specified={version} />
</td>
<td style={thtd}>
{isOutdated
? badge('Outdated', '#e11d48')
: badge('OK', '#10b981')}
</td>
<td style={thtd}>
{isOutdated ? <UpgradeRowActions name={dep} /> : null}
</td>
</tr>
)
})}
</tbody>
</table>
</div>
)
}

return (
<div style={containerStyle}>
<h2 style={{ margin: '0 0 8px 0', fontSize: 16 }}>Package.json</h2>
{packageJson ? (
<div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>
<div style={sectionStyle}>
<h3 style={{ marginTop: 0, marginBottom: 6, fontSize: 14 }}>
Package info
</h3>
<div style={metaStyle}>
<div>
<strong>Name</strong>
</div>
<div>{packageJson.name}</div>
<div>
<strong>Version</strong>
</div>
<div>v{packageJson.version}</div>
<div>
<strong>Description</strong>
</div>
<div>{packageJson.description}</div>
<div>
<strong>Author</strong>
</div>
<div>{packageJson.author}</div>
<div>
<strong>License</strong>
</div>
<div>{packageJson.license}</div>
<div>
<strong>Repository</strong>
</div>
<div>{packageJson.repository?.url || packageJson.repository}</div>
</div>
</div>
{renderDeps('Dependencies', packageJson.dependencies)}
{renderDeps('Dev Dependencies', packageJson.devDependencies)}
<div style={sectionStyle}>
<h3 style={{ marginTop: 0, marginBottom: 6, fontSize: 14 }}>
Outdated (All)
</h3>
{hasOutdated ? (
<BulkActions />
) : (
<p style={{ margin: 0 }}>All dependencies are up to date.</p>
)}
</div>
</div>
) : (
<p style={{ margin: 0 }}>No package.json data available</p>
)}
</div>
)
}

================================================
FILE: examples/react/basic/src/plugin.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'

interface EventMap {
'query-devtools:test': {
title: string
description: string
}
'query-devtools:init': {
title: string
description: string
}
'query-devtools:query': {
title: string
description: string
}
}
class QueryDevtoolsPlugin extends EventClient<EventMap> {
constructor() {
super({
pluginId: 'query-devtools',
})
}
}

export const queryPlugin = new QueryDevtoolsPlugin()

================================================
FILE: examples/react/basic/src/setup.tsx
================================================
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'
import {
Link,
Outlet,
RouterProvider,
createRootRoute,
createRoute,
createRouter,
} from '@tanstack/react-router'
import { TanStackDevtools } from '@tanstack/react-devtools'
import { PackageJsonPanel } from './package-json-panel'

const rootRoute = createRootRoute({
component: () => (
<>
<div className="p-2 flex gap-2">
<Link to="/" className="[&.active]:font-bold">
Home
</Link>{' '}
<Link to="/about" className="[&.active]:font-bold">
About
</Link>
</div>
<hr />
<Outlet />
</>
),
})
const indexRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/',
component: function Index() {
return (
<div className="p-2">
<h3>Welcome Home!</h3>
</div>
)
},
})
function About() {
return (
<div className="p-2">
<h3>Hello from About!</h3>
</div>
)
}
const aboutRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/about',
component: About,
})
const routeTree = rootRoute.addChildren([indexRoute, aboutRoute])
const router = createRouter({
routeTree,
})
export default function DevtoolsExample() {
return (
<>
<TanStackDevtools
eventBusConfig={{
          connectToServerBus: true,
        }}
plugins={[
{
name: 'TanStack Query',
render: <ReactQueryDevtoolsPanel />,
},
{
name: 'TanStack Router',
render: <TanStackRouterDevtoolsPanel router={router} />,
},
{
name: 'Package.json',
render: () => <PackageJsonPanel />,
},
/* {
name: "The actual app",
render: <iframe style={{ width: '100%', height: '100%' }} src="http://localhost:3005" />,
} */
]}
/>
<RouterProvider router={router} />
</>
)
}

================================================
FILE: examples/react/custom-devtools/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/react/custom-devtools/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />

    <title>Custom Devtools - TanStack Devtools</title>

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/react/custom-devtools/package.json
================================================
{
"name": "@tanstack/devtools-custom-devtools",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3001",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/devtools-event-client": "0.4.0",
"@tanstack/react-devtools": "^0.9.2",
"react": "^19.2.0",
"react-dom": "^19.2.0"
},
"devDependencies": {
"@types/react": "^19.2.0",
"@types/react-dom": "^19.2.0",
"@vitejs/plugin-react": "^5.0.4",
"vite": "^7.1.7"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/react/custom-devtools/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src"]
}

================================================
FILE: examples/react/custom-devtools/src/App.tsx
================================================
import { useState } from 'react'

import { createCounter } from './counter'

const counterInstance = createCounter()

export default function App() {
const [count, setCount] = useState(counterInstance.getCount())

const increment = () => {
counterInstance.increment()
setCount(counterInstance.getCount())
}

const decrement = () => {
counterInstance.decrement()
setCount(counterInstance.getCount())
}

return (
<div>
<h1>Custom plugins</h1>
<h2>Count: {count}</h2>
<div style={{ display: 'flex', gap: '4px' }}>
<button onClick={increment}>+ increase</button>
<button onClick={decrement}>− decrease</button>
</div>
</div>
)
}

================================================
FILE: examples/react/custom-devtools/src/counter.ts
================================================
import { DevtoolsEventClient } from './eventClient.ts'

export function createCounter() {
let count = 0
const history: Array<number> = []

return {
getCount: () => count,
increment: () => {
count++
history.push(count)

      // The emit eventSuffix must match that of the EventMap defined in eventClient.ts
      DevtoolsEventClient.emit('counter-state', {
        count,
        history,
      })
    },
    decrement: () => {
      count--
      history.push(count)

      DevtoolsEventClient.emit('counter-state', {
        count,
        history,
      })
    },

}
}

================================================
FILE: examples/react/custom-devtools/src/CustomDevtoolsPanel.tsx
================================================
import { useEffect, useState } from 'react'
import { DevtoolsEventClient } from './eventClient.ts'

export default function CustomDevtoolPanel() {
const [state, setState] = useState<
{ count: number; history: Array<number> } | undefined

> ()

useEffect(() => {
// subscribe to the emitted event
const cleanup = DevtoolsEventClient.on('counter-state', (e) =>
setState(e.payload),
)
return cleanup
}, [])

return (
<div>
<div>counter state: {state?.count}</div>
<div>counter history: {JSON.stringify(state?.history)}</div>
</div>
)
}

================================================
FILE: examples/react/custom-devtools/src/eventClient.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'

type EventMap = {
// The key of the event map is a combination of {pluginId}:{eventSuffix}
// The value is the expected type of the event payload
'custom-devtools:counter-state': { count: number; history: Array<number> }
}

class CustomEventClient extends EventClient<EventMap> {
constructor() {
super({
// The pluginId must match that of the event map key
pluginId: 'custom-devtools',
debug: true,
})
}
}

// This is where the magic happens, it'll be used throughout your application.
export const DevtoolsEventClient = new CustomEventClient()

================================================
FILE: examples/react/custom-devtools/src/index.tsx
================================================
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { TanStackDevtools } from '@tanstack/react-devtools'

import App from './App'
import CustomDevtoolPanel from './CustomDevtoolsPanel'

createRoot(document.getElementById('root')!).render(
<StrictMode>
<App />

    <TanStackDevtools
      eventBusConfig={{ debug: true }}
      plugins={[
        {
          name: 'Custom devtools',
          render: <CustomDevtoolPanel />,
        },
      ]}
    />

</StrictMode>,
)

================================================
FILE: examples/react/drizzle/README.md
================================================

# Welcome to TanStack.com!

This site is built with TanStack Router!

- [TanStack Router Docs](https://tanstack.com/router)

It's deployed automagically with Netlify!

- [Netlify](https://netlify.com/)

## Development

From your terminal:

```sh
pnpm install
pnpm dev
```

This starts your app in development mode, rebuilding assets on file changes.

## Editing and previewing the docs of TanStack projects locally

The documentations for all TanStack projects except for `React Charts` are hosted on [https://tanstack.com](https://tanstack.com), powered by this TanStack Router app.
In production, the markdown doc pages are fetched from the GitHub repos of the projects, but in development they are read from the local file system.

Follow these steps if you want to edit the doc pages of a project (in these steps we'll assume it's [`TanStack/form`](https://github.com/tanstack/form)) and preview them locally :

1. Create a new directory called `tanstack`.

```sh
mkdir tanstack
```

2. Enter the directory and clone this repo and the repo of the project there.

```sh
cd tanstack
git clone git@github.com:TanStack/tanstack.com.git
git clone git@github.com:TanStack/form.git
```

> [!NOTE]
> Your `tanstack` directory should look like this:
>
> ```
> tanstack/
>    |
>    +-- form/
>    |
>    +-- tanstack.com/
> ```

> [!WARNING]
> Make sure the name of the directory in your local file system matches the name of the project's repo. For example, `tanstack/form` must be cloned into `form` (this is the default) instead of `some-other-name`, because that way, the doc pages won't be found.

3. Enter the `tanstack/tanstack.com` directory, install the dependencies and run the app in dev mode:

```sh
cd tanstack.com
pnpm i
# The app will run on https://localhost:3000 by default
pnpm dev
```

4. Now you can visit http://localhost:3000/form/latest/docs/overview in the browser and see the changes you make in `tanstack/form/docs`.

> [!NOTE]
> The updated pages need to be manually reloaded in the browser.

> [!WARNING]
> You will need to update the `docs/config.json` file (in the project's repo) if you add a new doc page!

================================================
FILE: examples/react/drizzle/drizzle.config.ts
================================================
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
out: './drizzle',
dialect: 'postgresql',
dbCredentials: {
url: process.env.DATABASE_URL!,
},
strict: true,
verbose: true,
})

================================================
FILE: examples/react/drizzle/package.json
================================================
{
"name": "tanstack-start-example-counter",
"private": true,
"sideEffects": false,
"type": "module",
"scripts": {
"dev": "drizzle-kit studio & vite dev",
"start": "vite start"
},
"dependencies": {
"@tanstack/react-devtools": "^0.9.2",
"@tanstack/react-router": "^1.132.0",
"@tanstack/react-router-devtools": "^1.132.0",
"@tanstack/react-start": "^1.132.0",
"react": "^19.2.0",
"react-dom": "^19.2.0"
},
"devDependencies": {
"@tanstack/devtools-vite": "0.4.1",
"@types/node": "^22.15.2",
"@types/react": "^19.2.0",
"@types/react-dom": "^19.2.0",
"drizzle-kit": "^0.31.4",
"drizzle-orm": "^0.44.5",
"pg": "^8.16.3",
"typescript": "~5.9.2",
"vite": "^7.1.7",
"vite-plugin-inspect": "11.3.3"
}
}

================================================
FILE: examples/react/drizzle/tsconfig.json
================================================
{
"include": ["**/*.ts", "**/*.tsx"],
"compilerOptions": {
"strict": true,
"esModuleInterop": true,
"jsx": "react-jsx",
"module": "ESNext",
"moduleResolution": "Bundler",
"lib": ["DOM", "DOM.Iterable", "ES2022"],
"isolatedModules": true,
"resolveJsonModule": true,
"skipLibCheck": true,
"target": "ES2022",
"allowJs": true,
"forceConsistentCasingInFileNames": true,
"baseUrl": ".",
"paths": {
"~/_": ["./src/_"]
},
"noEmit": true
}
}

================================================
FILE: examples/react/drizzle/vite.config.ts
================================================
import { tanstackStart } from '@tanstack/react-start/plugin/vite'
import { defineConfig } from 'vite'
import { devtools } from '@tanstack/devtools-vite'
import Inspect from 'vite-plugin-inspect'

export default defineConfig({
server: {
port: 3000,
},
plugins: [devtools() as any, tanstackStart(), Inspect()],
})

================================================
FILE: examples/react/drizzle/src/router.tsx
================================================
import { createRouter as createTanStackRouter } from '@tanstack/react-router'
import { routeTree } from './routeTree.gen'

export function createRouter() {
const router = createTanStackRouter({
routeTree,
scrollRestoration: true,
})

return router
}

declare module '@tanstack/react-router' {
interface Register {
router: ReturnType<typeof createRouter>
}
}

================================================
FILE: examples/react/drizzle/src/routeTree.gen.ts
================================================
/_ eslint-disable _/

// @ts-nocheck

// noinspection JSUnusedGlobalSymbols

// This file was automatically generated by TanStack Router.
// You should NOT make any changes in this file as it will be overwritten.
// Additionally, you should also exclude this file from your linter and/or formatter to prevent it from being checked or modified.

import { Route as rootRouteImport } from './routes/\_\_root'
import { Route as IndexRouteImport } from './routes/index'

const IndexRoute = IndexRouteImport.update({
id: '/',
path: '/',
getParentRoute: () => rootRouteImport,
} as any)

export interface FileRoutesByFullPath {
'/': typeof IndexRoute
}
export interface FileRoutesByTo {
'/': typeof IndexRoute
}
export interface FileRoutesById {
**root**: typeof rootRouteImport
'/': typeof IndexRoute
}
export interface FileRouteTypes {
fileRoutesByFullPath: FileRoutesByFullPath
fullPaths: '/'
fileRoutesByTo: FileRoutesByTo
to: '/'
id: '**root**' | '/'
fileRoutesById: FileRoutesById
}
export interface RootRouteChildren {
IndexRoute: typeof IndexRoute
}

declare module '@tanstack/react-router' {
interface FileRoutesByPath {
'/': {
id: '/'
path: '/'
fullPath: '/'
preLoaderRoute: typeof IndexRouteImport
parentRoute: typeof rootRouteImport
}
}
}

const rootRouteChildren: RootRouteChildren = {
IndexRoute: IndexRoute,
}
export const routeTree = rootRouteImport
.\_addFileChildren(rootRouteChildren)
.\_addFileTypes<FileRouteTypes>()

================================================
FILE: examples/react/drizzle/src/routes/\_\_root.tsx
================================================
import \* as React from 'react'
import {
HeadContent,
Outlet,
Scripts,
createRootRoute,
} from '@tanstack/react-router'

export const Route = createRootRoute({
head: () => ({
meta: [
{
charSet: 'utf-8',
},
{
name: 'viewport',
content: 'width=device-width, initial-scale=1',
},
{
title: 'TanStack Start Starter',
},
],
}),
component: RootComponent,
})

function RootComponent() {
return (
<RootDocument>
<Outlet />
</RootDocument>
)
}

function RootDocument({ children }: { children: React.ReactNode }) {
return (
<html>
<head>
<HeadContent />
</head>
<body style={{ margin: 0, padding: 0, height: '100vh' }}>
{children}
<Scripts />
</body>
</html>
)
}

================================================
FILE: examples/react/drizzle/src/routes/index.tsx
================================================
import { createFileRoute } from '@tanstack/react-router'
import { TanStackDevtools } from '@tanstack/react-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'

export const Route = createFileRoute('/')({
component: Home,
})

function Home() {
return (
<div style={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>
<h1 style={{ textAlign: 'center', width: '100%' }}>
Welcome to the Drizzle + TanStack Start example!
</h1>
<TanStackDevtools
plugins={[
{
name: 'TanStack Router',
render: () => <TanStackRouterDevtoolsPanel />,
},
{
name: 'Drizzle Studio',
render: () => (
<iframe
src="https://local.drizzle.studio"
style={{
flexGrow: 1,
width: '100%',
height: '100%',
border: 0,
}}
/>
),
},
]}
/>
</div>
)
}

================================================
FILE: examples/react/https/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/react/https/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="og:image"
      content="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800"
    />
    <meta name="og:title" content="Basic Example - TanStack Devtools" />
    <meta
      name="og:description"
      content="A basic example of using TanStack Devtools with React and loading up the social previews"
    />
    <meta name="og:url" content="https://example.com/basic" />

    <meta
      name="twitter:image"
      content="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800"
    />
    <meta name="twitter:title" content="Basic Example - TanStack Devtools" />
    <meta
      name="twitter:description"
      content="A basic example of using TanStack Devtools with React and loading up the social previews"
    />
    <meta name="twitter:url" content="https://example.com/basic" />
    <script src="https://unpkg.com/react-scan/dist/auto.global.js"></script>
    <title>Basic Example - TanStack Devtools</title>
    <description
      >A basic example of using TanStack Devtools with React.</description
    >

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/react/https/package.json
================================================
{
"name": "@tanstack/devtools-example-react-https",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3005",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/devtools-event-client": "0.4.0",
"@tanstack/react-devtools": "^0.9.2",
"@tanstack/react-query": "^5.90.1",
"@tanstack/react-query-devtools": "^5.90.1",
"@tanstack/react-router": "^1.132.0",
"@tanstack/react-router-devtools": "^1.132.0",
"react": "^19.2.0",
"react-dom": "^19.2.0",
"zod": "^4.1.11"
},
"devDependencies": {
"@tanstack/devtools-ui": "0.4.4",
"@tanstack/devtools-vite": "0.4.1",
"@types/react": "^19.2.0",
"@types/react-dom": "^19.2.0",
"@vitejs/plugin-react": "^5.0.4",
"vite": "^7.1.7",
"vite-plugin-inspect": "11.3.3",
"vite-plugin-mkcert": "^1.17.8"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/react/https/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src", "vite.config.ts"]
}

================================================
FILE: examples/react/https/vite.config.ts
================================================
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { devtools } from '@tanstack/devtools-vite'
import Inspect from 'vite-plugin-inspect'
import mkcert from 'vite-plugin-mkcert'

// https://vite.dev/config/
export default defineConfig({
plugins: [
devtools(),
Inspect(),
mkcert(),
react({
// babel: {
// plugins: [['babel-plugin-react-compiler', { target: '19' }]],
// },
}),
],
})

================================================
FILE: examples/react/https/src/button-with-props-only.tsx
================================================
import { Button } from './button'

export const ButtonWithProps = (props: { children: React.ReactNode }) => {
return <Button {...props} />
}

================================================
FILE: examples/react/https/src/button.tsx
================================================
export function Button(props: any) {
return <button {...props} />
}

================================================
FILE: examples/react/https/src/feature.tsx
================================================
import { Button } from './button'
import { ButtonWithProps } from './button-with-props-only'

export function Feature() {
return (
<div>
<h2>Feature component</h2>
<Button>Nested</Button>
<ButtonWithProps>With props</ButtonWithProps>
</div>
)
}

================================================
FILE: examples/react/https/src/index.tsx
================================================
import { createRoot } from 'react-dom/client'
import { createContext, useContext, useState } from 'react'
import { createPortal } from 'react-dom'
import {
QueryClient,
QueryClientProvider,
useQuery,
useQueryClient,
} from '@tanstack/react-query'
import Devtools from './setup'
import { queryPlugin } from './plugin'
import { Button } from './button'
import { Feature } from './feature'

const queryClient = new QueryClient({
defaultOptions: {
queries: {
gcTime: 1000 _ 60 _ 60 \* 24, // 24 hours
},
},
})

type Post = {
id: number
title: string
body: string
}

function Posts({
setPostId,
}: {
setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
const queryClient = useQueryClient()
const { status, data, error, isFetching } = usePosts()

return (
<div>
<h1>Posts</h1>
<div>
{status === 'pending' ? (
'Loading...'
) : status === 'error' ? (
<span>Error: {error.message}</span>
) : (
<>
<div>
{data.map((post) => (
<p key={post.id}>
<a
onClick={() => setPostId(post.id)}
href="#"
style={
// We can access the query data here to show bold links for
// ones that are cached
queryClient.getQueryData(['post', post.id])
? {
fontWeight: 'bold',
color: 'green',
}
: {}
} >
{post.title}
</a>
</p>
))}
</div>
<div>{isFetching ? 'Background Updating...' : ' '}</div>
</>
)}
</div>
</div>
)
}

const getPostById = async (id: number): Promise<Post> => {
const response = await fetch(
`https://jsonplaceholder.typicode.com/posts/${id}`,
)
return await response.json()
}

function usePost(postId: number) {
return useQuery({
queryKey: ['post', postId],
queryFn: () => getPostById(postId),
enabled: !!postId,
})
}

function Post({
postId,
setPostId,
}: {
postId: number
setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
const { status, data, error, isFetching } = usePost(postId)

return (
<div>
<div>
<a onClick={() => setPostId(-1)} href="#">
Back
</a>
</div>
{!postId || status === 'pending' ? (
'Loading...'
) : status === 'error' ? (
<span>Error: {error.message}</span>
) : (
<>
<h1>{data.title}</h1>
<div>
<p>{data.body}</p>
</div>
<div>{isFetching ? 'Background Updating...' : ' '}</div>
</>
)}
</div>
)
}
function usePosts() {
return useQuery({
queryKey: ['posts'],
queryFn: async (): Promise<Array<Post>> => {
const response = await fetch('https://jsonplaceholder.typicode.com/posts')
return await response.json()
},
})
}

const Context = createContext<{
count: number
setCount: (count: number) => void
}>({ count: 0, setCount: () => {} })

setTimeout(() => {
queryPlugin.emit('test', {
title: 'Test Event',
description:
'This is a test event from the TanStack Query Devtools plugin.',
})
}, 1000)

queryPlugin.on('test', (event) => {
console.log('Received test event:', event)
})

function Mounted() {
const c = useContext(Context)
console.log(c)
return (
<p
onClick={() => {
c.setCount(c.count + 1)
}} >
{c.count}
<hr />
</p>
)
}

function App() {
const [state, setState] = useState(1)
const [win, setWin] = useState<Window | null>(null)
const [postId, setPostId] = useState(-1)
return (
<div>
<Context.Provider value={{ count: state, setCount: setState }}>
<QueryClientProvider client={queryClient}>
<h1>TanStack Devtools React Basic Example</h1>
current count: {state}
<Button onClick={() => setState(state + 1)}>Click me</Button>
<Button onClick={() => setWin(window.open('', '', 'popup'))}>
Click me to open new window
</Button>
{win && createPortal(<Mounted />, win.document.body)}
<Feature />
<p>
As you visit the posts below, you will notice them in a loading
state the first time you load them. However, after you return to
this list and click on any posts you have already visited again, you
will see them load instantly and background refresh right before
your eyes!{' '}
<strong>
(You may need to throttle your network speed to simulate longer
loading sequences)
</strong>
</p>
{postId > -1 ? (
<Post postId={postId} setPostId={setPostId} />
) : (
<Posts setPostId={setPostId} />
)}
<Devtools />
</QueryClientProvider>
</Context.Provider>
</div>
)
}

const root = createRoot(document.getElementById('root')!)
root.render(<App />)

================================================
FILE: examples/react/https/src/plugin.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'

interface EventMap {
'query-devtools:test': {
title: string
description: string
}
'query-devtools:init': {
title: string
description: string
}
'query-devtools:query': {
title: string
description: string
}
}
class QueryDevtoolsPlugin extends EventClient<EventMap> {
constructor() {
super({
pluginId: 'query-devtools',
})
}
}

export const queryPlugin = new QueryDevtoolsPlugin()

================================================
FILE: examples/react/https/src/setup.tsx
================================================
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'
import {
Link,
Outlet,
RouterProvider,
createRootRoute,
createRoute,
createRouter,
} from '@tanstack/react-router'
import { TanStackDevtools } from '@tanstack/react-devtools'

const rootRoute = createRootRoute({
component: () => (
<>
<div className="p-2 flex gap-2">
<Link to="/" className="[&.active]:font-bold">
Home
</Link>{' '}
<Link to="/about" className="[&.active]:font-bold">
About
</Link>
</div>
<hr />
<Outlet />
</>
),
})

const indexRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/',
component: function Index() {
return (
<div className="p-2">
<h3>Welcome Home!</h3>
</div>
)
},
})
function About() {
return (
<div className="p-2">
<h3>Hello from About!</h3>
</div>
)
}

const aboutRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/about',
component: About,
})

const routeTree = rootRoute.addChildren([indexRoute, aboutRoute])

const router = createRouter({ routeTree })

export default function DevtoolsExample() {
return (
<>
<TanStackDevtools
eventBusConfig={{
          connectToServerBus: true,
        }}
plugins={[
{
name: 'TanStack Query',
render: <ReactQueryDevtoolsPanel />,
},
{
name: 'TanStack Router',
render: <TanStackRouterDevtoolsPanel router={router} />,
},
]}
/>
<RouterProvider router={router} />
</>
)
}

================================================
FILE: examples/react/start/README.md
================================================
Welcome to your new TanStack app!

# Getting Started

To run this application:

```bash
pnpm install
pnpm start
```

# Building For Production

To build this application for production:

```bash
pnpm build
```

## Testing

This project uses [Vitest](https://vitest.dev/) for testing. You can run the tests with:

```bash
pnpm test
```

## Styling

This project uses [Tailwind CSS](https://tailwindcss.com/) for styling.

## Routing

This project uses [TanStack Router](https://tanstack.com/router). The initial setup is a file based router. Which means that the routes are managed as files in `src/routes`.

### Adding A Route

To add a new route to your application just add another a new file in the `./src/routes` directory.

TanStack will automatically generate the content of the route file for you.

Now that you have two routes you can use a `Link` component to navigate between them.

### Adding Links

To use SPA (Single Page Application) navigation you will need to import the `Link` component from `@tanstack/react-router`.

```tsx
import { Link } from '@tanstack/react-router'
```

Then anywhere in your JSX you can use it like so:

```tsx
<Link to="/about">About</Link>
```

This will create a link that will navigate to the `/about` route.

More information on the `Link` component can be found in the [Link documentation](https://tanstack.com/router/v1/docs/framework/react/api/router/linkComponent).

### Using A Layout

In the File Based Routing setup the layout is located in `src/routes/__root.tsx`. Anything you add to the root route will appear in all the routes. The route content will appear in the JSX where you use the `<Outlet />` component.

Here is an example layout that includes a header:

```tsx
import { Outlet, createRootRoute } from '@tanstack/react-router'
import { TanStackRouterDevtools } from '@tanstack/react-router-devtools'

import { Link } from '@tanstack/react-router'

export const Route = createRootRoute({
	component: () => (
		<>
			<header>
				<nav>
					<Link to="/">Home</Link>
					<Link to="/about">About</Link>
				</nav>
			</header>
			<Outlet />
			<TanStackRouterDevtools />
		</>
	),
})
```

The `<TanStackRouterDevtools />` component is not required so you can remove it if you don't want it in your layout.

More information on layouts can be found in the [Layouts documentation](https://tanstack.com/router/latest/docs/framework/react/guide/routing-concepts#layouts).

## Data Fetching

There are multiple ways to fetch data in your application. You can use TanStack Query to fetch data from a server. But you can also use the `loader` functionality built into TanStack Router to load the data for a route before it's rendered.

For example:

```tsx
const peopleRoute = createRoute({
	getParentRoute: () => rootRoute,
	path: '/people',
	loader: async () => {
		const response = await fetch('https://swapi.dev/api/people')
		return response.json() as Promise<{
			results: {
				name: string
			}[]
		}>
	},
	component: () => {
		const data = peopleRoute.useLoaderData()
		return (
			<ul>
				{data.results.map((person) => (
					<li key={person.name}>{person.name}</li>
				))}
			</ul>
		)
	},
})
```

Loaders simplify your data fetching logic dramatically. Check out more information in the [Loader documentation](https://tanstack.com/router/latest/docs/framework/react/guide/data-loading#loader-parameters).

### React-Query

React-Query is an excellent addition or alternative to route loading and integrating it into you application is a breeze.

First add your dependencies:

```bash
pnpm add @tanstack/react-query @tanstack/react-query-devtools
```

Next we'll need to create a query client and provider. We recommend putting those in `main.tsx`.

```tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

// ...

const queryClient = new QueryClient()

// ...

if (!rootElement.innerHTML) {
	const root = ReactDOM.createRoot(rootElement)

	root.render(
		<QueryClientProvider client={queryClient}>
			<RouterProvider router={router} />
		</QueryClientProvider>
	)
}
```

You can also add TanStack Query Devtools to the root route (optional).

```tsx
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const rootRoute = createRootRoute({
	component: () => (
		<>
			<Outlet />
			<ReactQueryDevtools buttonPosition="top-right" />
			<TanStackRouterDevtools />
		</>
	),
})
```

Now you can use `useQuery` to fetch your data.

```tsx
import { useQuery } from '@tanstack/react-query'

import './App.css'

function App() {
	const { data } = useQuery({
		queryKey: ['people'],
		queryFn: () =>
			fetch('https://swapi.dev/api/people')
				.then((res) => res.json())
				.then((data) => data.results as { name: string }[]),
		initialData: [],
	})

	return (
		<div>
			<ul>
				{data.map((person) => (
					<li key={person.name}>{person.name}</li>
				))}
			</ul>
		</div>
	)
}

export default App
```

You can find out everything you need to know on how to use React-Query in the [React-Query documentation](https://tanstack.com/query/latest/docs/framework/react/overview).

## State Management

Another common requirement for React applications is state management. There are many options for state management in React. TanStack Store provides a great starting point for your project.

First you need to add TanStack Store as a dependency:

```bash
pnpm add @tanstack/store
```

Now let's create a simple counter in the `src/App.tsx` file as a demonstration.

```tsx
import { useStore } from '@tanstack/react-store'
import { Store } from '@tanstack/store'
import './App.css'

const countStore = new Store(0)

function App() {
	const count = useStore(countStore)
	return (
		<div>
			<button onClick={() => countStore.setState((n) => n + 1)}>
				Increment - {count}
			</button>
		</div>
	)
}

export default App
```

One of the many nice features of TanStack Store is the ability to derive state from other state. That derived state will update when the base state updates.

Let's check this out by doubling the count using derived state.

```tsx
import { useStore } from '@tanstack/react-store'
import { Store, Derived } from '@tanstack/store'
import './App.css'

const countStore = new Store(0)

const doubledStore = new Derived({
	fn: () => countStore.state * 2,
	deps: [countStore],
})
doubledStore.mount()

function App() {
	const count = useStore(countStore)
	const doubledCount = useStore(doubledStore)

	return (
		<div>
			<button onClick={() => countStore.setState((n) => n + 1)}>
				Increment - {count}
			</button>
			<div>Doubled - {doubledCount}</div>
		</div>
	)
}

export default App
```

We use the `Derived` class to create a new store that is derived from another store. The `Derived` class has a `mount` method that will start the derived store updating.

Once we've created the derived store we can use it in the `App` component just like we would any other store using the `useStore` hook.

You can find out everything you need to know on how to use TanStack Store in the [TanStack Store documentation](https://tanstack.com/store/latest).

# Demo files

Files prefixed with `demo` can be safely deleted. They are there to provide a starting point for you to play around with the features you've installed.

# Learn More

You can learn more about all of the offerings from TanStack in the [TanStack documentation](https://tanstack.com).

================================================
FILE: examples/react/start/package.json
================================================
{
"name": "start",
"private": true,
"type": "module",
"scripts": {
"dev": "vite dev --port 3000",
"build": "vite build",
"preview": "vite preview",
"test": "vitest run"
},
"dependencies": {
"@tailwindcss/vite": "^4.0.6",
"@tanstack/devtools-event-client": "workspace:\*",
"@tanstack/react-devtools": "^0.9.2",
"@tanstack/react-router": "^1.132.0",
"@tanstack/react-router-devtools": "^1.132.0",
"@tanstack/react-router-ssr-query": "^1.131.7",
"@tanstack/react-start": "^1.132.0",
"@tanstack/router-plugin": "^1.132.0",
"lucide-react": "^0.561.0",
"nitro": "latest",
"react": "^19.2.0",
"react-dom": "^19.2.0",
"tailwindcss": "^4.0.6",
"vite-tsconfig-paths": "^6.0.2"
},
"devDependencies": {
"@tanstack/devtools-vite": "0.4.1",
"@testing-library/dom": "^10.4.0",
"@testing-library/react": "^16.2.0",
"@types/node": "^22.15.2",
"@types/react": "^19.2.0",
"@types/react-dom": "^19.2.0",
"@vitejs/plugin-react": "^5.0.4",
"jsdom": "^27.0.0",
"typescript": "~5.9.2",
"vite": "^7.1.7",
"vitest": "^3.2.4",
"web-vitals": "^5.1.0"
}
}

================================================
FILE: examples/react/start/tsconfig.json
================================================
{
"include": ["**/*.ts", "**/*.tsx"],
"compilerOptions": {
"target": "ES2022",
"jsx": "react-jsx",
"module": "ESNext",
"lib": ["ES2022", "DOM", "DOM.Iterable"],
"types": ["vite/client"],

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": false,
    "noEmit": true,

    /* Linting */
    "skipLibCheck": true,
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }

}
}

================================================
FILE: examples/react/start/vite.config.ts
================================================
import { defineConfig } from 'vite'
import { devtools } from '@tanstack/devtools-vite'
import { tanstackStart } from '@tanstack/react-start/plugin/vite'
import viteReact from '@vitejs/plugin-react'
import viteTsConfigPaths from 'vite-tsconfig-paths'
import tailwindcss from '@tailwindcss/vite'
import { nitro } from 'nitro/vite'

const config = defineConfig({
plugins: [
devtools(),
nitro(),
// this is the plugin that enables path aliases
viteTsConfigPaths({
projects: ['./tsconfig.json'],
}),
tailwindcss(),
tanstackStart(),
viteReact(),
],
})

export default config

================================================
FILE: examples/react/start/public/manifest.json
================================================
{
"short_name": "TanStack App",
"name": "Create TanStack App Sample",
"icons": [
{
"src": "favicon.ico",
"sizes": "64x64 32x32 24x24 16x16",
"type": "image/x-icon"
},
{
"src": "logo192.png",
"type": "image/png",
"sizes": "192x192"
},
{
"src": "logo512.png",
"type": "image/png",
"sizes": "512x512"
}
],
"start_url": ".",
"display": "standalone",
"theme_color": "#000000",
"background_color": "#ffffff"
}

================================================
FILE: examples/react/start/public/robots.txt
================================================

# https://www.robotstxt.org/robotstxt.html

User-agent: \*
Disallow:

================================================
FILE: examples/react/start/src/router.tsx
================================================
import { createRouter } from '@tanstack/react-router'

// Import the generated route tree
import { routeTree } from './routeTree.gen'

// Create a new router instance
export const getRouter = () => {
const router = createRouter({
routeTree,
context: {},

    scrollRestoration: true,
    defaultPreloadStaleTime: 0,

})

return router
}

================================================
FILE: examples/react/start/src/routeTree.gen.ts
================================================
/_ eslint-disable _/

// @ts-nocheck

// noinspection JSUnusedGlobalSymbols

// This file was automatically generated by TanStack Router.
// You should NOT make any changes in this file as it will be overwritten.
// Additionally, you should also exclude this file from your linter and/or formatter to prevent it from being checked or modified.

import { Route as rootRouteImport } from './routes/\_\_root'
import { Route as IndexRouteImport } from './routes/index'
import { Route as DemoStartServerFuncsRouteImport } from './routes/demo/start.server-funcs'
import { Route as DemoStartApiRequestRouteImport } from './routes/demo/start.api-request'
import { Route as DemoApiNamesRouteImport } from './routes/demo/api.names'
import { Route as DemoStartSsrIndexRouteImport } from './routes/demo/start.ssr.index'
import { Route as DemoStartSsrSpaModeRouteImport } from './routes/demo/start.ssr.spa-mode'
import { Route as DemoStartSsrFullSsrRouteImport } from './routes/demo/start.ssr.full-ssr'
import { Route as DemoStartSsrDataOnlyRouteImport } from './routes/demo/start.ssr.data-only'

const IndexRoute = IndexRouteImport.update({
id: '/',
path: '/',
getParentRoute: () => rootRouteImport,
} as any)
const DemoStartServerFuncsRoute = DemoStartServerFuncsRouteImport.update({
id: '/demo/start/server-funcs',
path: '/demo/start/server-funcs',
getParentRoute: () => rootRouteImport,
} as any)
const DemoStartApiRequestRoute = DemoStartApiRequestRouteImport.update({
id: '/demo/start/api-request',
path: '/demo/start/api-request',
getParentRoute: () => rootRouteImport,
} as any)
const DemoApiNamesRoute = DemoApiNamesRouteImport.update({
id: '/demo/api/names',
path: '/demo/api/names',
getParentRoute: () => rootRouteImport,
} as any)
const DemoStartSsrIndexRoute = DemoStartSsrIndexRouteImport.update({
id: '/demo/start/ssr/',
path: '/demo/start/ssr/',
getParentRoute: () => rootRouteImport,
} as any)
const DemoStartSsrSpaModeRoute = DemoStartSsrSpaModeRouteImport.update({
id: '/demo/start/ssr/spa-mode',
path: '/demo/start/ssr/spa-mode',
getParentRoute: () => rootRouteImport,
} as any)
const DemoStartSsrFullSsrRoute = DemoStartSsrFullSsrRouteImport.update({
id: '/demo/start/ssr/full-ssr',
path: '/demo/start/ssr/full-ssr',
getParentRoute: () => rootRouteImport,
} as any)
const DemoStartSsrDataOnlyRoute = DemoStartSsrDataOnlyRouteImport.update({
id: '/demo/start/ssr/data-only',
path: '/demo/start/ssr/data-only',
getParentRoute: () => rootRouteImport,
} as any)

export interface FileRoutesByFullPath {
'/': typeof IndexRoute
'/demo/api/names': typeof DemoApiNamesRoute
'/demo/start/api-request': typeof DemoStartApiRequestRoute
'/demo/start/server-funcs': typeof DemoStartServerFuncsRoute
'/demo/start/ssr/data-only': typeof DemoStartSsrDataOnlyRoute
'/demo/start/ssr/full-ssr': typeof DemoStartSsrFullSsrRoute
'/demo/start/ssr/spa-mode': typeof DemoStartSsrSpaModeRoute
'/demo/start/ssr': typeof DemoStartSsrIndexRoute
}
export interface FileRoutesByTo {
'/': typeof IndexRoute
'/demo/api/names': typeof DemoApiNamesRoute
'/demo/start/api-request': typeof DemoStartApiRequestRoute
'/demo/start/server-funcs': typeof DemoStartServerFuncsRoute
'/demo/start/ssr/data-only': typeof DemoStartSsrDataOnlyRoute
'/demo/start/ssr/full-ssr': typeof DemoStartSsrFullSsrRoute
'/demo/start/ssr/spa-mode': typeof DemoStartSsrSpaModeRoute
'/demo/start/ssr': typeof DemoStartSsrIndexRoute
}
export interface FileRoutesById {
**root**: typeof rootRouteImport
'/': typeof IndexRoute
'/demo/api/names': typeof DemoApiNamesRoute
'/demo/start/api-request': typeof DemoStartApiRequestRoute
'/demo/start/server-funcs': typeof DemoStartServerFuncsRoute
'/demo/start/ssr/data-only': typeof DemoStartSsrDataOnlyRoute
'/demo/start/ssr/full-ssr': typeof DemoStartSsrFullSsrRoute
'/demo/start/ssr/spa-mode': typeof DemoStartSsrSpaModeRoute
'/demo/start/ssr/': typeof DemoStartSsrIndexRoute
}
export interface FileRouteTypes {
fileRoutesByFullPath: FileRoutesByFullPath
fullPaths:
| '/'
| '/demo/api/names'
| '/demo/start/api-request'
| '/demo/start/server-funcs'
| '/demo/start/ssr/data-only'
| '/demo/start/ssr/full-ssr'
| '/demo/start/ssr/spa-mode'
| '/demo/start/ssr'
fileRoutesByTo: FileRoutesByTo
to:
| '/'
| '/demo/api/names'
| '/demo/start/api-request'
| '/demo/start/server-funcs'
| '/demo/start/ssr/data-only'
| '/demo/start/ssr/full-ssr'
| '/demo/start/ssr/spa-mode'
| '/demo/start/ssr'
id:
| '**root**'
| '/'
| '/demo/api/names'
| '/demo/start/api-request'
| '/demo/start/server-funcs'
| '/demo/start/ssr/data-only'
| '/demo/start/ssr/full-ssr'
| '/demo/start/ssr/spa-mode'
| '/demo/start/ssr/'
fileRoutesById: FileRoutesById
}
export interface RootRouteChildren {
IndexRoute: typeof IndexRoute
DemoApiNamesRoute: typeof DemoApiNamesRoute
DemoStartApiRequestRoute: typeof DemoStartApiRequestRoute
DemoStartServerFuncsRoute: typeof DemoStartServerFuncsRoute
DemoStartSsrDataOnlyRoute: typeof DemoStartSsrDataOnlyRoute
DemoStartSsrFullSsrRoute: typeof DemoStartSsrFullSsrRoute
DemoStartSsrSpaModeRoute: typeof DemoStartSsrSpaModeRoute
DemoStartSsrIndexRoute: typeof DemoStartSsrIndexRoute
}

declare module '@tanstack/react-router' {
interface FileRoutesByPath {
'/': {
id: '/'
path: '/'
fullPath: '/'
preLoaderRoute: typeof IndexRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/start/server-funcs': {
id: '/demo/start/server-funcs'
path: '/demo/start/server-funcs'
fullPath: '/demo/start/server-funcs'
preLoaderRoute: typeof DemoStartServerFuncsRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/start/api-request': {
id: '/demo/start/api-request'
path: '/demo/start/api-request'
fullPath: '/demo/start/api-request'
preLoaderRoute: typeof DemoStartApiRequestRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/api/names': {
id: '/demo/api/names'
path: '/demo/api/names'
fullPath: '/demo/api/names'
preLoaderRoute: typeof DemoApiNamesRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/start/ssr/': {
id: '/demo/start/ssr/'
path: '/demo/start/ssr'
fullPath: '/demo/start/ssr'
preLoaderRoute: typeof DemoStartSsrIndexRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/start/ssr/spa-mode': {
id: '/demo/start/ssr/spa-mode'
path: '/demo/start/ssr/spa-mode'
fullPath: '/demo/start/ssr/spa-mode'
preLoaderRoute: typeof DemoStartSsrSpaModeRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/start/ssr/full-ssr': {
id: '/demo/start/ssr/full-ssr'
path: '/demo/start/ssr/full-ssr'
fullPath: '/demo/start/ssr/full-ssr'
preLoaderRoute: typeof DemoStartSsrFullSsrRouteImport
parentRoute: typeof rootRouteImport
}
'/demo/start/ssr/data-only': {
id: '/demo/start/ssr/data-only'
path: '/demo/start/ssr/data-only'
fullPath: '/demo/start/ssr/data-only'
preLoaderRoute: typeof DemoStartSsrDataOnlyRouteImport
parentRoute: typeof rootRouteImport
}
}
}

const rootRouteChildren: RootRouteChildren = {
IndexRoute: IndexRoute,
DemoApiNamesRoute: DemoApiNamesRoute,
DemoStartApiRequestRoute: DemoStartApiRequestRoute,
DemoStartServerFuncsRoute: DemoStartServerFuncsRoute,
DemoStartSsrDataOnlyRoute: DemoStartSsrDataOnlyRoute,
DemoStartSsrFullSsrRoute: DemoStartSsrFullSsrRoute,
DemoStartSsrSpaModeRoute: DemoStartSsrSpaModeRoute,
DemoStartSsrIndexRoute: DemoStartSsrIndexRoute,
}
export const routeTree = rootRouteImport
.\_addFileChildren(rootRouteChildren)
.\_addFileTypes<FileRouteTypes>()

import type { getRouter } from './router.tsx'
import type { createStart } from '@tanstack/react-start'
declare module '@tanstack/react-start' {
interface Register {
ssr: true
router: Awaited<ReturnType<typeof getRouter>>
}
}

================================================
FILE: examples/react/start/src/styles.css
================================================
@import 'tailwindcss';

body {
@apply m-0;
font-family:
-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',
'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}

code {
font-family:
source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

================================================
FILE: examples/react/start/src/components/Header.tsx
================================================
import { Link } from '@tanstack/react-router'

import { useState } from 'react'
import {
ChevronDown,
ChevronRight,
Home,
Menu,
Network,
SquareFunction,
StickyNote,
X,
} from 'lucide-react'

export default function Header() {
const [isOpen, setIsOpen] = useState(false)
const [groupedExpanded, setGroupedExpanded] = useState<
Record<string, boolean>

> ({})

return (
<>
<header className="p-4 flex items-center bg-gray-800 text-white shadow-lg">
<button
onClick={() => setIsOpen(true)}
className="p-2 hover:bg-gray-700 rounded-lg transition-colors"
aria-label="Open menu" >
<Menu size={24} />
</button>
<h1 className="ml-4 text-xl font-semibold">
<Link to="/">
<img
              src="/tanstack-word-logo-white.svg"
              alt="TanStack Logo"
              className="h-10"
            />
</Link>
</h1>
</header>

      <aside
        className={`fixed top-0 left-0 h-full w-80 bg-gray-900 text-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out flex flex-col ${
          isOpen ? 'translate-x-0' : '-translate-x-full'
        }`}
      >
        <div className="flex items-center justify-between p-4 border-b border-gray-700">
          <h2 className="text-xl font-bold">Navigation</h2>
          <button
            onClick={() => setIsOpen(false)}
            className="p-2 hover:bg-gray-800 rounded-lg transition-colors"
            aria-label="Close menu"
          >
            <X size={24} />
          </button>
        </div>

        <nav className="flex-1 p-4 overflow-y-auto">
          <Link
            to="/"
            onClick={() => setIsOpen(false)}
            className="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
            activeProps={{
              className:
                'flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
            }}
          >
            <Home size={20} />
            <span className="font-medium">Home</span>
          </Link>

          {/* Demo Links Start */}

          <Link
            to="/demo/start/server-funcs"
            onClick={() => setIsOpen(false)}
            className="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
            activeProps={{
              className:
                'flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
            }}
          >
            <SquareFunction size={20} />
            <span className="font-medium">Start - Server Functions</span>
          </Link>

          <Link
            to="/demo/start/api-request"
            onClick={() => setIsOpen(false)}
            className="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
            activeProps={{
              className:
                'flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
            }}
          >
            <Network size={20} />
            <span className="font-medium">Start - API Request</span>
          </Link>

          <div className="flex flex-row justify-between">
            <Link
              to="/demo/start/ssr"
              onClick={() => setIsOpen(false)}
              className="flex-1 flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
              activeProps={{
                className:
                  'flex-1 flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
              }}
            >
              <StickyNote size={20} />
              <span className="font-medium">Start - SSR Demos</span>
            </Link>
            <button
              className="p-2 hover:bg-gray-800 rounded-lg transition-colors"
              onClick={() =>
                setGroupedExpanded((prev) => ({
                  ...prev,
                  StartSSRDemo: !prev.StartSSRDemo,
                }))
              }
            >
              {groupedExpanded.StartSSRDemo ? (
                <ChevronDown size={20} />
              ) : (
                <ChevronRight size={20} />
              )}
            </button>
          </div>
          {groupedExpanded.StartSSRDemo && (
            <div className="flex flex-col ml-4">
              <Link
                to="/demo/start/ssr/spa-mode"
                onClick={() => setIsOpen(false)}
                className="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
                activeProps={{
                  className:
                    'flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
                }}
              >
                <StickyNote size={20} />
                <span className="font-medium">SPA Mode</span>
              </Link>

              <Link
                to="/demo/start/ssr/full-ssr"
                onClick={() => setIsOpen(false)}
                className="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
                activeProps={{
                  className:
                    'flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
                }}
              >
                <StickyNote size={20} />
                <span className="font-medium">Full SSR</span>
              </Link>

              <Link
                to="/demo/start/ssr/data-only"
                onClick={() => setIsOpen(false)}
                className="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition-colors mb-2"
                activeProps={{
                  className:
                    'flex items-center gap-3 p-3 rounded-lg bg-cyan-600 hover:bg-cyan-700 transition-colors mb-2',
                }}
              >
                <StickyNote size={20} />
                <span className="font-medium">Data Only</span>
              </Link>
            </div>
          )}

          {/* Demo Links End */}
        </nav>
      </aside>
    </>

)
}

================================================
FILE: examples/react/start/src/data/demo.punk-songs.ts
================================================
import { createServerFn } from '@tanstack/react-start'

export const getPunkSongs = createServerFn({
method: 'GET',
}).handler(async () => [
{ id: 1, name: 'Teenage Dirtbag', artist: 'Wheatus' },
{ id: 2, name: 'Smells Like Teen Spirit', artist: 'Nirvana' },
{ id: 3, name: 'The Middle', artist: 'Jimmy Eat World' },
{ id: 4, name: 'My Own Worst Enemy', artist: 'Lit' },
{ id: 5, name: 'Fat Lip', artist: 'Sum 41' },
{ id: 6, name: 'All the Small Things', artist: 'blink-182' },
{ id: 7, name: 'Beverly Hills', artist: 'Weezer' },
])

================================================
FILE: examples/react/start/src/devtools/index.ts
================================================
export { routeNavigationEventClient } from './route-navigation-event-client'
export type { RouteNavigationEvent } from './route-navigation-event-client'
export { RouteNavigationPanel } from './RouteNavigationPanel'
export { emitRouteNavigation } from './useRouteNavigation'

================================================
FILE: examples/react/start/src/devtools/route-navigation-event-client.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'

export interface RouteNavigationEvent {
routePath: string
routeName: string
timestamp: number
params?: Record<string, string>
search?: Record<string, unknown>
}

type RouteNavigationEventMap = {
'route-navigation:navigate': RouteNavigationEvent
'route-navigation:clear': undefined
}

class RouteNavigationEventClient extends EventClient<
RouteNavigationEventMap,
'route-navigation'

> {
> constructor() {

    super({
      pluginId: 'route-navigation',
    })

}
}

export const routeNavigationEventClient = new RouteNavigationEventClient()

================================================
FILE: examples/react/start/src/devtools/RouteNavigationPanel.tsx
================================================
import { useEffect, useState } from 'react'
import { routeNavigationEventClient } from './route-navigation-event-client'
import type { RouteNavigationEvent } from './route-navigation-event-client'

export function RouteNavigationPanel() {
const [navigations, setNavigations] = useState<Array<RouteNavigationEvent>>(
[],
)

useEffect(() => {
const cleanupNavigate = routeNavigationEventClient.on(
'navigate',
(event) => {
setNavigations((prev) => [event.payload, ...prev].slice(0, 50)) // Keep last 50
},
{ withEventTarget: true },
)

    const cleanupClear = routeNavigationEventClient.on(
      'clear',
      () => {
        setNavigations([])
      },
      { withEventTarget: true },
    )

    return () => {
      cleanupNavigate()
      cleanupClear()
    }

}, [])

const formatTime = (timestamp: number) => {
return new Date(timestamp).toLocaleTimeString('en-US', {
hour12: false,
hour: '2-digit',
minute: '2-digit',
second: '2-digit',
fractionalSecondDigits: 3,
})
}

return (
<div
style={{
        padding: '16px',
        fontFamily: 'system-ui, sans-serif',
        height: '100%',
        overflow: 'auto',
      }} >
<div
style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          marginBottom: '16px',
        }} >
<h2
style={{
            margin: 0,
            fontSize: '16px',
            fontWeight: 600,
            color: 'inherit',
          }} >
Route Navigations ({navigations.length})
</h2>
<button
onClick={() => routeNavigationEventClient.emit('clear', undefined)}
style={{
            padding: '4px 12px',
            fontSize: '12px',
            borderRadius: '4px',
            border: '1px solid currentColor',
            background: 'transparent',
            color: 'inherit',
            cursor: 'pointer',
            opacity: 0.7,
          }} >
Clear
</button>
</div>

      {navigations.length === 0 ? (
        <div
          style={{
            padding: '24px',
            textAlign: 'center',
            opacity: 0.5,
            fontSize: '14px',
          }}
        >
          No route navigations recorded yet.
          <br />
          Navigate to a route to see events here.
        </div>
      ) : (
        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
          {navigations.map((nav, index) => (
            <div
              key={`${nav.timestamp}-${index}`}
              style={{
                padding: '12px',
                borderRadius: '8px',
                background: 'rgba(128, 128, 128, 0.1)',
                border: '1px solid rgba(128, 128, 128, 0.2)',
              }}
            >
              <div
                style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'flex-start',
                  marginBottom: '8px',
                }}
              >
                <span
                  style={{
                    fontWeight: 600,
                    fontSize: '14px',
                    color: '#22d3ee',
                  }}
                >
                  {nav.routeName}
                </span>
                <span
                  style={{
                    fontSize: '11px',
                    opacity: 0.6,
                    fontFamily: 'monospace',
                  }}
                >
                  {formatTime(nav.timestamp)}
                </span>
              </div>

              <div
                style={{
                  fontSize: '13px',
                  fontFamily: 'monospace',
                  opacity: 0.8,
                  marginBottom: nav.params || nav.search ? '8px' : 0,
                }}
              >
                {nav.routePath}
              </div>

              {nav.params && Object.keys(nav.params).length > 0 && (
                <div style={{ fontSize: '12px', marginTop: '4px' }}>
                  <span style={{ opacity: 0.6 }}>Params: </span>
                  <code
                    style={{
                      background: 'rgba(128, 128, 128, 0.15)',
                      padding: '2px 6px',
                      borderRadius: '4px',
                    }}
                  >
                    {JSON.stringify(nav.params)}
                  </code>
                </div>
              )}

              {nav.search && Object.keys(nav.search).length > 0 && (
                <div style={{ fontSize: '12px', marginTop: '4px' }}>
                  <span style={{ opacity: 0.6 }}>Search: </span>
                  <code
                    style={{
                      background: 'rgba(128, 128, 128, 0.15)',
                      padding: '2px 6px',
                      borderRadius: '4px',
                    }}
                  >
                    {JSON.stringify(nav.search)}
                  </code>
                </div>
              )}
            </div>
          ))}
        </div>
      )}
    </div>

)
}

================================================
FILE: examples/react/start/src/devtools/useRouteNavigation.ts
================================================
import { routeNavigationEventClient } from './route-navigation-event-client'

/\*\*

- Emits a route navigation event to the devtools.
- Call this function inside your route loader to track navigations.
-
- @param routeName - A friendly name for the route (e.g., "Home", "User Profile")
- @param routePath - The path of the route
- @param options - Optional params and search data
  \*/
  export function emitRouteNavigation(
  routeName: string,
  routePath: string,
  options?: {
  params?: Record<string, string>
  search?: Record<string, unknown>
  },
  ) {
  // Only emit in development
  if (process.env.NODE_ENV !== 'development') return

routeNavigationEventClient.emit('navigate', {
routePath,
routeName,
timestamp: Date.now(),
params: options?.params,
search: options?.search,
})
}

================================================
FILE: examples/react/start/src/routes/\_\_root.tsx
================================================
import { HeadContent, Scripts, createRootRoute } from '@tanstack/react-router'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'
import { TanStackDevtools } from '@tanstack/react-devtools'

import Header from '../components/Header'
import { RouteNavigationPanel } from '../devtools'

import appCss from '../styles.css?url'

export const Route = createRootRoute({
head: () => ({
meta: [
{
charSet: 'utf-8',
},
{
name: 'viewport',
content: 'width=device-width, initial-scale=1',
},
{
title: 'TanStack Start Starter',
},
],
links: [
{
rel: 'stylesheet',
href: appCss,
},
],
}),

shellComponent: RootDocument,
})

function RootDocument({ children }: { children: React.ReactNode }) {
console.log('Rendering Root Document')
return (
<html lang="en">
<head>
<HeadContent />
</head>
<body>
<Header />
{children}
<TanStackDevtools
config={{
            position: 'bottom-right',
          }}
plugins={[
{
name: 'Tanstack Router',
render: <TanStackRouterDevtoolsPanel />,
},
{
id: 'route-navigation',
name: 'Route Navigation',
render: <RouteNavigationPanel />,
},
]}
/>
<Scripts />
</body>
</html>
)
}

================================================
FILE: examples/react/start/src/routes/index.tsx
================================================
import { createFileRoute } from '@tanstack/react-router'
import {
Zap,
Server,
Route as RouteIcon,
Shield,
Waves,
Sparkles,
} from 'lucide-react'
import { emitRouteNavigation } from '../devtools'

export const Route = createFileRoute('/')({
component: App,
loader: () => {
emitRouteNavigation('Home', '/')
},
})

function App() {
const features = [
{
icon: <Zap className="w-12 h-12 text-cyan-400" />,
title: 'Powerful Server Functions',
description:
'Write server-side code that seamlessly integrates with your client components. Type-safe, secure, and simple.',
},
{
icon: <Server className="w-12 h-12 text-cyan-400" />,
title: 'Flexible Server Side Rendering',
description:
'Full-document SSR, streaming, and progressive enhancement out of the box. Control exactly what renders where.',
},
{
icon: <RouteIcon className="w-12 h-12 text-cyan-400" />,
title: 'API Routes',
description:
'Build type-safe API endpoints alongside your application. No separate backend needed.',
},
{
icon: <Shield className="w-12 h-12 text-cyan-400" />,
title: 'Strongly Typed Everything',
description:
'End-to-end type safety from server to client. Catch errors before they reach production.',
},
{
icon: <Waves className="w-12 h-12 text-cyan-400" />,
title: 'Full Streaming Support',
description:
'Stream data from server to client progressively. Perfect for AI applications and real-time updates.',
},
{
icon: <Sparkles className="w-12 h-12 text-cyan-400" />,
title: 'Next Generation Ready',
description:
'Built from the ground up for modern web applications. Deploy anywhere JavaScript runs.',
},
]

return (
<div className="min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900">
<section className="relative py-20 px-6 text-center overflow-hidden">
<div className="absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-purple-500/10"></div>
<div className="relative max-w-5xl mx-auto">
<div className="flex items-center justify-center gap-6 mb-6">
<img
              src="/tanstack-circle-logo.png"
              alt="TanStack Logo"
              className="w-24 h-24 md:w-32 md:h-32"
            />
<h1 className="text-6xl md:text-7xl font-black text-white [letter-spacing:-0.08em]">
<span className="text-gray-300">TANSTACK</span>{' '}
<span className="bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">
START
</span>
</h1>
</div>
<p className="text-2xl md:text-3xl text-gray-300 mb-4 font-light">
The framework for next generation AI applications
</p>
<p className="text-lg text-gray-400 max-w-3xl mx-auto mb-8">
Full-stack framework powered by TanStack Router for React and Solid.
Build modern applications with server functions, streaming, and type
safety.
</p>
<div className="flex flex-col items-center gap-4">
<a
              href="https://tanstack.com/start"
              target="_blank"
              rel="noopener noreferrer"
              className="px-8 py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-semibold rounded-lg transition-colors shadow-lg shadow-cyan-500/50"
            >
Documentation
</a>
<p className="text-gray-400 text-sm mt-2">
Begin your TanStack Start journey by editing{' '}
<code className="px-2 py-1 bg-slate-700 rounded text-cyan-400">
/src/routes/index.tsx
</code>
</p>
</div>
</div>
</section>

      <section className="py-16 px-6 max-w-7xl mx-auto">
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {features.map((feature, index) => (
            <div
              key={index}
              className="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/10"
            >
              <div className="mb-4">{feature.icon}</div>
              <h3 className="text-xl font-semibold text-white mb-3">
                {feature.title}
              </h3>
              <p className="text-gray-400 leading-relaxed">
                {feature.description}
              </p>
            </div>
          ))}
        </div>
      </section>
    </div>

)
}

================================================
FILE: examples/react/start/src/routes/demo/api.names.ts
================================================
import { createFileRoute } from '@tanstack/react-router'
import { json } from '@tanstack/react-start'

export const Route = createFileRoute('/demo/api/names')({
server: {
handlers: {
GET: () => json(['Alice', 'Bob', 'Charlie']),
},
},
})

================================================
FILE: examples/react/start/src/routes/demo/start.api-request.tsx
================================================
import { useEffect, useState } from 'react'

import { createFileRoute } from '@tanstack/react-router'
import { emitRouteNavigation } from '../../devtools'

function getNames() {
return fetch('/demo/api/names').then((res) => res.json() as Promise<string[]>)
}

export const Route = createFileRoute('/demo/start/api-request')({
component: Home,
loader: () => {
emitRouteNavigation('API Request', '/demo/start/api-request')
},
})

function Home() {
const [names, setNames] = useState<Array<string>>([])

useEffect(() => {
getNames().then(setNames)
}, [])

return (
<div
className="flex items-center justify-center min-h-screen p-4 text-white"
style={{
        backgroundColor: '#000',
        backgroundImage:
          'radial-gradient(ellipse 60% 60% at 0% 100%, #444 0%, #222 60%, #000 100%)',
      }} >
<div className="w-full max-w-2xl p-8 rounded-xl backdrop-blur-md bg-black/50 shadow-xl border-8 border-black/10">
<h1 className="text-2xl mb-4">Start API Request Demo - Names List</h1>
<ul className="mb-4 space-y-2">
{names.map((name) => (
<li
              key={name}
              className="bg-white/10 border border-white/20 rounded-lg p-3 backdrop-blur-sm shadow-md"
            >
<span className="text-lg text-white">{name}</span>
</li>
))}
</ul>
</div>
</div>
)
}

================================================
FILE: examples/react/start/src/routes/demo/start.server-funcs.tsx
================================================
import fs from 'node:fs'
import { useCallback, useState } from 'react'
import { createFileRoute, useRouter } from '@tanstack/react-router'
import { createServerFn } from '@tanstack/react-start'
import { emitRouteNavigation } from '../../devtools'

/_
const loggingMiddleware = createMiddleware().server(
async ({ next, request }) => {
console.log("Request:", request.url);
return next();
}
);
const loggedServerFunction = createServerFn({ method: "GET" }).middleware([
loggingMiddleware,
]);
_/

const TODOS_FILE = 'todos.json'

async function readTodos() {
return JSON.parse(
await fs.promises.readFile(TODOS_FILE, 'utf-8').catch(() =>
JSON.stringify(
[
{ id: 1, name: 'Get groceries' },
{ id: 2, name: 'Buy a new phone' },
],
null,
2,
),
),
)
}

const getTodos = createServerFn({
method: 'GET',
}).handler(async () => await readTodos())

const addTodo = createServerFn({ method: 'POST' })
.inputValidator((d: string) => d)
.handler(async ({ data }) => {
const todos = await readTodos()
todos.push({ id: todos.length + 1, name: data })
await fs.promises.writeFile(TODOS_FILE, JSON.stringify(todos, null, 2))
return todos
})

export const Route = createFileRoute('/demo/start/server-funcs')({
component: Home,
loader: async () => {
emitRouteNavigation('Server Functions', '/demo/start/server-funcs')
return await getTodos()
},
})

function Home() {
const router = useRouter()
let todos = Route.useLoaderData()

const [todo, setTodo] = useState('')

const submitTodo = useCallback(async () => {
todos = await addTodo({ data: todo })
setTodo('')
router.invalidate()
}, [addTodo, todo])

return (
<div
className="flex items-center justify-center min-h-screen bg-gradient-to-br from-zinc-800 to-black p-4 text-white"
style={{
        backgroundImage:
          'radial-gradient(50% 50% at 20% 60%, #23272a 0%, #18181b 50%, #000000 100%)',
      }} >
<div className="w-full max-w-2xl p-8 rounded-xl backdrop-blur-md bg-black/50 shadow-xl border-8 border-black/10">
<h1 className="text-2xl mb-4">Start Server Functions - Todo Example</h1>
<ul className="mb-4 space-y-2">
{todos?.map((t) => (
<li
              key={t.id}
              className="bg-white/10 border border-white/20 rounded-lg p-3 backdrop-blur-sm shadow-md"
            >
<span className="text-lg text-white">{t.name}</span>
</li>
))}
</ul>
<div className="flex flex-col gap-2">
<input
type="text"
value={todo}
onChange={(e) => setTodo(e.target.value)}
onKeyDown={(e) => {
if (e.key === 'Enter') {
submitTodo()
}
}}
placeholder="Enter a new todo..."
className="w-full px-4 py-3 rounded-lg border border-white/20 bg-white/10 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"
/>
<button
disabled={todo.trim().length === 0}
onClick={submitTodo}
className="bg-blue-500 hover:bg-blue-600 disabled:bg-blue-500/50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors" >
Add todo
</button>
</div>
</div>
</div>
)
}

================================================
FILE: examples/react/start/src/routes/demo/start.ssr.data-only.tsx
================================================
import { createFileRoute } from '@tanstack/react-router'
import { getPunkSongs } from '@/data/demo.punk-songs'
import { emitRouteNavigation } from '../../devtools'

export const Route = createFileRoute('/demo/start/ssr/data-only')({
ssr: 'data-only',
component: RouteComponent,
loader: async () => {
emitRouteNavigation('Data Only SSR', '/demo/start/ssr/data-only')
return await getPunkSongs()
},
})

function RouteComponent() {
const punkSongs = Route.useLoaderData()

return (
<div
className="flex items-center justify-center min-h-screen bg-gradient-to-br from-zinc-800 to-black p-4 text-white"
style={{
        backgroundImage:
          'radial-gradient(50% 50% at 20% 60%, #1a1a1a 0%, #0a0a0a 50%, #000000 100%)',
      }} >
<div className="w-full max-w-2xl p-8 rounded-xl backdrop-blur-md bg-black/50 shadow-xl border-8 border-black/10">
<h1 className="text-3xl font-bold mb-6 text-pink-400">
Data Only SSR - Punk Songs
</h1>
<ul className="space-y-3">
{punkSongs.map((song) => (
<li
              key={song.id}
              className="bg-white/10 border border-white/20 rounded-lg p-4 backdrop-blur-sm shadow-md"
            >
<span className="text-lg text-white font-medium">
{song.name}
</span>
<span className="text-white/60"> - {song.artist}</span>
</li>
))}
</ul>
</div>
</div>
)
}

================================================
FILE: examples/react/start/src/routes/demo/start.ssr.full-ssr.tsx
================================================
import { createFileRoute } from '@tanstack/react-router'
import { getPunkSongs } from '@/data/demo.punk-songs'
import { emitRouteNavigation } from '../../devtools'

export const Route = createFileRoute('/demo/start/ssr/full-ssr')({
component: RouteComponent,
loader: async () => {
emitRouteNavigation('Full SSR', '/demo/start/ssr/full-ssr')
return await getPunkSongs()
},
})

function RouteComponent() {
const punkSongs = Route.useLoaderData()

return (
<div
className="flex items-center justify-center min-h-screen bg-gradient-to-br from-zinc-800 to-black p-4 text-white"
style={{
        backgroundImage:
          'radial-gradient(50% 50% at 20% 60%, #1a1a1a 0%, #0a0a0a 50%, #000000 100%)',
      }} >
<div className="w-full max-w-2xl p-8 rounded-xl backdrop-blur-md bg-black/50 shadow-xl border-8 border-black/10">
<h1 className="text-3xl font-bold mb-6 text-purple-400">
Full SSR - Punk Songs
</h1>
<ul className="space-y-3">
{punkSongs.map((song) => (
<li
              key={song.id}
              className="bg-white/10 border border-white/20 rounded-lg p-4 backdrop-blur-sm shadow-md"
            >
<span className="text-lg text-white font-medium">
{song.name}
</span>
<span className="text-white/60"> - {song.artist}</span>
</li>
))}
</ul>
</div>
</div>
)
}

================================================
FILE: examples/react/start/src/routes/demo/start.ssr.index.tsx
================================================
import { createFileRoute, Link } from '@tanstack/react-router'
import { emitRouteNavigation } from '../../devtools'

export const Route = createFileRoute('/demo/start/ssr/')({
component: RouteComponent,
loader: () => {
emitRouteNavigation('SSR Demos', '/demo/start/ssr')
},
})

function RouteComponent() {
return (
<div
className="flex items-center justify-center min-h-screen bg-gradient-to-br from-zinc-900 to-black p-4 text-white"
style={{
        backgroundImage:
          'radial-gradient(50% 50% at 20% 60%, #1a1a1a 0%, #0a0a0a 50%, #000000 100%)',
      }} >
<div className="w-full max-w-2xl p-8 rounded-xl backdrop-blur-md bg-black/50 shadow-xl border-8 border-black/10">
<h1 className="text-4xl font-bold mb-8 text-center bg-gradient-to-r from-pink-500 via-purple-500 to-green-400 bg-clip-text text-transparent">
SSR Demos
</h1>
<div className="flex flex-col gap-4">
<Link
            to="/demo/start/ssr/spa-mode"
            className="text-2xl font-bold py-6 px-8 rounded-lg bg-gradient-to-r from-pink-600 to-pink-500 hover:from-pink-700 hover:to-pink-600 text-white text-center shadow-lg transform transition-all hover:scale-105 hover:shadow-pink-500/50 border-2 border-pink-400"
          >
SPA Mode
</Link>
<Link
            to="/demo/start/ssr/full-ssr"
            className="text-2xl font-bold py-6 px-8 rounded-lg bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-700 hover:to-purple-600 text-white text-center shadow-lg transform transition-all hover:scale-105 hover:shadow-purple-500/50 border-2 border-purple-400"
          >
Full SSR
</Link>
<Link
            to="/demo/start/ssr/data-only"
            className="text-2xl font-bold py-6 px-8 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white text-center shadow-lg transform transition-all hover:scale-105 hover:shadow-green-500/50 border-2 border-green-400"
          >
Data Only
</Link>
</div>
</div>
</div>
)
}

================================================
FILE: examples/react/start/src/routes/demo/start.ssr.spa-mode.tsx
================================================
import { useEffect, useState } from 'react'
import { createFileRoute } from '@tanstack/react-router'
import { getPunkSongs } from '@/data/demo.punk-songs'
import { emitRouteNavigation } from '../../devtools'

export const Route = createFileRoute('/demo/start/ssr/spa-mode')({
ssr: false,
component: RouteComponent,
loader: () => {
emitRouteNavigation('SPA Mode', '/demo/start/ssr/spa-mode')
},
})

function RouteComponent() {
const [punkSongs, setPunkSongs] = useState<
Awaited<ReturnType<typeof getPunkSongs>>

> ([])

useEffect(() => {
getPunkSongs().then(setPunkSongs)
}, [])

return (
<div
className="flex items-center justify-center min-h-screen bg-gradient-to-br from-zinc-800 to-black p-4 text-white"
style={{
        backgroundImage:
          'radial-gradient(50% 50% at 20% 60%, #1a1a1a 0%, #0a0a0a 50%, #000000 100%)',
      }} >
<div className="w-full max-w-2xl p-8 rounded-xl backdrop-blur-md bg-black/50 shadow-xl border-8 border-black/10">
<h1 className="text-3xl font-bold mb-6 text-green-400">
SPA Mode - Punk Songs
</h1>
<ul className="space-y-3">
{punkSongs.map((song) => (
<li
              key={song.id}
              className="bg-white/10 border border-white/20 rounded-lg p-4 backdrop-blur-sm shadow-md"
            >
<span className="text-lg text-white font-medium">
{song.name}
</span>
<span className="text-white/60"> - {song.artist}</span>
</li>
))}
</ul>
</div>
</div>
)
}

================================================
FILE: examples/react/time-travel/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/react/time-travel/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <script src="https://unpkg.com/react-scan/dist/auto.global.js"></script>
    <title>Basic Example - TanStack Devtools</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/react/time-travel/package.json
================================================
{
"name": "@tanstack/devtools-example-react-time-travel",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3005",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/devtools-event-client": "workspace:^",
"@tanstack/react-devtools": "^0.9.2",
"@tanstack/react-query": "^5.90.1",
"@tanstack/react-query-devtools": "^5.90.1",
"@tanstack/react-router": "^1.132.0",
"@tanstack/react-router-devtools": "^1.132.0",
"react": "^19.2.0",
"react-dom": "^19.2.0",
"zod": "^4.1.11",
"zustand": "^5.0.8"
},
"devDependencies": {
"@types/react": "^19.2.0",
"@types/react-dom": "^19.2.0",
"@vitejs/plugin-react": "^5.0.4",
"vite": "^7.1.7"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/react/time-travel/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src", "vite.config.ts"]
}

================================================
FILE: examples/react/time-travel/vite.config.ts
================================================
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
plugins: [
react({
// babel: {
// plugins: [['babel-plugin-react-compiler', { target: '19' }]],
// },
}),
],
})

================================================
FILE: examples/react/time-travel/src/index.tsx
================================================
import { createRoot } from 'react-dom/client'
import { useStore } from 'zustand'
import Devtools from './setup'
import { store } from './zustand-client'

function App() {
const { count, increment, decrement } = useStore(store)
return (
<div>
<h1>Zustand time-travel</h1>
<h2>Current count: {count}</h2>
<button onClick={increment}>Increment</button>
<button onClick={decrement}>Decrement</button>
<Devtools />
</div>
)
}

const root = createRoot(document.getElementById('root')!)
root.render(<App />)

================================================
FILE: examples/react/time-travel/src/setup.tsx
================================================
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/react-router-devtools'
import {
Link,
Outlet,
RouterProvider,
createRootRoute,
createRoute,
createRouter,
} from '@tanstack/react-router'
import { TanStackDevtools } from '@tanstack/react-devtools'
import { ZustandTimeTravel } from './zustand-time-travel'

const rootRoute = createRootRoute({
component: () => (
<>
<div className="p-2 flex gap-2">
<Link to="/" className="[&.active]:font-bold">
Home
</Link>{' '}
<Link to="/about" className="[&.active]:font-bold">
About
</Link>
</div>
<hr />
<Outlet />
</>
),
})

const indexRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/',
component: function Index() {
return (
<div className="p-2">
<h3>Welcome Home!</h3>
</div>
)
},
})
function About() {
return (
<div className="p-2">
<h3>Hello from About!</h3>
</div>
)
}

const aboutRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/about',
component: About,
})

const routeTree = rootRoute.addChildren([indexRoute, aboutRoute])

const router = createRouter({ routeTree })

const queryClient = new QueryClient()

export default function DevtoolsExample() {
return (
<>
<QueryClientProvider client={queryClient}>
<TanStackDevtools
plugins={[
{
name: 'TanStack Query',
render: <ReactQueryDevtoolsPanel />,
},
{
name: 'TanStack Router',
render: <TanStackRouterDevtoolsPanel router={router} />,
},
{
name: 'Zustand time-travel',
render: <ZustandTimeTravel />,
},
]}
/>
<RouterProvider router={router} />
</QueryClientProvider>
</>
)
}

================================================
FILE: examples/react/time-travel/src/zustand-client.ts
================================================
import { EventClient } from '@tanstack/devtools-event-client'
import { createStore } from 'zustand'

interface ZustandEventMap {
'zustand:stateChange': any
'zustand:revertSnapshot': any
}
export const eventClient = new EventClient<ZustandEventMap>({
pluginId: 'zustand',
})

export const store = createStore<{
count: number
increment: () => void
decrement: () => void
}>((set) => ({
count: 0,
increment: () => {
return set((state) => {
eventClient.emit('stateChange', { count: state.count + 1 })
return { count: state.count + 1 }
})
},
decrement: () => {
return set((state) => {
eventClient.emit('stateChange', { count: state.count - 1 })
return { count: state.count - 1 }
})
},
}))

eventClient.on('revertSnapshot', (snapshot) => {
store.setState({
count: snapshot.payload.count,
})
})

================================================
FILE: examples/react/time-travel/src/zustand-time-travel.tsx
================================================
import { useEffect, useState } from 'react'
import { eventClient } from './zustand-client'

export function ZustandTimeTravel() {
const [snapshots, setSnapshots] = useState<Array<any>>([])

useEffect(() => {
const cleanup = eventClient.on('stateChange', (event) =>
setSnapshots((prev) => [...prev, event.payload]),
)
return () => {
cleanup()
}
}, [])

return (
<div>
{/_ Snapshot slider to change the current state _/}
Drag Me to time travel through zustand states
<hr />
<input
type="range"
min={0}
max={snapshots.length - 1}
onChange={(e) => {
const index = Number(e.target.value)
eventClient.emit('revertSnapshot', snapshots[index])
}}
/>
</div>
)
}

================================================
FILE: examples/solid/basic/README.md
================================================

# Example

To run this example:

- `npm install`
- `npm run dev`

================================================
FILE: examples/solid/basic/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/emblem-light.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />

    <title>TanStack Devtools Example</title>

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>

================================================
FILE: examples/solid/basic/package.json
================================================
{
"name": "@tanstack/devtools-example-solid-basic",
"private": true,
"type": "module",
"scripts": {
"dev": "vite --port=3005",
"build": "vite build",
"preview": "vite preview",
"test:types": "tsc"
},
"dependencies": {
"@tanstack/solid-devtools": "^0.7.22",
"@tanstack/solid-query": "^5.90.1",
"@tanstack/solid-query-devtools": "^5.90.1",
"@tanstack/solid-router": "^1.131.50",
"@tanstack/solid-router-devtools": "^1.131.50",
"solid-js": "^1.9.9"
},
"devDependencies": {
"@tanstack/devtools-vite": "0.4.1",
"vite": "^7.1.7",
"vite-plugin-inspect": "11.3.3",
"vite-plugin-solid": "^2.11.8"
},
"browserslist": {
"production": [
">0.2%",
"not dead",
"not op_mini all"
],
"development": [
"last 1 chrome version",
"last 1 firefox version",
"last 1 safari version"
]
}
}

================================================
FILE: examples/solid/basic/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"module": "ESNext",
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "preserve",
    "jsxImportSource": "solid-js",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src", "vite.config.ts"]
}

================================================
FILE: examples/solid/basic/vite.config.ts
================================================
import { defineConfig } from 'vite'
import solid from 'vite-plugin-solid'
import { devtools } from '@tanstack/devtools-vite'
// https://vite.dev/config/
export default defineConfig({
plugins: [devtools(), solid({})],
})

================================================
FILE: examples/solid/basic/src/index.tsx
================================================
import { render } from 'solid-js/web'
// query imports
import { QueryClient, QueryClientProvider } from '@tanstack/solid-query'

// devtool imports
import { TanStackDevtools } from '@tanstack/solid-devtools'
import { SolidQueryDevtoolsPanel } from '@tanstack/solid-query-devtools'
import { TanStackRouterDevtoolsPanel } from '@tanstack/solid-router-devtools'

// router implementation
import Router, { router } from './setup'

const queryClient = new QueryClient()

function App() {
return (
<QueryClientProvider client={queryClient}>
<h1>TanStack Devtools Solid Basic Example</h1>
<Router />

      <TanStackDevtools
        config={{
          customTrigger: () => <h1>hello world</h1>,
        }}
        plugins={[
          {
            name: 'TanStack Query',
            render: <SolidQueryDevtoolsPanel />,
          },
          {
            name: 'TanStack Router',
            render: <TanStackRouterDevtoolsPanel router={router} />,
          },
        ]}
      />
    </QueryClientProvider>

)
}

render(() => <App />, document.getElementById('root')!)

================================================
FILE: examples/solid/basic/src/setup.tsx
================================================
import { Match, Switch } from 'solid-js'
// query imports
import { useQuery } from '@tanstack/solid-query'

// router imports
import {
Link,
Outlet,
RouterProvider,
createRootRoute,
createRoute,
createRouter,
} from '@tanstack/solid-router'

const rootRoute = createRootRoute({
component: () => (
<>
<div class="p-2 flex gap-2">
<Link to="/" class="[&.active]:font-bold">
Home
</Link>

        <Link to="/about" class="[&.active]:font-bold">
          About
        </Link>
      </div>
      <hr />
      <Outlet />
    </>

),
})

/_
/ demo route
_/
const indexRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/',
component: function Index() {
/_
/ demo query resolves after three seconds and returns string
_/
const exampleQuery = useQuery<string>(() => ({
queryKey: ['example-query'],
queryFn: () => {
return new Promise((resolve) => {
setTimeout(() => {
resolve('fetched data')
}, 3000)
})
},
}))

    return (
      <div class="p-2">
        <h3>Welcome Home!</h3>
        <Switch>
          <Match when={exampleQuery.isLoading}>
            <p>Loading...</p>
          </Match>

          <Match when={exampleQuery.data}>
            <p>{exampleQuery.data}</p>
          </Match>
        </Switch>
      </div>
    )

},
})

/_
/ demo route
_/
const aboutRoute = createRoute({
getParentRoute: () => rootRoute,
path: '/about',
component: function About() {
return (
<div class="p-2">
<h3>Hello from About!</h3>
</div>
)
},
})

const routeTree = rootRoute.addChildren([indexRoute, aboutRoute])
export const router = createRouter({ routeTree })

export default function Router() {
return <RouterProvider router={router} />
}

================================================
FILE: examples/solid/start/README.md
================================================

# SolidStart

Everything you need to build a Solid project, powered by [`solid-start`](https://start.solidjs.com);

## Creating a project

```bash
# create a new project in the current directory
npm init solid@latest

# create a new project in my-app
npm init solid@latest my-app
```

## Developing

Once you've created a project and installed dependencies with `npm install` (or `pnpm install` or `yarn`), start a development server:

```bash
npm run dev

# or start the server and open the app in a new browser tab
npm run dev -- --open
```

## Building

Solid apps are built with _presets_, which optimise your project for deployment to different environments.

By default, `npm run build` will generate a Node app that you can run with `npm start`. To use a different preset, add it to the `devDependencies` in `package.json` and specify in your `app.config.js`.

## This project was created with the [Solid CLI](https://github.com/solidjs-community/solid-cli)

================================================
FILE: examples/solid/start/app.config.ts
================================================
import { defineConfig } from '@solidjs/start/config'

export default defineConfig({})

================================================
FILE: examples/solid/start/package.json
================================================
{
"name": "@tanstack/devtools-example-solid-start",
"private": true,
"type": "module",
"scripts": {
"dev": "vinxi dev",
"build": "vinxi build",
"start": "vinxi start"
},
"dependencies": {
"@solidjs/start": "^1.2.0",
"@tanstack/solid-devtools": "^0.7.22",
"solid-js": "^1.9.9",
"vinxi": "^0.5.8"
},
"engines": {
"node": ">=22"
}
}

================================================
FILE: examples/solid/start/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ESNext",
"module": "ESNext",
"moduleResolution": "bundler",
"allowSyntheticDefaultImports": true,
"esModuleInterop": true,
"jsx": "preserve",
"jsxImportSource": "solid-js",
"allowJs": true,
"strict": true,
"noEmit": true,
"types": ["vinxi/types/client"],
"isolatedModules": true,
"paths": {
"~/_": ["./src/_"]
}
}
}

================================================
FILE: examples/solid/start/src/app.css
================================================
body {
font-family:
Gordita, Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
sans-serif;
}

a {
margin-right: 1rem;
}

main {
text-align: center;
padding: 1em;
margin: 0 auto;
}

h1 {
color: #335d92;
text-transform: uppercase;
font-size: 4rem;
font-weight: 100;
line-height: 1.1;
margin: 4rem auto;
max-width: 14rem;
}

p {
max-width: 14rem;
margin: 2rem auto;
line-height: 1.35;
}

@media (min-width: 480px) {
h1 {
max-width: none;
}

p {
max-width: none;
}
}

.increment {
font-family: inherit;
font-size: inherit;
padding: 1em 2em;
color: #335d92;
background-color: rgba(68, 107, 158, 0.1);
border-radius: 2em;
border: 2px solid rgba(68, 107, 158, 0);
outline: none;
width: 200px;
font-variant-numeric: tabular-nums;
cursor: pointer;
}

.increment:focus {
border: 2px solid #335d92;
}

.increment:active {
background-color: rgba(68, 107, 158, 0.2);
}

================================================
FILE: examples/solid/start/src/app.tsx
================================================
import { createSignal } from 'solid-js'
import { TanStackDevtools } from '@tanstack/solid-devtools'
import './app.css'

export default function App() {
const [count, setCount] = createSignal(0)

return (
<main>
<TanStackDevtools plugins={[]} />

      <h1>Hello world!</h1>
      <button
        class="increment"
        onClick={() => setCount(count() + 1)}
        type="button"
      >
        Clicks: {count()}
      </button>
      <p>
        Visit{' '}
        <a href="https://start.solidjs.com" target="_blank">
          start.solidjs.com
        </a>{' '}
        to learn how to build SolidStart apps.
      </p>
    </main>

)
}

================================================
FILE: examples/solid/start/src/entry-client.tsx
================================================
// @refresh reload
import { mount, StartClient } from '@solidjs/start/client'

mount(() => <StartClient />, document.getElementById('app')!)

================================================
FILE: examples/solid/start/src/entry-server.tsx
================================================
// @refresh reload
import { createHandler, StartServer } from '@solidjs/start/server'

export default createHandler(() => (
<StartServer
document={({ assets, children, scripts }) => (
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="icon" href="/favicon.ico" />
{assets}
</head>
<body>
<div id="app">{children}</div>
{scripts}
</body>
</html>
)}
/>
))

================================================
FILE: examples/solid/start/src/global.d.ts
================================================
/// <reference types="@solidjs/start/env" />

================================================
FILE: examples/vue/basic/README.md
================================================

# Basic example

To run this example:

- `npm install` or `yarn` or `pnpm i` or `bun i`
- `npm run dev` or `yarn dev` or `pnpm dev` or `bun dev`

================================================
FILE: examples/vue/basic/eslint.config.js
================================================
// @ts-check

import pluginVue from 'eslint-plugin-vue'
import rootConfig from '../../eslint.config.js'

export default [
...rootConfig,
...pluginVue.configs['flat/recommended'],
{
files: ['*.vue', '**/*.vue'],
languageOptions: {
parserOptions: {
parser: '@typescript-eslint/parser',
},
},
},
]

================================================
FILE: examples/vue/basic/index.html
================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue Query Example</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>

================================================
FILE: examples/vue/basic/package.json
================================================
{
"name": "@tanstack/query-example-vue-basic",
"private": true,
"type": "module",
"scripts": {
"dev": "vite",
"build": "vite build",
"preview": "vite preview"
},
"dependencies": {
"@tanstack/devtools": "^0.10.3",
"@tanstack/vue-devtools": "^0.2.2",
"@tanstack/vue-query": "^5.90.5",
"@tanstack/vue-query-devtools": "^6.1.0",
"vue": "^3.5.22"
},
"devDependencies": {
"@vitejs/plugin-vue": "^6.0.1",
"typescript": "~5.9.2",
"vite": "^7.1.7"
}
}

================================================
FILE: examples/vue/basic/tsconfig.json
================================================
{
"compilerOptions": {
"target": "ES2020",
"useDefineForClassFields": true,
"module": "ESNext",
"lib": ["ES2020", "DOM", "DOM.Iterable"],
"skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "Bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "preserve",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true

},
"include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.vue"]
}

================================================
FILE: examples/vue/basic/vite.config.ts
================================================
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
plugins: [vue()],
optimizeDeps: {
exclude: ['@tanstack/vue-query', 'vue-demi'],
},
})

================================================
FILE: examples/vue/basic/src/App.vue
================================================

<script lang="ts">
import { defineComponent, ref } from 'vue'
import {
  TanStackDevtools,
  TanStackDevtoolsVuePlugin,
} from '@tanstack/vue-devtools'
import { VueQueryDevtoolsPanel } from '@tanstack/vue-query-devtools'

import Posts from './Posts.vue'
import Post from './Post.vue'

export default defineComponent({
  name: 'App',
  components: { Posts, Post, TanStackDevtools, VueQueryDevtoolsPanel },
  setup() {
    const visitedPosts = ref(new Set())
    const isVisited = (id: number) => visitedPosts.value.has(id)

    const postId = ref(-1)
    const setPostId = (id: number) => {
      visitedPosts.value.add(id)
      postId.value = id
    }

    const plugins: TanStackDevtoolsVuePlugin[] = [
      {
        name: 'Vue Query',
        component: VueQueryDevtoolsPanel,
      },
    ]

    return {
      isVisited,
      postId,
      setPostId,
      plugins,
    }
  },
})
</script>

<template>
  <h1>Vue Query - Basic</h1>
  <p>
    As you visit the posts below, you will notice them in a loading state the
    first time you load them. However, after you return to this list and click
    on any posts you have already visited again, you will see them load
    instantly and background refresh right before your eyes!
    <strong>
      (You may need to throttle your network speed to simulate longer loading
      sequences)
    </strong>
  </p>
  <Post v-if="postId > -1" :postId="postId" @setPostId="setPostId" />
  <Posts v-else :isVisited="isVisited" @setPostId="setPostId" />
  <TanStackDevtools
    :eventBusConfig="{ connectToServerBus: true }"
    :plugins="plugins"
  />
</template>

================================================
FILE: examples/vue/basic/src/main.ts
================================================
import { createApp } from 'vue'
import { VueQueryPlugin } from '@tanstack/vue-query'

import App from './App.vue'

createApp(App).use(VueQueryPlugin).mount('#app')

================================================
FILE: examples/vue/basic/src/Post.vue
================================================

<script lang="ts">
import { defineComponent } from 'vue'
import { useQuery } from '@tanstack/vue-query'

import { Post } from './types'

const fetcher = async (id: number): Promise<Post> =>
  await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`).then(
    (response) => response.json(),
  )

export default defineComponent({
  name: 'PostDetails',
  props: {
    postId: {
      type: Number,
      required: true,
    },
  },
  emits: ['setPostId'],
  setup(props) {
    const { isPending, isError, isFetching, data, error } = useQuery({
      queryKey: ['post', props.postId],
      queryFn: () => fetcher(props.postId),
    })

    return { isPending, isError, isFetching, data, error }
  },
})
</script>

<template>
  <h1>Post {{ postId }}</h1>
  <a @click="$emit('setPostId', -1)" href="#"> Back </a>
  <div v-if="isPending" class="update">Loading...</div>
  <div v-else-if="isError">An error has occurred: {{ error }}</div>
  <div v-else-if="data">
    <h1>{{ data.title }}</h1>
    <div>
      <p>{{ data.body }}</p>
    </div>
    <div v-if="isFetching" class="update">Background Updating...</div>
  </div>
</template>

<style scoped>
.update {
  font-weight: bold;
  color: green;
}
</style>

================================================
FILE: examples/vue/basic/src/Posts.vue
================================================

<script lang="ts">
import { defineComponent } from 'vue'
import { useQuery } from '@tanstack/vue-query'

import type { Post } from './types'

const fetcher = async (): Promise<Post[]> =>
  await fetch('https://jsonplaceholder.typicode.com/posts').then((response) =>
    response.json(),
  )

export default defineComponent({
  name: 'PostsList',
  props: {
    isVisited: {
      type: Function,
      required: true,
    },
  },
  emits: ['setPostId'],
  setup() {
    const { isPending, isError, isFetching, data, error, refetch } = useQuery({
      queryKey: ['posts'],
      queryFn: fetcher,
    })

    return { isPending, isError, isFetching, data, error, refetch }
  },
})
</script>

<template>
  <h1>Posts</h1>
  <div v-if="isPending">Loading...</div>
  <div v-else-if="isError">An error has occurred: {{ error }}</div>
  <div v-else-if="data">
    <ul>
      <li v-for="item in data" :key="item.id">
        <a
          @click="$emit('setPostId', item.id)"
          href="#"
          :class="{ visited: isVisited(item.id) }"
          >{{ item.title }}</a
        >
      </li>
    </ul>
  </div>
</template>

<style scoped>
.visited {
  font-weight: bold;
  color: green;
}
</style>

================================================
FILE: examples/vue/basic/src/shims-vue.d.ts
================================================
declare module '\*.vue' {
import type { DefineComponent } from 'vue'

const component: DefineComponent<{}, {}, any>
export default component
}

================================================
FILE: examples/vue/basic/src/types.d.ts
================================================
export interface Post {
userId: number
id: number
title: string
body: string
}

================================================
FILE: packages/devtools/README.md
================================================

# @tanstack/devtools

This package is still under active development and might have breaking changes in the future. Please use it with caution.

## General Usage

```tsx
import { TanStackDevtoolsCore } from '@tanstack/devtools'

const devtools = new TanStackDevtoolsCore({
	options: {
		// your options here
	},
	plugins: [
		// your plugins here
	],
})

devtools.mount(document.getElementById('your-devtools-container')!)
```

## Creating plugins

In order to create a plugin for TanStack Devtools, you can use the `plugins` arg of the `TanStackDevtoolsCore` class. Here's an example of how to create a simple plugin:

```ts
import { TanStackDevtoolsCore } from '@tanstack/devtools'

const devtools = new TanStackDevtoolsCore({
	config: {
		// your config here
	},
	plugins: [
		{
			id: 'my-plugin',
			name: 'My Plugin',
			render: (el) => (el.innerHTML = '<div>My Plugin Content</div>'),
		},
	],
})
```

================================================
FILE: packages/devtools/CHANGELOG.md
================================================

# @tanstack/devtools

## 0.10.3

### Patch Changes

- fix issue with popups in non-vite environments ([#312](https://github.com/TanStack/devtools/pull/312))

## 0.10.2

### Patch Changes

- fix issue with popup window ([#305](https://github.com/TanStack/devtools/pull/305))

## 0.10.1

### Patch Changes

- Updated dependencies [[`bf1d590`](https://github.com/TanStack/devtools/commit/bf1d590c34d578193457e4cba6f714b4acb72b00)]:
  - @tanstack/devtools-event-bus@0.4.0

## 0.10.0

### Minor Changes

- modifies default hotkey to be Control ~, replacing Shift A ([#291](https://github.com/TanStack/devtools/pull/291))

## 0.9.2

### Patch Changes

- Allow config on the height of the panel ([#294](https://github.com/TanStack/devtools/pull/294))

## 0.9.1

### Patch Changes

- Updated dependencies []:
  - @tanstack/devtools-client@0.0.5

## 0.9.0

### Minor Changes

- add inspectHotkey to devtools configuration ([#275](https://github.com/TanStack/devtools/pull/275))

## 0.8.2

### Patch Changes

- feat: vue devtools ([#226](https://github.com/TanStack/devtools/pull/226))

## 0.8.1

### Patch Changes

- fixed an issue where SourceInspector was not working when the app is served to a subpath ([#249](https://github.com/TanStack/devtools/pull/249))

## 0.8.0

### Minor Changes

- added optional trigger component in config ([#228](https://github.com/TanStack/devtools/pull/228))

  removed trigger image setting completely

### Patch Changes

- add the ability to open up devtools programatically ([#250](https://github.com/TanStack/devtools/pull/250))

- Updated dependencies [[`f02a894`](https://github.com/TanStack/devtools/commit/f02a8941e7f0f0cfe44ffb370391267261f31f4e)]:
  - @tanstack/devtools-client@0.0.4

## 0.7.0

### Minor Changes

- add defaultOpen to plugins ([#245](https://github.com/TanStack/devtools/pull/245))

## 0.6.24

### Patch Changes

- Add featured section to marketplace ([#238](https://github.com/TanStack/devtools/pull/238))
  Add third-party Prefetch Heatmap plugin to marketplace registry(metadata-only)

## 0.6.23

### Patch Changes

- Updated dependencies [[`1db2215`](https://github.com/TanStack/devtools/commit/1db22151ac1738f7dc3b6c3eaa4b4bf58aabc331)]:
  - @tanstack/devtools-ui@0.4.4

## 0.6.22

### Patch Changes

- Updated dependencies [[`d0567fc`](https://github.com/TanStack/devtools/commit/d0567fc9b710bec50bce1457e195091ddbe65cac)]:
  - @tanstack/devtools-event-bus@0.3.3

## 0.6.21

### Patch Changes

- Added plugin marketplace functionality into devtools ([#216](https://github.com/TanStack/devtools/pull/216))

- Updated dependencies [[`0b4a4a9`](https://github.com/TanStack/devtools/commit/0b4a4a9e57f3be7079166198f3e69fedd15c5b5d)]:
  - @tanstack/devtools-client@0.0.3
  - @tanstack/devtools-ui@0.4.3

## 0.6.20

### Patch Changes

- update UI appearance ([#211](https://github.com/TanStack/devtools/pull/211))

- Updated dependencies [[`b2f8944`](https://github.com/TanStack/devtools/commit/b2f8944ebf3597179d60ce11fb0ef71b4858dc34)]:
  - @tanstack/devtools-ui@0.4.2

## 0.6.19

### Patch Changes

- Number of improvements to various parts of the DevTools: ([#162](https://github.com/TanStack/devtools/pull/162))
  - Update event client to allow users to disable it
  - Allow trigger to be completely hidden
  - Add a new package `@tanstack/devtools-client` to allow users to listen to events we emit from Vite.
  - Fix bugs inside of the DevTools like plugins being nuked on page refresh.

## 0.6.18

### Patch Changes

- Updated dependencies [[`d0ecf3e`](https://github.com/TanStack/devtools/commit/d0ecf3ec5b58b94d20d2a9131e0ffaff2ac72f7a)]:
  - @tanstack/devtools-ui@0.4.1

## 0.6.17

### Patch Changes

- fix import.meta usage in rsbuild ([#203](https://github.com/TanStack/devtools/pull/203))

## 0.6.16

### Patch Changes

- Updated dependencies [[`d409810`](https://github.com/TanStack/devtools/commit/d40981035da7f7be1dceef3770aafad243921b46)]:
  - @tanstack/devtools-ui@0.4.0

## 0.6.15

### Patch Changes

- add `workerd` export condition ([#193](https://github.com/TanStack/devtools/pull/193))

## 0.6.14

### Patch Changes

- improve devtools removal and fix issues with css ([#148](https://github.com/TanStack/devtools/pull/148))

## 0.6.13

### Patch Changes

- add option to change trigger image ([#138](https://github.com/TanStack/devtools/pull/138))

## 0.6.12

### Patch Changes

- improve open-source by using location origin ([#132](https://github.com/TanStack/devtools/pull/132))

- Updated dependencies [[`c463e10`](https://github.com/TanStack/devtools/commit/c463e1083771b8fce2ea30aa999aa36ea4040f7f)]:
  - @tanstack/devtools-ui@0.3.5

## 0.6.11

### Patch Changes

- Adds split panel functionality to the devtools panel, allowing multiple instances of devtools to be shown. ([#90](https://github.com/TanStack/devtools/pull/90))

## 0.6.10

### Patch Changes

- remove peer dep on devtools-ui ([#119](https://github.com/TanStack/devtools/pull/119))

## 0.6.9

### Patch Changes

- add new tantack logo ([#113](https://github.com/TanStack/devtools/pull/113))

## 0.6.8

### Patch Changes

- Changed package.json exports to allow safe usage in ssr environments ([#109](https://github.com/TanStack/devtools/pull/109))

## 0.6.7

### Patch Changes

- Updated dependencies [[`82a7617`](https://github.com/TanStack/devtools/commit/82a7617559777940cc6c96363112fd8c3d5d7dd5)]:
  - @tanstack/devtools-event-bus@0.3.2

## 0.6.6

### Patch Changes

- add peer dep to devtools ([#103](https://github.com/TanStack/devtools/pull/103))

- fix issue with window not defined ([#103](https://github.com/TanStack/devtools/pull/103))

## 0.6.5

### Patch Changes

- fix bug with https server ([#100](https://github.com/TanStack/devtools/pull/100))

## 0.6.4

### Patch Changes

- added support for dark/light mode ([#96](https://github.com/TanStack/devtools/pull/96))

- Updated dependencies [[`59ecdb6`](https://github.com/TanStack/devtools/commit/59ecdb663cb9410fabf507df684d767c1d4edf11)]:
  - @tanstack/devtools-ui@0.3.4

## 0.6.3

### Patch Changes

- improvements for tree view, added icons to devtools-ui, extracted components out of devtools core into ui, panel header ([#94](https://github.com/TanStack/devtools/pull/94))

- Updated dependencies [[`442d2ce`](https://github.com/TanStack/devtools/commit/442d2ce1883b4517398e2890f4180b622765148d)]:
  - @tanstack/devtools-ui@0.3.3

## 0.6.2

### Patch Changes

- Updated dependencies [[`f85fcf5`](https://github.com/TanStack/devtools/commit/f85fcf5f73fdca80297707b8eb4211a7a1308aa1)]:
  - @tanstack/devtools-event-bus@0.3.1

## 0.6.1

### Patch Changes

- consolidate styles into devtools-ui ([#83](https://github.com/TanStack/devtools/pull/83))

- Updated dependencies [[`fc02e84`](https://github.com/TanStack/devtools/commit/fc02e849dd4a00e2e96d867d4c78dabac9989610)]:
  - @tanstack/devtools-ui@0.3.2

## 0.6.0

### Minor Changes

- add seo tab and improve UX of plugins tab ([#80](https://github.com/TanStack/devtools/pull/80))

## 0.5.1

### Patch Changes

- fix issue with react-router and delegated events ([#75](https://github.com/TanStack/devtools/pull/75))

## 0.5.0

### Minor Changes

- removed CJS support, added detached mode to devtools ([#70](https://github.com/TanStack/devtools/pull/70))

### Patch Changes

- Updated dependencies [[`9feb9c3`](https://github.com/TanStack/devtools/commit/9feb9c33517bda2e515b00d423bedab2502c9981)]:
  - @tanstack/devtools-event-bus@0.3.0

## 0.4.5

### Patch Changes

- fix console log ([#58](https://github.com/TanStack/devtools/pull/58))

## 0.4.4

### Patch Changes

- Add go to source functionality to devtools ([#56](https://github.com/TanStack/devtools/pull/56))

## 0.4.3

### Patch Changes

- improve devtools shortcut handling ([#49](https://github.com/TanStack/devtools/pull/49))

## 0.4.2

### Patch Changes

- Updated dependencies [[`a7c5601`](https://github.com/TanStack/devtools/commit/a7c5601607a8f2ee293f23f10f434c623f0b7761)]:
  - @tanstack/devtools-event-bus@0.2.2

## 0.4.1

### Patch Changes

- Updated dependencies [[`adad021`](https://github.com/TanStack/devtools/commit/adad0217e25044993bc24f19cd06ce546433b5ba)]:
  - @tanstack/devtools-ui@0.3.1

## 0.4.0

### Minor Changes

- Change the TanStackDevtools export ([#40](https://github.com/TanStack/devtools/pull/40))

## 0.3.2

### Patch Changes

- fix the height of the mounted container ([#38](https://github.com/TanStack/devtools/pull/38))

## 0.3.1

### Patch Changes

- Updated dependencies [[`5372697`](https://github.com/TanStack/devtools/commit/5372697a58bfd60f4c25f0d3f7291c2d1b473b09)]:
  - @tanstack/devtools-ui@0.3.0

## 0.3.0

### Minor Changes

- extracted common UI components into a separate package ([#23](https://github.com/TanStack/devtools/pull/23))

### Patch Changes

- Updated dependencies [[`f9b97df`](https://github.com/TanStack/devtools/commit/f9b97dfbfdb3b6eccf51cba2655b8bd542f21bfa)]:
  - @tanstack/devtools-ui@0.2.2

## 0.2.1

### Patch Changes

- Updated dependencies [[`f62bdf9`](https://github.com/TanStack/devtools/commit/f62bdf903591fad15cccab93290a95c194c99b51)]:
  - @tanstack/devtools-event-bus@0.2.1

## 0.2.0

### Minor Changes

- Added event bus functionality into @tanstack/devtools ([#11](https://github.com/TanStack/devtools/pull/11))
  - @tanstack/devtools now comes with an integrated Event Bus on the Client.
  - The Event Bus allows for seamless communication between different parts of your running application
    without tight coupling.
  - Exposed APIs for publishing and subscribing to events.
  - Added config for the client event bus

### Patch Changes

- Updated dependencies [[`77e2f6e`](https://github.com/TanStack/devtools/commit/77e2f6e8d3d5cc82b8d37fcc00c01078e9960003)]:
  - @tanstack/devtools-event-bus@0.2.0

## 0.1.1

### Patch Changes

- Updated the JSdoc descriptions for easier usage ([#8](https://github.com/TanStack/devtools/pull/8))

## 0.1.0

### Minor Changes

- Initial alpha release of @tanstack/devtools ([#6](https://github.com/TanStack/devtools/pull/6))

================================================
FILE: packages/devtools/eslint.config.js
================================================
// @ts-check

import rootConfig from '../../eslint.config.js'

export default [
...rootConfig,
{
rules: {},
},
]

================================================
FILE: packages/devtools/package.json
================================================
{
"name": "@tanstack/devtools",
"version": "0.10.3",
"description": "TanStack Devtools is a set of tools for building advanced devtools for your application.",
"author": "Tanner Linsley",
"license": "MIT",
"repository": {
"type": "git",
"url": "git+https://github.com/TanStack/devtools.git",
"directory": "packages/devtools"
},
"homepage": "https://tanstack.com/devtools",
"funding": {
"type": "github",
"url": "https://github.com/sponsors/tannerlinsley"
},
"keywords": [
"devtools"
],
"type": "module",
"types": "dist/index.d.ts",
"module": "dist/index.js",
"exports": {
"workerd": {
"types": "./dist/index.d.ts",
"import": "./dist/server.js"
},
"browser": {
"development": {
"types": "./dist/index.d.ts",
"import": "./dist/dev.js"
},
"types": "./dist/index.d.ts",
"import": "./dist/index.js"
},
"node": {
"types": "./dist/index.d.ts",
"import": "./dist/server.js"
},
"types": "./dist/index.d.ts",
"import": "./dist/index.js"
},
"sideEffects": false,
"engines": {
"node": ">=18"
},
"files": [
"dist/",
"src"
],
"scripts": {
"clean": "premove ./build ./dist",
"lint:fix": "eslint ./src --fix",
"test:eslint": "eslint ./src",
"test:lib": "vitest",
"test:lib:dev": "pnpm test:lib --watch",
"test:types": "tsc",
"test:build": "publint --strict",
"build": "tsup"
},
"dependencies": {
"@solid-primitives/event-listener": "^2.4.3",
"@solid-primitives/keyboard": "^1.3.3",
"@solid-primitives/resize-observer": "^2.1.3",
"@tanstack/devtools-client": "workspace:_",
"@tanstack/devtools-event-bus": "workspace:_",
"@tanstack/devtools-ui": "workspace:\*",
"clsx": "^2.1.1",
"goober": "^2.1.16",
"solid-js": "^1.9.9"
},
"peerDependencies": {
"solid-js": ">=1.9.7"
},
"devDependencies": {
"tsup": "^8.5.0",
"tsup-preset-solid": "^2.2.0",
"vite-plugin-solid": "^2.11.8"
}
}

================================================
FILE: packages/devtools/tsconfig.docs.json
================================================
{
"extends": "./tsconfig.json",
"include": ["tests", "src"]
}

================================================
FILE: packages/devtools/tsconfig.json
================================================
{
"extends": "../../tsconfig.json",
"include": ["src", "*.config.*", "tests", "src/server"],
"compilerOptions": {
"jsxImportSource": "solid-js",
"jsx": "preserve",

    "types": ["vite/client"]

}
}

================================================
FILE: packages/devtools/tsup.config.ts
================================================
import { defineConfig } from 'tsup'
import { generateTsupOptions, parsePresetOptions } from 'tsup-preset-solid'

const preset_options = {
entries: {
entry: 'src/index.ts',
dev_entry: true,
server_entry: true,
},
cjs: false,
drop_console: true,
}

export default defineConfig(() => {
const parsed_data = parsePresetOptions(preset_options)
const tsup_options = generateTsupOptions(parsed_data)

return tsup_options.map((option) => ({
...option,
loader: {
'.png': 'dataurl',
},
}))
})

================================================
FILE: packages/devtools/vite.config.ts
================================================
import { defineConfig, mergeConfig } from 'vitest/config'
import { tanstackViteConfig } from '@tanstack/vite-config'
import solid from 'vite-plugin-solid'
import packageJson from './package.json'
import type { Plugin } from 'vite'

const config = defineConfig({
plugins: [solid() as any satisfies Plugin],
test: {
name: packageJson.name,
dir: './',
watch: false,
environment: 'jsdom',
setupFiles: ['./tests/test-setup.ts'],
globals: true,
},
})

export default mergeConfig(
config,
tanstackViteConfig({
entry: ['./src/index.ts'],
srcDir: './src',
cjs: false,
}),
)

================================================
FILE: packages/devtools/src/constants.ts
================================================
export const PLUGIN_CONTAINER_ID = 'plugin-container'
export const PLUGIN_TITLE_CONTAINER_ID = 'plugin-title-container'

================================================
FILE: packages/devtools/src/core.tsx
================================================
import { lazy } from 'solid-js'
import { Portal, render } from 'solid-js/web'
import { ClientEventBus } from '@tanstack/devtools-event-bus/client'
import { DevtoolsProvider } from './context/devtools-context'
import { initialState } from './context/devtools-store'
import { PiPProvider } from './context/pip-context'
import type { ClientEventBusConfig } from '@tanstack/devtools-event-bus/client'
import type {
TanStackDevtoolsConfig,
TanStackDevtoolsPlugin,
} from './context/devtools-context'

export interface TanStackDevtoolsInit {
/\*\*

- Configuration for the devtools shell. These configuration options are used to set the
- initial state of the devtools when it is started for the first time. Afterwards,
- the settings are persisted in local storage and changed through the settings panel.
  \*/
  config?: Partial<TanStackDevtoolsConfig>
  /\*\*
- Array of plugins to be used in the devtools.
- Each plugin has a `render` function that gives you the dom node to mount into
-
- Example:
- ```ts

  ```
- const devtools = new TanStackDevtoolsCore({
- plugins: [
-      {
-        id: "your-plugin-id",
-        name: "Your Plugin",
-        render: (el) => {
-          // Your render logic here
-        },
-      },
- ],
- })
- ```
     */
    plugins?: Array<TanStackDevtoolsPlugin>
    eventBusConfig?: ClientEventBusConfig
  }
  ```

export class TanStackDevtoolsCore {
#config: TanStackDevtoolsConfig = {
...initialState.settings,
}
#plugins: Array<TanStackDevtoolsPlugin> = []
#isMounted = false
#dispose?: () => void
#Component: any
#eventBus: ClientEventBus | undefined
#eventBusConfig: ClientEventBusConfig | undefined
#setPlugins?: (plugins: Array<TanStackDevtoolsPlugin>) => void

constructor(init: TanStackDevtoolsInit) {
this.#plugins = init.plugins || []
this.#eventBusConfig = init.eventBusConfig
this.#config = {
...this.#config,
...init.config,
}
}

mount<T extends HTMLElement>(el: T) {
// tsup-preset-solid statically replaces this variable during build, which eliminates this code from server bundle
// can be run outside of vite so we ignore the rule
// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
if (import.meta?.env?.SSR) return

    if (this.#isMounted) {
      throw new Error('Devtools is already mounted')
    }
    const mountTo = el
    const dispose = render(() => {
      this.#Component = lazy(() => import('./devtools'))
      const Devtools = this.#Component
      this.#eventBus = new ClientEventBus(this.#eventBusConfig)
      this.#eventBus.start()
      return (
        <DevtoolsProvider
          plugins={this.#plugins}
          config={this.#config}
          onSetPlugins={(setPlugins) => {
            this.#setPlugins = setPlugins
          }}
        >
          <PiPProvider>
            <Portal mount={mountTo}>
              <Devtools />
            </Portal>
          </PiPProvider>
        </DevtoolsProvider>
      )
    }, mountTo)

    this.#isMounted = true
    this.#dispose = dispose

}

unmount() {
if (!this.#isMounted) {
throw new Error('Devtools is not mounted')
}
this.#eventBus?.stop()
this.#dispose?.()
this.#isMounted = false
}

setConfig(config: Partial<TanStackDevtoolsInit>) {
this.#config = {
...this.#config,
...config,
}
if (config.plugins) {
this.#plugins = config.plugins
// Update the reactive store if mounted
if (this.#isMounted && this.#setPlugins) {
this.#setPlugins(config.plugins)
}
}
}
}

export type { ClientEventBusConfig }

================================================
FILE: packages/devtools/src/devtools.tsx
================================================
import { Show, createEffect, createSignal, onCleanup } from 'solid-js'
import { createShortcut } from '@solid-primitives/keyboard'
import { Portal } from 'solid-js/web'
import { ThemeContextProvider } from '@tanstack/devtools-ui'
import { devtoolsEventClient } from '@tanstack/devtools-client'

import {
useDevtoolsSettings,
useHeight,
usePersistOpen,
useTheme,
} from './context/use-devtools-context'
import { useDisableTabbing } from './hooks/use-disable-tabbing'
import { TANSTACK_DEVTOOLS } from './utils/storage'
import { getHotkeyPermutations } from './utils/hotkey'
import { Trigger } from './components/trigger'
import { MainPanel } from './components/main-panel'
import { ContentPanel } from './components/content-panel'
import { Tabs } from './components/tabs'
import { TabContent } from './components/tab-content'
import { usePiPWindow } from './context/pip-context'
import { SourceInspector } from './components/source-inspector'

export default function DevTools() {
const { settings } = useDevtoolsSettings()
const { setHeight } = useHeight()
const { persistOpen, setPersistOpen } = usePersistOpen()
const [rootEl, setRootEl] = createSignal<HTMLDivElement>()
const [isOpen, setIsOpen] = createSignal(
settings().defaultOpen || persistOpen(),
)
const pip = usePiPWindow()
let panelRef: HTMLDivElement | undefined = undefined
const [isResizing, setIsResizing] = createSignal(false)

const toggleOpen = () => {
if (pip().pipWindow) {
return
}
const open = isOpen()
const newState = !open
setIsOpen(newState)
setPersistOpen(newState)

    // Emit event when user toggles devtools
    devtoolsEventClient.emit('trigger-toggled', { isOpen: newState })

}

// Listen for trigger-toggled events to control devtools
createEffect(() => {
const unsubscribe = devtoolsEventClient.on('trigger-toggled', (event) => {
if (pip().pipWindow) {
return
}
const payload = event.payload as unknown as { isOpen: boolean }
const shouldBeOpen = payload.isOpen
if (shouldBeOpen !== isOpen()) {
setIsOpen(shouldBeOpen)
setPersistOpen(shouldBeOpen)
}
})

    onCleanup(unsubscribe)

})
// Used to resize the panel
const handleDragStart = (
panelElement: HTMLDivElement | undefined,
startEvent: MouseEvent,
) => {
if (startEvent.button !== 0) return // Only allow left click for drag
if (!panelElement) return
setIsResizing(true)

    const dragInfo = {
      originalHeight: panelElement.getBoundingClientRect().height,
      pageY: startEvent.pageY,
    }

    const run = (moveEvent: MouseEvent) => {
      const delta = dragInfo.pageY - moveEvent.pageY
      const newHeight =
        settings().panelLocation === 'bottom'
          ? dragInfo.originalHeight + delta
          : dragInfo.originalHeight - delta

      setHeight(newHeight)

      if (newHeight < 70) {
        setIsOpen(false)
      } else {
        setIsOpen(true)
      }
    }

    const unsub = () => {
      setIsResizing(false)
      document.removeEventListener('mousemove', run)
      document.removeEventListener('mouseUp', unsub)
    }

    document.addEventListener('mousemove', run)
    document.addEventListener('mouseup', unsub)

}

// Handle resizing and padding adjustments
createEffect(() => {
if (isOpen()) {
const previousValue = rootEl()?.parentElement?.style.paddingBottom

      const run = () => {
        if (!panelRef) return
        // const containerHeight = panelRef.getBoundingClientRect().height
        if (rootEl()?.parentElement) {
          setRootEl((prev) => {
            if (prev?.parentElement) {
              // prev.parentElement.style.paddingBottom = `${containerHeight}px`
            }
            return prev
          })
        }
      }

      run()

      if (typeof window !== 'undefined') {
        ;(pip().pipWindow ?? window).addEventListener('resize', run)

        return () => {
          ;(pip().pipWindow ?? window).removeEventListener('resize', run)
          if (rootEl()?.parentElement && typeof previousValue === 'string') {
            setRootEl((prev) => {
              // prev!.parentElement!.style.paddingBottom = previousValue
              return prev
            })
          }
        }
      }
    } else {
      // Reset padding when devtools are closed
      if (rootEl()?.parentElement) {
        setRootEl((prev) => {
          if (prev?.parentElement) {
            prev.parentElement.removeAttribute('style')
          }
          return prev
        })
      }
    }
    return

})

createEffect(() => {
window.addEventListener('keydown', (e) => {
if (e.key === 'Escape' && isOpen()) {
toggleOpen()
}
})
})
useDisableTabbing(isOpen)
createEffect(() => {
if (rootEl()) {
const el = rootEl()
const fontSize = getComputedStyle(el!).fontSize
el?.style.setProperty('--tsrd-font-size', fontSize)
}
})
createEffect(() => {
const permutations = getHotkeyPermutations(settings().openHotkey)

    for (const permutation of permutations) {
      createShortcut(permutation, () => {
        toggleOpen()
      })
    }

})

const { theme } = useTheme()

return (
<ThemeContextProvider theme={theme()}>
<Portal mount={(pip().pipWindow ?? window).document.body}>
<div ref={setRootEl} data-testid={TANSTACK_DEVTOOLS}>
<Show
when={
pip().pipWindow !== null
? true
: settings().requireUrlFlag
? window.location.search.includes(settings().urlFlag)
: true
} >
<Trigger isOpen={isOpen} setIsOpen={toggleOpen} />
<MainPanel isResizing={isResizing} isOpen={isOpen}>
<ContentPanel
ref={(ref) => (panelRef = ref)}
handleDragStart={(e) => handleDragStart(panelRef, e)} >
<Tabs toggleOpen={toggleOpen} />
<TabContent />
</ContentPanel>
</MainPanel>
</Show>
<SourceInspector />
</div>
</Portal>
</ThemeContextProvider>
)
}

================================================
FILE: packages/devtools/src/index.ts
================================================
export { PLUGIN_CONTAINER_ID, PLUGIN_TITLE_CONTAINER_ID } from './constants'
export { TanStackDevtoolsCore } from './core'
export type { TanStackDevtoolsInit, ClientEventBusConfig } from './core'
export type {
TanStackDevtoolsPlugin,
TanStackDevtoolsConfig,
} from './context/devtools-context'

================================================
FILE: packages/devtools/src/components/content-panel.tsx
================================================
import { useDevtoolsSettings } from '../context/use-devtools-context'
import { useStyles } from '../styles/use-styles'
import type { JSX } from 'solid-js/jsx-runtime'

export const ContentPanel = (props: {
ref: (el: HTMLDivElement | undefined) => void
children: JSX.Element
handleDragStart?: (e: any) => void
}) => {
const styles = useStyles()
const { settings } = useDevtoolsSettings()
return (
<div ref={props.ref} class={styles().devtoolsPanel}>
{props.handleDragStart ? (
<div
          class={styles().dragHandle(settings().panelLocation)}
          onMouseDown={props.handleDragStart}
        ></div>
) : null}
{props.children}
</div>
)
}

================================================
FILE: packages/devtools/src/components/main-panel.tsx
================================================
import clsx from 'clsx'
import { DrawClientProvider } from '../context/draw-context'
import { useDevtoolsSettings, useHeight } from '../context/use-devtools-context'
import { useStyles } from '../styles/use-styles'
import { TANSTACK_DEVTOOLS } from '../utils/storage'
import { usePiPWindow } from '../context/pip-context'

import type { Accessor, JSX } from 'solid-js'

export const MainPanel = (props: {
isOpen: Accessor<boolean>
children: JSX.Element
isResizing: Accessor<boolean>
}) => {
const styles = useStyles()
const { height } = useHeight()
const { settings } = useDevtoolsSettings()
const pip = usePiPWindow()
return (
<div
id={TANSTACK_DEVTOOLS}
style={{
        height: pip().pipWindow ? '100vh' : height() + 'px',
        '--tsd-main-panel-height': pip().pipWindow ? '100vh' : height() + 'px',
      }}
class={clsx(
styles().devtoolsPanelContainer(
settings().panelLocation,
Boolean(pip().pipWindow),
),
styles().devtoolsPanelContainerAnimation(
props.isOpen(),
height(),
settings().panelLocation,
),
styles().devtoolsPanelContainerVisibility(props.isOpen()),
styles().devtoolsPanelContainerResizing(props.isResizing),
)} >
<DrawClientProvider animationMs={400}>
{props.children}
</DrawClientProvider>
</div>
)
}

================================================
FILE: packages/devtools/src/components/source-inspector.tsx
================================================
import { createEffect, createMemo, createSignal } from 'solid-js'
import { createStore } from 'solid-js/store'
import { createElementSize } from '@solid-primitives/resize-observer'
import { useKeyDownList } from '@solid-primitives/keyboard'
import { createEventListener } from '@solid-primitives/event-listener'

import { useDevtoolsSettings } from '../context/use-devtools-context'
import { isHotkeyCombinationPressed } from '../utils/hotkey'

export const SourceInspector = () => {
const { settings } = useDevtoolsSettings()
const highlightStateInit = () => ({
element: null as HTMLElement | null,
bounding: { width: 0, height: 0, left: 0, top: 0 },
dataSource: '',
})

const [highlightState, setHighlightState] = createStore(highlightStateInit())
const resetHighlight = () => {
setHighlightState(highlightStateInit())
}

const [nameTagRef, setNameTagRef] = createSignal<HTMLDivElement | null>(null)
const nameTagSize = createElementSize(() => nameTagRef())

const [mousePosition, setMousePosition] = createStore({ x: 0, y: 0 })
createEventListener(document, 'mousemove', (e) => {
setMousePosition({ x: e.clientX, y: e.clientY })
})

const downList = useKeyDownList()

const isHighlightingKeysHeld = createMemo(() => {
return isHotkeyCombinationPressed(downList(), settings().inspectHotkey)
})

createEffect(() => {
if (!isHighlightingKeysHeld()) {
resetHighlight()
return
}

    const target = document.elementFromPoint(mousePosition.x, mousePosition.y)

    if (!(target instanceof HTMLElement)) {
      resetHighlight()
      return
    }

    if (target === highlightState.element) {
      return
    }

    const dataSource = target.getAttribute('data-tsd-source')
    if (!dataSource) {
      resetHighlight()
      return
    }

    const rect = target.getBoundingClientRect()
    const bounding = {
      width: rect.width,
      height: rect.height,
      left: rect.left,
      top: rect.top,
    }

    setHighlightState({
      element: target,
      bounding,
      dataSource,
    })

})

createEventListener(document, 'click', (e) => {
if (!highlightState.element) return

    window.getSelection()?.removeAllRanges()
    e.preventDefault()
    e.stopPropagation()

    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
    const baseUrl = new URL(import.meta?.env?.BASE_URL ?? '/', location.origin)
    const url = new URL(
      `__tsd/open-source?source=${encodeURIComponent(
        highlightState.dataSource,
      )}`,
      baseUrl,
    )
    fetch(url).catch(() => {})

})

const currentElementBoxStyles = createMemo(() => {
if (highlightState.element) {
return {
display: 'block',
width: `${highlightState.bounding.width}px`,
height: `${highlightState.bounding.height}px`,
left: `${highlightState.bounding.left}px`,
top: `${highlightState.bounding.top}px`,

        'background-color': 'oklch(55.4% 0.046 257.417 /0.25)',
        transition: 'all 0.05s linear',
        position: 'fixed' as const,
        'z-index': 9999,
      }
    }
    return {
      display: 'none',
    }

})

const fileNameStyles = createMemo(() => {
if (highlightState.element && nameTagRef()) {
const windowWidth = window.innerWidth
const nameTagHeight = nameTagSize.height || 26
const nameTagWidth = nameTagSize.width || 0
let left = highlightState.bounding.left
let top = highlightState.bounding.top - nameTagHeight - 4

      if (top < 0) {
        top = highlightState.bounding.top + highlightState.bounding.height + 4
      }

      if (left + nameTagWidth > windowWidth) {
        left = windowWidth - nameTagWidth - 4
      }

      if (left < 0) {
        left = 4
      }

      return {
        position: 'fixed' as const,
        left: `${left}px`,
        top: `${top}px`,
        'background-color': 'oklch(55.4% 0.046 257.417 /0.80)',
        color: 'white',
        padding: '2px 4px',
        fontSize: '12px',
        'border-radius': '2px',
        'z-index': 10000,
        visibility: 'visible' as const,
        transition: 'all 0.05s linear',
      }
    }
    return {
      display: 'none',
    }

})

return (
<>
<div
ref={setNameTagRef}
style={{ ...fileNameStyles(), 'pointer-events': 'none' }} >
{highlightState.dataSource}
</div>
<div style={{ ...currentElementBoxStyles(), 'pointer-events': 'none' }} />
</>
)
}

================================================
FILE: packages/devtools/src/components/tab-content.tsx
================================================
import { createMemo } from 'solid-js'
import { useDevtoolsState } from '../context/use-devtools-context'
import { tabs } from '../tabs'
import { useStyles } from '../styles/use-styles'
import type { JSX } from 'solid-js'

export const TabContent = () => {
const { state } = useDevtoolsState()
const styles = useStyles()
const component = createMemo<(() => JSX.Element) | null>(
() => tabs.find((t) => t.id === state().activeTab)?.component || null,
)

return <div class={styles().tabContent}>{component()?.()}</div>
}

================================================
FILE: packages/devtools/src/components/tabs.tsx
================================================
import clsx from 'clsx'
import { For } from 'solid-js'
import { PiP, X } from '@tanstack/devtools-ui/icons'
import { useStyles } from '../styles/use-styles'
import { useDevtoolsState } from '../context/use-devtools-context'
import { useDrawContext } from '../context/draw-context'
import { tabs } from '../tabs'
import { usePiPWindow } from '../context/pip-context'

interface TabsProps {
toggleOpen: () => void
}

export const Tabs = (props: TabsProps) => {
const styles = useStyles()
const { state, setState } = useDevtoolsState()
const pipWindow = usePiPWindow()
const handleDetachment = () => {
pipWindow().requestPipWindow(
`width=${window.innerWidth},height=${state().height},top=${window.screen.height},left=${window.screenLeft}}`,
)
}
const { hoverUtils } = useDrawContext()

return (
<div class={styles().tabContainer}>
<For each={tabs}>
{(tab) => (
<button
type="button"
onClick={() => setState({ activeTab: tab.id })}
class={clsx(styles().tab, { active: state().activeTab === tab.id })}
onMouseEnter={() => {
if (tab.id === 'plugins') hoverUtils.enter()
}}
onMouseLeave={() => {
if (tab.id === 'plugins') hoverUtils.leave()
}} >
{tab.icon()}
</button>
)}
</For>
{pipWindow().pipWindow !== null ? null : (
<div
style={{
            'margin-top': 'auto',
          }} >
<button
type="button"
class={clsx(styles().tab, 'detach')}
onClick={handleDetachment} >
<PiP />
</button>
<button
type="button"
class={clsx(styles().tab, 'close')}
onClick={() => props.toggleOpen()} >
<X />
</button>
</div>
)}
</div>
)
}

================================================
FILE: packages/devtools/src/components/trigger.tsx
================================================
import { Show, createEffect, createMemo, createSignal } from 'solid-js'
import clsx from 'clsx'
import { useDevtoolsSettings } from '../context/use-devtools-context'
import { useStyles } from '../styles/use-styles'
import TanStackLogo from './tanstack-logo.png'
import type { Accessor } from 'solid-js'

export const Trigger = (props: {
isOpen: Accessor<boolean>
setIsOpen: (isOpen: boolean) => void
}) => {
const { settings } = useDevtoolsSettings()
const [containerRef, setContainerRef] = createSignal<HTMLElement>()
const styles = useStyles()
const buttonStyle = createMemo(() => {
return clsx(
styles().mainCloseBtn,
styles().mainCloseBtnPosition(settings().position),
styles().mainCloseBtnAnimation(props.isOpen(), settings().hideUntilHover),
)
})

createEffect(() => {
const triggerComponent = settings().customTrigger
const el = containerRef()
if (triggerComponent && el) {
triggerComponent(el, {
theme: settings().theme,
})
}
})

return (
<Show when={!settings().triggerHidden}>
<button
type="button"
aria-label="Open TanStack Devtools"
class={buttonStyle()}
onClick={() => props.setIsOpen(!props.isOpen())} >
<Show
when={settings().customTrigger}
fallback={<img src={TanStackLogo} alt="TanStack Devtools" />} >
<div ref={setContainerRef} />
</Show>
</button>
</Show>
)
}

================================================
FILE: packages/devtools/src/context/devtools-context.test.ts
================================================
import { beforeEach, describe, expect, it } from 'vitest'
import { TANSTACK_DEVTOOLS_STATE } from '../utils/storage'
import {
getExistingStateFromStorage,
getStateFromLocalStorage,
} from './devtools-context'
import type { TanStackDevtoolsPlugin } from './devtools-context'

describe('getStateFromLocalStorage', () => {
beforeEach(() => {
localStorage.clear()
})
it('should return undefined when no data in localStorage', () => {
const state = getStateFromLocalStorage(undefined)
expect(state).toEqual(undefined)
})
it('should return parsed state from localStorage and not remove valid plugins', () => {
const mockState = {
activePlugins: ['plugin1'],
settings: {
theme: 'dark',
},
}
localStorage.setItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(mockState))
const state = getStateFromLocalStorage([
{
id: 'plugin1',
render: () => {},
name: 'Plugin 1',
},
])
expect(state).toEqual(mockState)
})
it('should filter out inactive plugins', () => {
const mockState = {
activePlugins: ['plugin1', 'plugin2'],
settings: {
theme: 'dark',
},
}
localStorage.setItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(mockState))
const plugins = [{ id: 'plugin1', render: () => {}, name: 'Plugin 1' }]
const state = getStateFromLocalStorage(plugins)
expect(state?.activePlugins).toEqual(['plugin1'])
})
it('should return empty plugin state if all active plugins are invalid', () => {
const mockState = {
activePlugins: ['plugin1', 'plugin2'],
settings: {
theme: 'dark',
},
}
localStorage.setItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(mockState))
const plugins = [{ id: 'plugin3', render: () => {}, name: 'Plugin 3' }]
const state = getStateFromLocalStorage(plugins)
expect(state?.activePlugins).toEqual([])
})
it('should handle invalid JSON in localStorage gracefully', () => {
localStorage.setItem(TANSTACK_DEVTOOLS_STATE, 'invalid json')
const state = getStateFromLocalStorage(undefined)
expect(state).toEqual(undefined)
})

it('should return undefined when no localStorage state exists (allowing defaultOpen to be applied)', () => {
// No existing state in localStorage - this allows defaultOpen logic to trigger
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'plugin1',
render: () => {},
name: 'Plugin 1',
defaultOpen: true,
},
{
id: 'plugin2',
render: () => {},
name: 'Plugin 2',
defaultOpen: false,
},
{
id: 'plugin3',
render: () => {},
name: 'Plugin 3',
defaultOpen: true,
},
]

    // When undefined is returned, getExistingStateFromStorage will fill activePlugins with defaultOpen plugins
    const state = getStateFromLocalStorage(plugins)
    expect(state).toEqual(undefined)

})

it('should preserve existing activePlugins from localStorage (defaultOpen should not override)', () => {
const mockState = {
activePlugins: ['plugin2'],
settings: {
theme: 'dark',
},
}
localStorage.setItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(mockState))

    const plugins: Array<TanStackDevtoolsPlugin> = [
      {
        id: 'plugin1',
        render: () => {},
        name: 'Plugin 1',
        defaultOpen: true,
      },
      {
        id: 'plugin2',
        render: () => {},
        name: 'Plugin 2',
        defaultOpen: false,
      },
    ]

    const state = getStateFromLocalStorage(plugins)
    // Should keep existing activePlugins - defaultOpen logic won't override in getExistingStateFromStorage
    expect(state?.activePlugins).toEqual(['plugin2'])

})

it('should automatically activate a single plugin when no active plugins exist', () => {
// No existing state in localStorage
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'only-plugin',
render: () => {},
name: 'Only Plugin',
},
]

    const state = getStateFromLocalStorage(plugins)
    // Should return undefined - the single plugin activation happens in getExistingStateFromStorage
    expect(state).toEqual(undefined)

})
})

describe('getExistingStateFromStorage - integration tests', () => {
beforeEach(() => {
localStorage.clear()
})

it('should automatically activate a single plugin when no localStorage state exists', () => {
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'only-plugin',
render: () => {},
name: 'Only Plugin',
},
]

    const state = getExistingStateFromStorage(undefined, plugins)
    expect(state.state.activePlugins).toEqual(['only-plugin'])
    expect(state.plugins).toHaveLength(1)
    expect(state.plugins![0]?.id).toBe('only-plugin')

})

it('should activate plugins with defaultOpen: true when no localStorage state exists', () => {
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'plugin1',
render: () => {},
name: 'Plugin 1',
defaultOpen: true,
},
{
id: 'plugin2',
render: () => {},
name: 'Plugin 2',
defaultOpen: false,
},
{
id: 'plugin3',
render: () => {},
name: 'Plugin 3',
defaultOpen: true,
},
]

    const state = getExistingStateFromStorage(undefined, plugins)
    expect(state.state.activePlugins).toEqual(['plugin1', 'plugin3'])
    expect(state.plugins).toHaveLength(3)

})

it('should limit defaultOpen plugins to MAX_ACTIVE_PLUGINS (3) when 5 have defaultOpen: true', () => {
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'plugin1',
render: () => {},
name: 'Plugin 1',
defaultOpen: true,
},
{
id: 'plugin2',
render: () => {},
name: 'Plugin 2',
defaultOpen: true,
},
{
id: 'plugin3',
render: () => {},
name: 'Plugin 3',
defaultOpen: true,
},
{
id: 'plugin4',
render: () => {},
name: 'Plugin 4',
defaultOpen: true,
},
{
id: 'plugin5',
render: () => {},
name: 'Plugin 5',
defaultOpen: true,
},
]

    const state = getExistingStateFromStorage(undefined, plugins)
    // Should only activate first 3 plugins
    expect(state.state.activePlugins).toEqual(['plugin1', 'plugin2', 'plugin3'])
    expect(state.state.activePlugins).toHaveLength(3)
    expect(state.state.activePlugins).not.toContain('plugin4')
    expect(state.state.activePlugins).not.toContain('plugin5')
    // All 5 plugins should still be in the plugins array
    expect(state.plugins).toHaveLength(5)

})

it('should preserve existing activePlugins from localStorage even when plugins have defaultOpen', () => {
const mockState = {
activePlugins: ['plugin2', 'plugin4'],
settings: {
theme: 'dark',
},
}
localStorage.setItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(mockState))

    const plugins: Array<TanStackDevtoolsPlugin> = [
      {
        id: 'plugin1',
        render: () => {},
        name: 'Plugin 1',
        defaultOpen: true,
      },
      {
        id: 'plugin2',
        render: () => {},
        name: 'Plugin 2',
        defaultOpen: false,
      },
      {
        id: 'plugin3',
        render: () => {},
        name: 'Plugin 3',
        defaultOpen: true,
      },
      {
        id: 'plugin4',
        render: () => {},
        name: 'Plugin 4',
        defaultOpen: false,
      },
    ]

    const state = getExistingStateFromStorage(undefined, plugins)
    // Should preserve the localStorage state, not use defaultOpen
    expect(state.state.activePlugins).toEqual(['plugin2', 'plugin4'])
    expect(state.plugins).toHaveLength(4)

})

it('should return empty activePlugins when no defaultOpen and multiple plugins', () => {
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'plugin1',
render: () => {},
name: 'Plugin 1',
},
{
id: 'plugin2',
render: () => {},
name: 'Plugin 2',
},
{
id: 'plugin3',
render: () => {},
name: 'Plugin 3',
},
]

    const state = getExistingStateFromStorage(undefined, plugins)
    expect(state.state.activePlugins).toEqual([])
    expect(state.plugins).toHaveLength(3)

})

it('should handle single plugin with defaultOpen: false by activating it anyway', () => {
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'only-plugin',
render: () => {},
name: 'Only Plugin',
defaultOpen: false,
},
]

    const state = getExistingStateFromStorage(undefined, plugins)
    // Single plugin should be activated regardless of defaultOpen flag
    expect(state.state.activePlugins).toEqual(['only-plugin'])

})

it('should merge config settings into the returned state', () => {
const plugins: Array<TanStackDevtoolsPlugin> = [
{
id: 'plugin1',
render: () => {},
name: 'Plugin 1',
},
]

    const config = {
      theme: 'light' as const,
    }

    const state = getExistingStateFromStorage(config as any, plugins)
    expect(state.settings.theme).toBe('light')
    expect(state.state.activePlugins).toEqual(['plugin1'])

})
})

================================================
FILE: packages/devtools/src/context/devtools-context.tsx
================================================
import { createContext, createEffect } from 'solid-js'
import { createStore } from 'solid-js/store'
import { getDefaultActivePlugins } from '../utils/get-default-active-plugins'
import { tryParseJson } from '../utils/sanitize'
import {
TANSTACK_DEVTOOLS_SETTINGS,
TANSTACK_DEVTOOLS_STATE,
getStorageItem,
setStorageItem,
} from '../utils/storage'
import { initialState } from './devtools-store'
import type { DevtoolsStore } from './devtools-store'
import type { JSX, Setter } from 'solid-js'

export interface TanStackDevtoolsPlugin {
/\*\*

- Name to be displayed in the devtools UI.
- If a string, it will be used as the plugin name.
- If a function, it will be called with the mount element.
-
- Example:
- ```ts

  ```
- {
-     // If a string, it will be used as the plugin name
-     name: "Your Plugin",
-     render: () => {}
- }
- ```

  ```
- or
-
- ```ts

  ```
- {
-     // If a function, it will be called with the mount element
-     name: (el) => {
-       el.innerText = "Your Plugin Name"
-       // Your name logic here
-     },
-     render: () => {}
- }
- ```
   */
  name:
    | string
    | ((
        el: HTMLHeadingElement,
        theme: DevtoolsStore['settings']['theme'],
      ) => void)
  /**
  ```
- Unique identifier for the plugin.
- If not provided, it will be generated based on the name.
  \*/
  id?: string
  /\*\*
- Whether the plugin should be open by default when there are no active plugins.
- If true, this plugin will be added to activePlugins on initial load when activePlugins is empty.
- @default false
  \*/
  defaultOpen?: boolean
  /\*\*
- Render the plugin UI by using the provided element. This function will be called
- when the plugin tab is clicked and expected to be mounted.
- @param el The mount element for the plugin.
- @returns void
-
- Example:
- ```ts

  ```
- render: (el) => {
-     el.innerHTML = "<h1>Your Plugin</h1>"
- }
- ```
   */
  render: (
    el: HTMLDivElement,
    theme: DevtoolsStore['settings']['theme'],
  ) => void
  ```

destroy?: (pluginId: string) => void
}
export const DevtoolsContext = createContext<{
store: DevtoolsStore
setStore: Setter<DevtoolsStore>
}>()

interface ContextProps {
children: JSX.Element
plugins?: Array<TanStackDevtoolsPlugin>
config?: TanStackDevtoolsConfig
onSetPlugins?: (
setPlugins: (plugins: Array<TanStackDevtoolsPlugin>) => void,
) => void
}

const getSettings = () => {
const settingsString = getStorageItem(TANSTACK_DEVTOOLS_SETTINGS)
const settings = tryParseJson<DevtoolsStore['settings']>(settingsString)
return {
...settings,
}
}

const generatePluginId = (plugin: TanStackDevtoolsPlugin, index: number) => {
// if set by user, return the plugin id
if (plugin.id) {
return plugin.id
}
if (typeof plugin.name === 'string') {
// if name is a string, use it to generate an id
return `${plugin.name.toLowerCase().replace(' ', '-')}-${index}`
}
// Name is JSX? return the index as a string
return index.toString()
}

export function getStateFromLocalStorage(
plugins: Array<TanStackDevtoolsPlugin> | undefined,
) {
const existingStateString = getStorageItem(TANSTACK_DEVTOOLS_STATE)
const existingState =
tryParseJson<DevtoolsStore['state']>(existingStateString)
const pluginIds =
plugins?.map((plugin, i) => generatePluginId(plugin, i)) || []

if (existingState?.activePlugins) {
const originalLength = existingState.activePlugins.length
// Filter out any active plugins that are no longer available
existingState.activePlugins = existingState.activePlugins.filter((id) =>
pluginIds.includes(id),
)

    if (existingState.activePlugins.length !== originalLength) {
      // If any active plugins were removed, update local storage
      setStorageItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(existingState))
    }

}

return existingState
}

export const getExistingStateFromStorage = (
config?: TanStackDevtoolsConfig,
plugins?: Array<TanStackDevtoolsPlugin>,
) => {
const existingState = getStateFromLocalStorage(plugins)
const settings = getSettings()

const pluginsWithIds =
plugins?.map((plugin, i) => {
const id = generatePluginId(plugin, i)
return {
...plugin,
id,
}
}) || []

// If no active plugins exist, add plugins with defaultOpen: true
// Or if there's only 1 plugin, activate it automatically
let activePlugins = existingState?.activePlugins || []

const shouldFillWithDefaultOpenPlugins =
activePlugins.length === 0 && pluginsWithIds.length > 0
if (shouldFillWithDefaultOpenPlugins) {
activePlugins = getDefaultActivePlugins(pluginsWithIds)
}

const state: DevtoolsStore = {
...initialState,
plugins: pluginsWithIds,
state: {
...initialState.state,
...existingState,
activePlugins,
},
settings: {
...initialState.settings,
...config,
...settings,
},
}
return state
}

export type TanStackDevtoolsConfig = DevtoolsStore['settings']

export const DevtoolsProvider = (props: ContextProps) => {
const [store, setStore] = createStore(
getExistingStateFromStorage(props.config, props.plugins),
)

// Provide a way for the core to update plugins reactively
const updatePlugins = (newPlugins: Array<TanStackDevtoolsPlugin>) => {
const pluginsWithIds = newPlugins.map((plugin, i) => {
const id = generatePluginId(plugin, i)
return {
...plugin,
id,
}
})

    setStore('plugins', pluginsWithIds)

}

// Call the callback to give core access to updatePlugins
createEffect(() => {
if (props.onSetPlugins) {
props.onSetPlugins(updatePlugins)
}
})

const value = {
store,
setStore: (
updater: (prev: DevtoolsStore) => DevtoolsStore | Partial<DevtoolsStore>,
) => {
const newState = updater(store)
const { settings, state: internalState } = newState
// Store user settings for dev tools into local storage
setStorageItem(TANSTACK_DEVTOOLS_SETTINGS, JSON.stringify(settings))
// Store general state into local storage
setStorageItem(TANSTACK_DEVTOOLS_STATE, JSON.stringify(internalState))
setStore((prev) => ({
...prev,
...newState,
}))
},
}

return (
<DevtoolsContext.Provider value={value}>
{props.children}
</DevtoolsContext.Provider>
)
}

================================================
FILE: packages/devtools/src/context/devtools-store.ts
================================================
import type { TabName } from '../tabs'
import type { TanStackDevtoolsPlugin } from './devtools-context'

type ModifierKey = 'Alt' | 'Control' | 'Meta' | 'Shift' | 'CtrlOrMeta'
type KeyboardKey = ModifierKey | (string & {})
export type { ModifierKey, KeyboardKey }
export const keyboardModifiers: Array<ModifierKey> = [
'Alt',
'Control',
'Meta',
'Shift',
'CtrlOrMeta',
]

type TriggerPosition =
| 'top-left'
| 'top-right'
| 'bottom-left'
| 'bottom-right'
| 'middle-left'
| 'middle-right'

type TriggerProps = {
theme: 'light' | 'dark'
}

export type DevtoolsStore = {
settings: {
/**
_ Whether the dev tools should be open by default
_ @default false
\*/
defaultOpen: boolean
/**
_ Whether the dev tools trigger should be hidden until the user hovers over it
_ @default false
_/
hideUntilHover: boolean
/\*\*
_ The position of the trigger button
_ @default "bottom-right"
_/
position: TriggerPosition

    /**
     * The location of the panel once it is open
     * @default "bottom"
     */
    panelLocation: 'top' | 'bottom'
    /**
     * The hotkey to open the dev tools
     * @default ["Control", "~"]
     */
    openHotkey: Array<KeyboardKey>
    /**
     * The hotkey to open the source inspector
     * @default ["Shift", "CtrlOrMeta"]
     */
    inspectHotkey: Array<KeyboardKey>
    /**
     * Whether to require the URL flag to open the dev tools
     * @default false
     */
    requireUrlFlag: boolean
    /**
     * The URL flag to open the dev tools, used in conjunction with requireUrlFlag (if set to true)
     * @default "tanstack-devtools"
     */
    urlFlag: string
    /**
     * The theme of the dev tools
     * @default "dark"
     */
    theme: 'light' | 'dark'

    /**
     * Whether the trigger should be completely hidden or not (you can still open with the hotkey)
     */
    triggerHidden?: boolean
    /**
     * An optional custom function to render the dev tools trigger component.
     * If provided, it replaces the default trigger button.
     * @default undefined
     */
    customTrigger?: (el: HTMLElement, props: TriggerProps) => void

}
state: {
activeTab: TabName
height: number
activePlugins: Array<string>
persistOpen: boolean
}
plugins?: Array<TanStackDevtoolsPlugin>
}

export const initialState: DevtoolsStore = {
settings: {
defaultOpen: false,
hideUntilHover: false,
position: 'bottom-right',
panelLocation: 'bottom',
openHotkey: ['Control', '~'],
inspectHotkey: ['Shift', 'CtrlOrMeta'],
requireUrlFlag: false,
urlFlag: 'tanstack-devtools',
theme:
typeof window !== 'undefined' &&
typeof window.matchMedia !== 'undefined' &&
window.matchMedia('(prefers-color-scheme: dark)').matches
? 'dark'
: 'light',
triggerHidden: false,
customTrigger: undefined,
},
state: {
activeTab: 'plugins',
height: 400,
activePlugins: [],
persistOpen: false,
},
}

================================================
FILE: packages/devtools/src/context/draw-context.tsx
================================================
import {
createContext,
createMemo,
createSignal,
onCleanup,
useContext,
} from 'solid-js'
import type { ParentComponent } from 'solid-js'

const useDraw = (props: { animationMs: number }) => {
const [activeHover, setActiveHover] = createSignal<boolean>(false)
const [forceExpand, setForceExpand] = createSignal<boolean>(false)

const expanded = createMemo(() => activeHover() || forceExpand())

let hoverTimeout: ReturnType<typeof setTimeout> | null = null
onCleanup(() => {
if (hoverTimeout) clearTimeout(hoverTimeout)
})

const hoverUtils = {
enter: () => {
if (hoverTimeout) {
clearTimeout(hoverTimeout)
hoverTimeout = null
}
setActiveHover(true)
},

    leave: () => {
      hoverTimeout = setTimeout(() => {
        setActiveHover(false)
      }, props.animationMs)
    },

}

return {
expanded,
setForceExpand,
hoverUtils,
animationMs: props.animationMs,
}
}

type ContextType = ReturnType<typeof useDraw>

const DrawContext = createContext<ContextType | undefined>(undefined)

export const DrawClientProvider: ParentComponent<{
animationMs: number
}> = (props) => {
const value = useDraw({ animationMs: props.animationMs })

return (
<DrawContext.Provider value={value}>{props.children}</DrawContext.Provider>
)
}

export function useDrawContext() {
const context = useContext(DrawContext)

if (context === undefined) {
throw new Error(`useDrawContext must be used within a DrawClientProvider`)
}

return context
}

================================================
FILE: packages/devtools/src/context/pip-context.tsx
================================================
import {
createContext,
createEffect,
createMemo,
createSignal,
onCleanup,
useContext,
} from 'solid-js'
import { delegateEvents } from 'solid-js/web'
import type { Accessor, JSX } from 'solid-js'

interface PiPProviderProps
